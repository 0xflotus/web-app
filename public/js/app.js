var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(b){this.toString=function(){return"CORRUPT: "+this.message};this.message=b},invalid:function(b){this.toString=function(){return"INVALID: "+this.message};this.message=b},bug:function(b){this.toString=function(){return"BUG: "+this.message};this.message=b},notReady:function(b){this.toString=function(){return"NOT READY: "+this.message};this.message=b}}};
"undefined"!==typeof module&&module.exports&&(module.exports=sjcl);"function"===typeof define&&define([],function(){return sjcl});
sjcl.cipher.aes=function(b){this.s[0][0][0]||this.O();var a,e,d,g,f=this.s[0][4],h=this.s[1];a=b.length;var k=1;if(4!==a&&6!==a&&8!==a)throw new sjcl.exception.invalid("invalid aes key size");this.b=[d=b.slice(0),g=[]];for(b=a;b<4*a+28;b++){e=d[b-1];if(0===b%a||8===a&&4===b%a)e=f[e>>>24]<<24^f[e>>16&255]<<16^f[e>>8&255]<<8^f[e&255],0===b%a&&(e=e<<8^e>>>24^k<<24,k=k<<1^283*(k>>7));d[b]=d[b-a]^e}for(a=0;b;a++,b--)e=d[a&3?b:b-4],g[a]=4>=b||4>a?e:h[0][f[e>>>24]]^h[1][f[e>>16&255]]^h[2][f[e>>8&255]]^h[3][f[e&
255]]};
sjcl.cipher.aes.prototype={encrypt:function(b){return u(this,b,0)},decrypt:function(b){return u(this,b,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var b=this.s[0],a=this.s[1],e=b[4],d=a[4],g,f,h,k=[],l=[],n,p,q,t;for(g=0;256>g;g++)l[(k[g]=g<<1^283*(g>>7))^g]=g;for(f=h=0;!e[f];f^=n||1,h=l[h]||1)for(q=h^h<<1^h<<2^h<<3^h<<4,q=q>>8^q&255^99,e[f]=q,d[q]=f,p=k[g=k[n=k[f]]],t=16843009*p^65537*g^257*n^16843008*f,p=257*k[q]^16843008*q,g=0;4>g;g++)b[g][f]=p=p<<24^p>>>8,a[g][q]=t=t<<24^t>>>8;for(g=
0;5>g;g++)b[g]=b[g].slice(0),a[g]=a[g].slice(0)}};
function u(b,a,e){if(4!==a.length)throw new sjcl.exception.invalid("invalid aes block size");var d=b.b[e],g=a[0]^d[0],f=a[e?3:1]^d[1],h=a[2]^d[2];a=a[e?1:3]^d[3];var k,l,n,p=d.length/4-2,q,t=4,r=[0,0,0,0];k=b.s[e];b=k[0];var w=k[1],K=k[2],Q=k[3],V=k[4];for(q=0;q<p;q++)k=b[g>>>24]^w[f>>16&255]^K[h>>8&255]^Q[a&255]^d[t],l=b[f>>>24]^w[h>>16&255]^K[a>>8&255]^Q[g&255]^d[t+1],n=b[h>>>24]^w[a>>16&255]^K[g>>8&255]^Q[f&255]^d[t+2],a=b[a>>>24]^w[g>>16&255]^K[f>>8&255]^Q[h&255]^d[t+3],t+=4,g=k,f=l,h=n;for(q=
0;4>q;q++)r[e?3&-q:q]=V[g>>>24]<<24^V[f>>16&255]<<16^V[h>>8&255]<<8^V[a&255]^d[t++],k=g,g=f,f=h,h=a,a=k;return r}
sjcl.bitArray={bitSlice:function(b,a,e){b=sjcl.bitArray.$(b.slice(a/32),32-(a&31)).slice(1);return void 0===e?b:sjcl.bitArray.clamp(b,e-a)},extract:function(b,a,e){var d=Math.floor(-a-e&31);return((a+e-1^a)&-32?b[a/32|0]<<32-d^b[a/32+1|0]>>>d:b[a/32|0]>>>d)&(1<<e)-1},concat:function(b,a){if(0===b.length||0===a.length)return b.concat(a);var e=b[b.length-1],d=sjcl.bitArray.getPartial(e);return 32===d?b.concat(a):sjcl.bitArray.$(a,d,e|0,b.slice(0,b.length-1))},bitLength:function(b){var a=b.length;return 0===
a?0:32*(a-1)+sjcl.bitArray.getPartial(b[a-1])},clamp:function(b,a){if(32*b.length<a)return b;b=b.slice(0,Math.ceil(a/32));var e=b.length;a&=31;0<e&&a&&(b[e-1]=sjcl.bitArray.partial(a,b[e-1]&2147483648>>a-1,1));return b},partial:function(b,a,e){return 32===b?a:(e?a|0:a<<32-b)+1099511627776*b},getPartial:function(b){return Math.round(b/1099511627776)||32},equal:function(b,a){if(sjcl.bitArray.bitLength(b)!==sjcl.bitArray.bitLength(a))return!1;var e=0,d;for(d=0;d<b.length;d++)e|=b[d]^a[d];return 0===
e},$:function(b,a,e,d){var g;for(void 0===d&&(d=[]);32<=a;a-=32)d.push(e),e=0;if(0===a)return d.concat(b);for(g=0;g<b.length;g++)d.push(e|b[g]>>>a),e=b[g]<<32-a;g=b.length?b[b.length-1]:0;b=sjcl.bitArray.getPartial(g);d.push(sjcl.bitArray.partial(a+b&31,32<a+b?e:d.pop(),1));return d},i:function(b,a){return[b[0]^a[0],b[1]^a[1],b[2]^a[2],b[3]^a[3]]},byteswapM:function(b){var a,e;for(a=0;a<b.length;++a)e=b[a],b[a]=e>>>24|e>>>8&65280|(e&65280)<<8|e<<24;return b}};
sjcl.codec.utf8String={fromBits:function(b){var a="",e=sjcl.bitArray.bitLength(b),d,g;for(d=0;d<e/8;d++)0===(d&3)&&(g=b[d/4]),a+=String.fromCharCode(g>>>24),g<<=8;return decodeURIComponent(escape(a))},toBits:function(b){b=unescape(encodeURIComponent(b));var a=[],e,d=0;for(e=0;e<b.length;e++)d=d<<8|b.charCodeAt(e),3===(e&3)&&(a.push(d),d=0);e&3&&a.push(sjcl.bitArray.partial(8*(e&3),d));return a}};
sjcl.codec.hex={fromBits:function(b){var a="",e;for(e=0;e<b.length;e++)a+=((b[e]|0)+0xf00000000000).toString(16).substr(4);return a.substr(0,sjcl.bitArray.bitLength(b)/4)},toBits:function(b){var a,e=[],d;b=b.replace(/\s|0x/g,"");d=b.length;b+="00000000";for(a=0;a<b.length;a+=8)e.push(parseInt(b.substr(a,8),16)^0);return sjcl.bitArray.clamp(e,4*d)}};
sjcl.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(b,a,e){var d=sjcl.codec.base32.BASE,g=sjcl.codec.base32.REMAINING,f="",h=0,k=sjcl.codec.base32.B,l=0,n=sjcl.bitArray.bitLength(b);e&&(k=sjcl.codec.base32.X);for(e=0;f.length*d<n;)f+=k.charAt((l^b[e]>>>h)>>>g),h<d?(l=b[e]<<d-h,h+=g,e++):(l<<=d,h-=d);for(;f.length&7&&!a;)f+="=";return f},toBits:function(b,a){b=b.replace(/\s|=/g,"").toUpperCase();var e=sjcl.codec.base32.BITS,
d=sjcl.codec.base32.BASE,g=sjcl.codec.base32.REMAINING,f=[],h,k=0,l=sjcl.codec.base32.B,n=0,p,q="base32";a&&(l=sjcl.codec.base32.X,q="base32hex");for(h=0;h<b.length;h++){p=l.indexOf(b.charAt(h));if(0>p){if(!a)try{return sjcl.codec.base32hex.toBits(b)}catch(t){}throw new sjcl.exception.invalid("this isn't "+q+"!");}k>g?(k-=g,f.push(n^p>>>k),n=p<<e-k):(k+=d,n^=p<<e-k)}k&56&&f.push(sjcl.bitArray.partial(k&56,n,1));return f}};
sjcl.codec.base32hex={fromBits:function(b,a){return sjcl.codec.base32.fromBits(b,a,1)},toBits:function(b){return sjcl.codec.base32.toBits(b,1)}};
sjcl.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(b,a,e){var d="",g=0,f=sjcl.codec.base64.B,h=0,k=sjcl.bitArray.bitLength(b);e&&(f=f.substr(0,62)+"-_");for(e=0;6*d.length<k;)d+=f.charAt((h^b[e]>>>g)>>>26),6>g?(h=b[e]<<6-g,g+=26,e++):(h<<=6,g-=6);for(;d.length&3&&!a;)d+="=";return d},toBits:function(b,a){b=b.replace(/\s|=/g,"");var e=[],d,g=0,f=sjcl.codec.base64.B,h=0,k;a&&(f=f.substr(0,62)+"-_");for(d=0;d<b.length;d++){k=f.indexOf(b.charAt(d));
if(0>k)throw new sjcl.exception.invalid("this isn't base64!");26<g?(g-=26,e.push(h^k>>>g),h=k<<32-g):(g+=6,h^=k<<32-g)}g&56&&e.push(sjcl.bitArray.partial(g&56,h,1));return e}};sjcl.codec.base64url={fromBits:function(b){return sjcl.codec.base64.fromBits(b,1,1)},toBits:function(b){return sjcl.codec.base64.toBits(b,1)}};sjcl.hash.sha256=function(b){this.b[0]||this.O();b?(this.F=b.F.slice(0),this.A=b.A.slice(0),this.l=b.l):this.reset()};sjcl.hash.sha256.hash=function(b){return(new sjcl.hash.sha256).update(b).finalize()};
sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.F=this.Y.slice(0);this.A=[];this.l=0;return this},update:function(b){"string"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));var a,e=this.A=sjcl.bitArray.concat(this.A,b);a=this.l;b=this.l=a+sjcl.bitArray.bitLength(b);for(a=512+a&-512;a<=b;a+=512)v(this,e.splice(0,16));return this},finalize:function(){var b,a=this.A,e=this.F,a=sjcl.bitArray.concat(a,[sjcl.bitArray.partial(1,1)]);for(b=a.length+2;b&15;b++)a.push(0);a.push(Math.floor(this.l/
4294967296));for(a.push(this.l|0);a.length;)v(this,a.splice(0,16));this.reset();return e},Y:[],b:[],O:function(){function b(a){return 4294967296*(a-Math.floor(a))|0}var a=0,e=2,d;a:for(;64>a;e++){for(d=2;d*d<=e;d++)if(0===e%d)continue a;8>a&&(this.Y[a]=b(Math.pow(e,.5)));this.b[a]=b(Math.pow(e,1/3));a++}}};
function v(b,a){var e,d,g,f=a.slice(0),h=b.F,k=b.b,l=h[0],n=h[1],p=h[2],q=h[3],t=h[4],r=h[5],w=h[6],K=h[7];for(e=0;64>e;e++)16>e?d=f[e]:(d=f[e+1&15],g=f[e+14&15],d=f[e&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+f[e&15]+f[e+9&15]|0),d=d+K+(t>>>6^t>>>11^t>>>25^t<<26^t<<21^t<<7)+(w^t&(r^w))+k[e],K=w,w=r,r=t,t=q+d|0,q=p,p=n,n=l,l=d+(n&p^q&(n^p))+(n>>>2^n>>>13^n>>>22^n<<30^n<<19^n<<10)|0;h[0]=h[0]+l|0;h[1]=h[1]+n|0;h[2]=h[2]+p|0;h[3]=h[3]+q|0;h[4]=h[4]+t|0;h[5]=h[5]+r|0;h[6]=
h[6]+w|0;h[7]=h[7]+K|0}
sjcl.mode.ccm={name:"ccm",G:[],listenProgress:function(b){sjcl.mode.ccm.G.push(b)},unListenProgress:function(b){b=sjcl.mode.ccm.G.indexOf(b);-1<b&&sjcl.mode.ccm.G.splice(b,1)},fa:function(b){var a=sjcl.mode.ccm.G.slice(),e;for(e=0;e<a.length;e+=1)a[e](b)},encrypt:function(b,a,e,d,g){var f,h=a.slice(0),k=sjcl.bitArray,l=k.bitLength(e)/8,n=k.bitLength(h)/8;g=g||64;d=d||[];if(7>l)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;4>f&&n>>>8*f;f++);f<15-l&&(f=15-l);e=k.clamp(e,
8*(15-f));a=sjcl.mode.ccm.V(b,a,e,d,g,f);h=sjcl.mode.ccm.C(b,h,e,a,g,f);return k.concat(h.data,h.tag)},decrypt:function(b,a,e,d,g){g=g||64;d=d||[];var f=sjcl.bitArray,h=f.bitLength(e)/8,k=f.bitLength(a),l=f.clamp(a,k-g),n=f.bitSlice(a,k-g),k=(k-g)/8;if(7>h)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(a=2;4>a&&k>>>8*a;a++);a<15-h&&(a=15-h);e=f.clamp(e,8*(15-a));l=sjcl.mode.ccm.C(b,l,e,n,g,a);b=sjcl.mode.ccm.V(b,l.data,e,d,g,a);if(!f.equal(l.tag,b))throw new sjcl.exception.corrupt("ccm: tag doesn't match");
return l.data},na:function(b,a,e,d,g,f){var h=[],k=sjcl.bitArray,l=k.i;d=[k.partial(8,(a.length?64:0)|d-2<<2|f-1)];d=k.concat(d,e);d[3]|=g;d=b.encrypt(d);if(a.length)for(e=k.bitLength(a)/8,65279>=e?h=[k.partial(16,e)]:4294967295>=e&&(h=k.concat([k.partial(16,65534)],[e])),h=k.concat(h,a),a=0;a<h.length;a+=4)d=b.encrypt(l(d,h.slice(a,a+4).concat([0,0,0])));return d},V:function(b,a,e,d,g,f){var h=sjcl.bitArray,k=h.i;g/=8;if(g%2||4>g||16<g)throw new sjcl.exception.invalid("ccm: invalid tag length");
if(4294967295<d.length||4294967295<a.length)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");e=sjcl.mode.ccm.na(b,d,e,g,h.bitLength(a)/8,f);for(d=0;d<a.length;d+=4)e=b.encrypt(k(e,a.slice(d,d+4).concat([0,0,0])));return h.clamp(e,8*g)},C:function(b,a,e,d,g,f){var h,k=sjcl.bitArray;h=k.i;var l=a.length,n=k.bitLength(a),p=l/50,q=p;e=k.concat([k.partial(8,f-1)],e).concat([0,0,0]).slice(0,4);d=k.bitSlice(h(d,b.encrypt(e)),0,g);if(!l)return{tag:d,data:[]};for(h=0;h<l;h+=4)h>p&&(sjcl.mode.ccm.fa(h/
l),p+=q),e[3]++,g=b.encrypt(e),a[h]^=g[0],a[h+1]^=g[1],a[h+2]^=g[2],a[h+3]^=g[3];return{tag:d,data:k.clamp(a,n)}}};
sjcl.mode.ocb2={name:"ocb2",encrypt:function(b,a,e,d,g,f){if(128!==sjcl.bitArray.bitLength(e))throw new sjcl.exception.invalid("ocb iv must be 128 bits");var h,k=sjcl.mode.ocb2.S,l=sjcl.bitArray,n=l.i,p=[0,0,0,0];e=k(b.encrypt(e));var q,t=[];d=d||[];g=g||64;for(h=0;h+4<a.length;h+=4)q=a.slice(h,h+4),p=n(p,q),t=t.concat(n(e,b.encrypt(n(e,q)))),e=k(e);q=a.slice(h);a=l.bitLength(q);h=b.encrypt(n(e,[0,0,0,a]));q=l.clamp(n(q.concat([0,0,0]),h),a);p=n(p,n(q.concat([0,0,0]),h));p=b.encrypt(n(p,n(e,k(e))));
d.length&&(p=n(p,f?d:sjcl.mode.ocb2.pmac(b,d)));return t.concat(l.concat(q,l.clamp(p,g)))},decrypt:function(b,a,e,d,g,f){if(128!==sjcl.bitArray.bitLength(e))throw new sjcl.exception.invalid("ocb iv must be 128 bits");g=g||64;var h=sjcl.mode.ocb2.S,k=sjcl.bitArray,l=k.i,n=[0,0,0,0],p=h(b.encrypt(e)),q,t,r=sjcl.bitArray.bitLength(a)-g,w=[];d=d||[];for(e=0;e+4<r/32;e+=4)q=l(p,b.decrypt(l(p,a.slice(e,e+4)))),n=l(n,q),w=w.concat(q),p=h(p);t=r-32*e;q=b.encrypt(l(p,[0,0,0,t]));q=l(q,k.clamp(a.slice(e),t).concat([0,
0,0]));n=l(n,q);n=b.encrypt(l(n,l(p,h(p))));d.length&&(n=l(n,f?d:sjcl.mode.ocb2.pmac(b,d)));if(!k.equal(k.clamp(n,g),k.bitSlice(a,r)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return w.concat(k.clamp(q,t))},pmac:function(b,a){var e,d=sjcl.mode.ocb2.S,g=sjcl.bitArray,f=g.i,h=[0,0,0,0],k=b.encrypt([0,0,0,0]),k=f(k,d(d(k)));for(e=0;e+4<a.length;e+=4)k=d(k),h=f(h,b.encrypt(f(k,a.slice(e,e+4))));e=a.slice(e);128>g.bitLength(e)&&(k=f(k,d(k)),e=g.concat(e,[-2147483648,0,0,0]));h=f(h,e);
return b.encrypt(f(d(f(k,d(k))),h))},S:function(b){return[b[0]<<1^b[1]>>>31,b[1]<<1^b[2]>>>31,b[2]<<1^b[3]>>>31,b[3]<<1^135*(b[0]>>>31)]}};
sjcl.mode.gcm={name:"gcm",encrypt:function(b,a,e,d,g){var f=a.slice(0);a=sjcl.bitArray;d=d||[];b=sjcl.mode.gcm.C(!0,b,f,d,e,g||128);return a.concat(b.data,b.tag)},decrypt:function(b,a,e,d,g){var f=a.slice(0),h=sjcl.bitArray,k=h.bitLength(f);g=g||128;d=d||[];g<=k?(a=h.bitSlice(f,k-g),f=h.bitSlice(f,0,k-g)):(a=f,f=[]);b=sjcl.mode.gcm.C(!1,b,f,d,e,g);if(!h.equal(b.tag,a))throw new sjcl.exception.corrupt("gcm: tag doesn't match");return b.data},ka:function(b,a){var e,d,g,f,h,k=sjcl.bitArray.i;g=[0,0,
0,0];f=a.slice(0);for(e=0;128>e;e++){0!==(b[Math.floor(e/32)]&1<<31-e%32)&&(g=k(g,f));h=0!==(f[3]&1);for(d=3;0<d;d--)f[d]=f[d]>>>1|(f[d-1]&1)<<31;f[0]>>>=1;h&&(f[0]^=-520093696)}return g},j:function(b,a,e){var d,g=e.length;a=a.slice(0);for(d=0;d<g;d+=4)a[0]^=4294967295&e[d],a[1]^=4294967295&e[d+1],a[2]^=4294967295&e[d+2],a[3]^=4294967295&e[d+3],a=sjcl.mode.gcm.ka(a,b);return a},C:function(b,a,e,d,g,f){var h,k,l,n,p,q,t,r,w=sjcl.bitArray;q=e.length;t=w.bitLength(e);r=w.bitLength(d);k=w.bitLength(g);
h=a.encrypt([0,0,0,0]);96===k?(g=g.slice(0),g=w.concat(g,[1])):(g=sjcl.mode.gcm.j(h,[0,0,0,0],g),g=sjcl.mode.gcm.j(h,g,[0,0,Math.floor(k/4294967296),k&4294967295]));k=sjcl.mode.gcm.j(h,[0,0,0,0],d);p=g.slice(0);d=k.slice(0);b||(d=sjcl.mode.gcm.j(h,k,e));for(n=0;n<q;n+=4)p[3]++,l=a.encrypt(p),e[n]^=l[0],e[n+1]^=l[1],e[n+2]^=l[2],e[n+3]^=l[3];e=w.clamp(e,t);b&&(d=sjcl.mode.gcm.j(h,k,e));b=[Math.floor(r/4294967296),r&4294967295,Math.floor(t/4294967296),t&4294967295];d=sjcl.mode.gcm.j(h,d,b);l=a.encrypt(g);
d[0]^=l[0];d[1]^=l[1];d[2]^=l[2];d[3]^=l[3];return{tag:w.bitSlice(d,0,f),data:e}}};sjcl.misc.hmac=function(b,a){this.W=a=a||sjcl.hash.sha256;var e=[[],[]],d,g=a.prototype.blockSize/32;this.w=[new a,new a];b.length>g&&(b=a.hash(b));for(d=0;d<g;d++)e[0][d]=b[d]^909522486,e[1][d]=b[d]^1549556828;this.w[0].update(e[0]);this.w[1].update(e[1]);this.R=new a(this.w[0])};
sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(b){if(this.aa)throw new sjcl.exception.invalid("encrypt on already updated hmac called!");this.update(b);return this.digest(b)};sjcl.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]);this.aa=!1};sjcl.misc.hmac.prototype.update=function(b){this.aa=!0;this.R.update(b)};sjcl.misc.hmac.prototype.digest=function(){var b=this.R.finalize(),b=(new this.W(this.w[1])).update(b).finalize();this.reset();return b};
sjcl.misc.pbkdf2=function(b,a,e,d,g){e=e||1E3;if(0>d||0>e)throw sjcl.exception.invalid("invalid params to pbkdf2");"string"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));g=g||sjcl.misc.hmac;b=new g(b);var f,h,k,l,n=[],p=sjcl.bitArray;for(l=1;32*n.length<(d||1);l++){g=f=b.encrypt(p.concat(a,[l]));for(h=1;h<e;h++)for(f=b.encrypt(f),k=0;k<f.length;k++)g[k]^=f[k];n=n.concat(g)}d&&(n=p.clamp(n,d));return n};
sjcl.prng=function(b){this.c=[new sjcl.hash.sha256];this.m=[0];this.P=0;this.H={};this.N=0;this.U={};this.Z=this.f=this.o=this.ha=0;this.b=[0,0,0,0,0,0,0,0];this.h=[0,0,0,0];this.L=void 0;this.M=b;this.D=!1;this.K={progress:{},seeded:{}};this.u=this.ga=0;this.I=1;this.J=2;this.ca=65536;this.T=[0,48,64,96,128,192,256,384,512,768,1024];this.da=3E4;this.ba=80};
sjcl.prng.prototype={randomWords:function(b,a){var e=[],d;d=this.isReady(a);var g;if(d===this.u)throw new sjcl.exception.notReady("generator isn't seeded");if(d&this.J){d=!(d&this.I);g=[];var f=0,h;this.Z=g[0]=(new Date).valueOf()+this.da;for(h=0;16>h;h++)g.push(4294967296*Math.random()|0);for(h=0;h<this.c.length&&(g=g.concat(this.c[h].finalize()),f+=this.m[h],this.m[h]=0,d||!(this.P&1<<h));h++);this.P>=1<<this.c.length&&(this.c.push(new sjcl.hash.sha256),this.m.push(0));this.f-=f;f>this.o&&(this.o=
f);this.P++;this.b=sjcl.hash.sha256.hash(this.b.concat(g));this.L=new sjcl.cipher.aes(this.b);for(d=0;4>d&&(this.h[d]=this.h[d]+1|0,!this.h[d]);d++);}for(d=0;d<b;d+=4)0===(d+1)%this.ca&&y(this),g=z(this),e.push(g[0],g[1],g[2],g[3]);y(this);return e.slice(0,b)},setDefaultParanoia:function(b,a){if(0===b&&"Setting paranoia=0 will ruin your security; use it only for testing"!==a)throw"Setting paranoia=0 will ruin your security; use it only for testing";this.M=b},addEntropy:function(b,a,e){e=e||"user";
var d,g,f=(new Date).valueOf(),h=this.H[e],k=this.isReady(),l=0;d=this.U[e];void 0===d&&(d=this.U[e]=this.ha++);void 0===h&&(h=this.H[e]=0);this.H[e]=(this.H[e]+1)%this.c.length;switch(typeof b){case "number":void 0===a&&(a=1);this.c[h].update([d,this.N++,1,a,f,1,b|0]);break;case "object":e=Object.prototype.toString.call(b);if("[object Uint32Array]"===e){g=[];for(e=0;e<b.length;e++)g.push(b[e]);b=g}else for("[object Array]"!==e&&(l=1),e=0;e<b.length&&!l;e++)"number"!==typeof b[e]&&(l=1);if(!l){if(void 0===
a)for(e=a=0;e<b.length;e++)for(g=b[e];0<g;)a++,g>>>=1;this.c[h].update([d,this.N++,2,a,f,b.length].concat(b))}break;case "string":void 0===a&&(a=b.length);this.c[h].update([d,this.N++,3,a,f,b.length]);this.c[h].update(b);break;default:l=1}if(l)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[h]+=a;this.f+=a;k===this.u&&(this.isReady()!==this.u&&A("seeded",Math.max(this.o,this.f)),A("progress",this.getProgress()))},isReady:function(b){b=this.T[void 0!==
b?b:this.M];return this.o&&this.o>=b?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=b?this.J|this.u:this.u},getProgress:function(b){b=this.T[b?b:this.M];return this.o>=b?1:this.f>b?1:this.f/b},startCollectors:function(){if(!this.D){this.a={loadTimeCollector:B(this,this.ma),mouseCollector:B(this,this.oa),keyboardCollector:B(this,this.la),accelerometerCollector:B(this,this.ea),touchCollector:B(this,this.qa)};if(window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,
!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new sjcl.exception.bug("can't attach event");
this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",
this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(b,a){this.K[b][this.ga++]=a},removeEventListener:function(b,a){var e,d,g=this.K[b],f=[];for(d in g)g.hasOwnProperty(d)&&g[d]===a&&f.push(d);for(e=0;e<f.length;e++)d=f[e],delete g[d]},la:function(){C(1)},oa:function(b){var a,e;try{a=b.x||b.clientX||b.offsetX||0,e=b.y||b.clientY||b.offsetY||0}catch(d){e=a=0}0!=a&&0!=e&&sjcl.random.addEntropy([a,e],2,"mouse");C(0)},qa:function(b){b=
b.touches[0]||b.changedTouches[0];sjcl.random.addEntropy([b.pageX||b.clientX,b.pageY||b.clientY],1,"touch");C(0)},ma:function(){C(2)},ea:function(b){b=b.accelerationIncludingGravity.x||b.accelerationIncludingGravity.y||b.accelerationIncludingGravity.z;if(window.orientation){var a=window.orientation;"number"===typeof a&&sjcl.random.addEntropy(a,1,"accelerometer")}b&&sjcl.random.addEntropy(b,2,"accelerometer");C(0)}};
function A(b,a){var e,d=sjcl.random.K[b],g=[];for(e in d)d.hasOwnProperty(e)&&g.push(d[e]);for(e=0;e<g.length;e++)g[e](a)}function C(b){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?sjcl.random.addEntropy(window.performance.now(),b,"loadtime"):sjcl.random.addEntropy((new Date).valueOf(),b,"loadtime")}function y(b){b.b=z(b).concat(z(b));b.L=new sjcl.cipher.aes(b.b)}
function z(b){for(var a=0;4>a&&(b.h[a]=b.h[a]+1|0,!b.h[a]);a++);return b.L.encrypt(b.h)}function B(b,a){return function(){a.apply(b,arguments)}}sjcl.random=new sjcl.prng(6);
a:try{var D,E,F,G;if(G="undefined"!==typeof module&&module.exports){var H;try{H=require("crypto")}catch(b){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128),D=new Uint32Array((new Uint8Array(D)).buffer),sjcl.random.addEntropy(D,1024,"crypto['randomBytes']");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){F=new Uint32Array(32);if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(F);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(F);
else break a;sjcl.random.addEntropy(F,1024,"crypto['getRandomValues']")}}catch(b){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(b))}
sjcl.json={defaults:{v:1,iter:1E3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(b,a,e,d){e=e||{};d=d||{};var g=sjcl.json,f=g.g({iv:sjcl.random.randomWords(4,0)},g.defaults),h;g.g(f,e);e=f.adata;"string"===typeof f.salt&&(f.salt=sjcl.codec.base64.toBits(f.salt));"string"===typeof f.iv&&(f.iv=sjcl.codec.base64.toBits(f.iv));if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||"string"===typeof b&&100>=f.iter||64!==f.ts&&96!==f.ts&&128!==f.ts||128!==f.ks&&192!==f.ks&&256!==f.ks||2>f.iv.length||
4<f.iv.length)throw new sjcl.exception.invalid("json encrypt: invalid parameters");"string"===typeof b?(h=sjcl.misc.cachedPbkdf2(b,f),b=h.key.slice(0,f.ks/32),f.salt=h.salt):sjcl.ecc&&b instanceof sjcl.ecc.elGamal.publicKey&&(h=b.kem(),f.kemtag=h.tag,b=h.key.slice(0,f.ks/32));"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));"string"===typeof e&&(f.adata=e=sjcl.codec.utf8String.toBits(e));h=new sjcl.cipher[f.cipher](b);g.g(d,f);d.key=b;f.ct="ccm"===f.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&
a instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.encrypt(h,a,f.iv,e,f.ts):sjcl.mode[f.mode].encrypt(h,a,f.iv,e,f.ts);return f},encrypt:function(b,a,e,d){var g=sjcl.json,f=g.ja.apply(g,arguments);return g.encode(f)},ia:function(b,a,e,d){e=e||{};d=d||{};var g=sjcl.json;a=g.g(g.g(g.g({},g.defaults),a),e,!0);var f,h;f=a.adata;"string"===typeof a.salt&&(a.salt=sjcl.codec.base64.toBits(a.salt));"string"===typeof a.iv&&(a.iv=sjcl.codec.base64.toBits(a.iv));if(!sjcl.mode[a.mode]||!sjcl.cipher[a.cipher]||"string"===
typeof b&&100>=a.iter||64!==a.ts&&96!==a.ts&&128!==a.ts||128!==a.ks&&192!==a.ks&&256!==a.ks||!a.iv||2>a.iv.length||4<a.iv.length)throw new sjcl.exception.invalid("json decrypt: invalid parameters");"string"===typeof b?(h=sjcl.misc.cachedPbkdf2(b,a),b=h.key.slice(0,a.ks/32),a.salt=h.salt):sjcl.ecc&&b instanceof sjcl.ecc.elGamal.secretKey&&(b=b.unkem(sjcl.codec.base64.toBits(a.kemtag)).slice(0,a.ks/32));"string"===typeof f&&(f=sjcl.codec.utf8String.toBits(f));h=new sjcl.cipher[a.cipher](b);f="ccm"===
a.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&a.ct instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.decrypt(h,a.ct,a.iv,a.tag,f,a.ts):sjcl.mode[a.mode].decrypt(h,a.ct,a.iv,f,a.ts);g.g(d,a);d.key=b;return 1===e.raw?f:sjcl.codec.utf8String.fromBits(f)},decrypt:function(b,a,e,d){var g=sjcl.json;return g.ia(b,g.decode(a),e,d)},encode:function(b){var a,e="{",d="";for(a in b)if(b.hasOwnProperty(a)){if(!a.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");e+=d+'"'+
a+'":';d=",";switch(typeof b[a]){case "number":case "boolean":e+=b[a];break;case "string":e+='"'+escape(b[a])+'"';break;case "object":e+='"'+sjcl.codec.base64.fromBits(b[a],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return e+"}"},decode:function(b){b=b.replace(/\s/g,"");if(!b.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");b=b.replace(/^\{|\}$/g,"").split(/,/);var a={},e,d;for(e=0;e<b.length;e++){if(!(d=b[e].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");
null!=d[3]?a[d[2]]=parseInt(d[3],10):null!=d[4]?a[d[2]]=d[2].match(/^(ct|adata|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4]):null!=d[5]&&(a[d[2]]="true"===d[5])}return a},g:function(b,a,e){void 0===b&&(b={});if(void 0===a)return b;for(var d in a)if(a.hasOwnProperty(d)){if(e&&void 0!==b[d]&&b[d]!==a[d])throw new sjcl.exception.invalid("required parameter overridden");b[d]=a[d]}return b},sa:function(b,a){var e={},d;for(d in b)b.hasOwnProperty(d)&&b[d]!==a[d]&&(e[d]=b[d]);return e},ra:function(b,
a){var e={},d;for(d=0;d<a.length;d++)void 0!==b[a[d]]&&(e[a[d]]=b[a[d]]);return e}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.pa={};sjcl.misc.cachedPbkdf2=function(b,a){var e=sjcl.misc.pa,d;a=a||{};d=a.iter||1E3;e=e[b]=e[b]||{};d=e[d]=e[d]||{firstSalt:a.salt&&a.salt.length?a.salt.slice(0):sjcl.random.randomWords(2,0)};e=void 0===a.salt?d.firstSalt:a.salt;d[e]=d[e]||sjcl.misc.pbkdf2(b,e,a.iter);return{key:d[e].slice(0),salt:e.slice(0)}};(function(b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).io=b()})(function(){return function a(b,d,g){function f(k,n){if(!d[k]){if(!b[k]){var p="function"==typeof require&&require;if(!n&&p)return p(k,!0);if(h)return h(k,!0);p=Error("Cannot find module '"+k+"'");throw p.code="MODULE_NOT_FOUND",p;}p=d[k]={exports:{}};
b[k][0].call(p.exports,function(a){var d=b[k][1][a];return f(d?d:a)},p,p.exports,a,b,d,g)}return d[k].exports}for(var h="function"==typeof require&&require,k=0;k<g.length;k++)f(g[k]);return f}({1:[function(a,b,d){b.exports=a("./lib/")},{"./lib/":2}],2:[function(a,b,d){b.exports=a("./socket");b.exports.parser=a("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(a,b,d){(function(d){function f(a,b){if(!(this instanceof f))return new f(a,b);b=b||{};a&&"object"==typeof a&&(b=a,a=null);
a?(a=q(a),b.hostname=a.host,b.secure="https"==a.protocol||"wss"==a.protocol,b.port=a.port,a.query&&(b.query=a.query)):b.host&&(b.hostname=q(b.host).host);this.secure=null!=b.secure?b.secure:d.location&&"https:"==location.protocol;b.hostname&&!b.port&&(b.port=this.secure?"443":"80");this.agent=b.agent||!1;this.hostname=b.hostname||(d.location?location.hostname:"localhost");this.port=b.port||(d.location&&location.port?location.port:this.secure?443:80);this.query=b.query||{};"string"==typeof this.query&&
(this.query=r.decode(this.query));this.upgrade=!1!==b.upgrade;this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!b.forceJSONP;this.jsonp=!1!==b.jsonp;this.forceBase64=!!b.forceBase64;this.enablesXDR=!!b.enablesXDR;this.timestampParam=b.timestampParam||"t";this.timestampRequests=b.timestampRequests;this.transports=b.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=b.policyPort||843;this.rememberUpgrade=b.rememberUpgrade||!1;this.binaryType=
null;this.onlyBinaryUpgrades=b.onlyBinaryUpgrades;this.perMessageDeflate=!1!==b.perMessageDeflate?b.perMessageDeflate||{}:!1;!0===this.perMessageDeflate&&(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=b.pfx||null;this.key=b.key||null;this.passphrase=b.passphrase||null;this.cert=b.cert||null;this.ca=b.ca||null;this.ciphers=b.ciphers||null;this.rejectUnauthorized=void 0===b.rejectUnauthorized?null:b.rejectUnauthorized;
var h="object"==typeof d&&d;h.global===h&&b.extraHeaders&&0<Object.keys(b.extraHeaders).length&&(this.extraHeaders=b.extraHeaders);this.open()}var h=a("./transports"),k=a("component-emitter"),l=a("debug")("engine.io-client:socket"),n=a("indexof"),p=a("engine.io-parser"),q=a("parseuri"),t=a("parsejson"),r=a("parseqs");b.exports=f;f.priorWebsocketSuccess=!1;k(f.prototype);f.protocol=p.protocol;f.Socket=f;f.Transport=a("./transport");f.transports=a("./transports");f.parser=a("engine.io-parser");f.prototype.createTransport=
function(a){l('creating transport "%s"',a);var b=this.query,d={},f;for(f in b)b.hasOwnProperty(f)&&(d[f]=b[f]);d.EIO=p.protocol;d.transport=a;this.id&&(d.sid=this.id);return new h[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:d,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,
key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})};f.prototype.open=function(){var a;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState=
"opening";try{a=this.createTransport(a)}catch(d){this.transports.shift();this.open();return}a.open();this.setTransport(a)};f.prototype.setTransport=function(a){l("setting transport %s",a.name);var b=this;this.transport&&(l("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};
f.prototype.probe=function(a){function b(){if(q.onlyBinaryUpgrades){var d=!this.supportsBinary&&q.transport.supportsBinary;p=p||d}p||(l('probe transport "%s" opened',a),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(b){p||("pong"==b.type&&"probe"==b.data?(l('probe transport "%s" pong',a),q.upgrading=!0,q.emit("upgrading",r),r&&(f.priorWebsocketSuccess="websocket"==r.name,l('pausing current transport "%s"',q.transport.name),q.transport.pause(function(){p||"closed"==q.readyState||(l("changing transport and sending upgrade packet"),
n(),q.setTransport(r),r.send([{type:"upgrade"}]),q.emit("upgrade",r),r=null,q.upgrading=!1,q.flush())}))):(l('probe transport "%s" failed',a),b=Error("probe error"),b.transport=r.name,q.emit("upgradeError",b)))}))}function d(){p||(p=!0,n(),r.close(),r=null)}function h(b){var f=Error("probe error: "+b);f.transport=r.name;d();l('probe transport "%s" failed because of error: %s',a,b);q.emit("upgradeError",f)}function g(){h("transport closed")}function e(){h("socket closed")}function k(a){r&&a.name!=
r.name&&(l('"%s" works - aborting "%s"',a.name,r.name),d())}function n(){r.removeListener("open",b);r.removeListener("error",h);r.removeListener("close",g);q.removeListener("close",e);q.removeListener("upgrading",k)}l('probing transport "%s"',a);var r=this.createTransport(a,{probe:1}),p=!1,q=this;f.priorWebsocketSuccess=!1;r.once("open",b);r.once("error",h);r.once("close",g);this.once("close",e);this.once("upgrading",k);r.open()};f.prototype.onOpen=function(){l("socket open");this.readyState="open";
f.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){l("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};f.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(l('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(t(a.data));break;
case "pong":this.setPing();this.emit("pong");break;case "error":var b=Error("server error");b.code=a.data;this.onError(b);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else l('packet received with socket readyState "%s"',this.readyState)};f.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=
this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};f.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};f.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){l("writing ping packet - expecting pong within %sms",
a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};f.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})};f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};f.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(l("flushing %d packets in socket",this.writeBuffer.length),
this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};f.prototype.write=f.prototype.send=function(a,b,d){this.sendPacket("message",a,b,d);return this};f.prototype.sendPacket=function(a,b,d,h){"function"==typeof b&&(h=b,b=void 0);"function"==typeof d&&(h=d,d=null);if("closing"!=this.readyState&&"closed"!=this.readyState){d=d||{};d.compress=!1!==d.compress;a={type:a,data:b,options:d};this.emit("packetCreate",a);this.writeBuffer.push(a);if(h)this.once("flush",
h);this.flush()}};f.prototype.close=function(){function a(){h.onClose("forced close");l("socket closing - telling transport to close");h.transport.close()}function b(){h.removeListener("upgrade",b);h.removeListener("upgradeError",b);a()}function d(){h.once("upgrade",b);h.once("upgradeError",b)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var h=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?d():a()});else this.upgrading?d():a()}return this};
f.prototype.onError=function(a){l("socket error %j",a);f.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};f.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState)l('socket close with reason: "%s"',a),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=
null,this.emit("close",a,b),this.writeBuffer=[],this.prevBufferLen=0};f.prototype.filterUpgrades=function(a){for(var b=[],d=0,h=a.length;d<h;d++)~n(this.transports,a[d])&&b.push(a[d]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(a,b,d){function g(a){this.path=a.path;this.hostname=
a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders}var f=a("engine.io-parser");a=a("component-emitter");b.exports=g;a(g.prototype);
g.prototype.onError=function(a,b){var d=Error(a);d.type="TransportError";d.description=b;this.emit("error",d);return this};g.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};g.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};g.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};g.prototype.onOpen=
function(){this.readyState="open";this.writable=!0;this.emit("open")};g.prototype.onData=function(a){a=f.decodePacket(a,this.socket.binaryType);this.onPacket(a)};g.prototype.onPacket=function(a){this.emit("packet",a)};g.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(a,b,d){(function(b){var f=a("xmlhttprequest-ssl"),h=a("./polling-xhr"),e=a("./polling-jsonp"),l=a("./websocket");d.polling=function(a){var d=!1,l=
!1,t=!1!==a.jsonp;b.location&&(l="https:"==location.protocol,(d=location.port)||(d=l?443:80),d=a.hostname!=location.hostname||d!=a.port,l=a.secure!=l);a.xdomain=d;a.xscheme=l;if("open"in new f(a)&&!a.forceJSONP)return new h(a);if(!t)throw Error("JSONP disabled");return new e(a)};d.websocket=l}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(a,
b,d){(function(d){function f(){}function h(a){k.call(this,a);this.query=this.query||{};q||(d.___eio||(d.___eio=[]),q=d.___eio);this.index=q.length;var b=this;q.push(function(a){b.onData(a)});this.query.j=this.index;d.document&&d.addEventListener&&d.addEventListener("beforeunload",function(){b.script&&(b.script.onerror=f)},!1)}var k=a("./polling"),l=a("component-inherit");b.exports=h;var n=/\n/g,p=/\\n/g,q;l(h,k);h.prototype.supportsBinary=!1;h.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),
this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);k.prototype.doClose.call(this)};h.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var d=document.getElementsByTagName("script")[0];d?d.parentNode.insertBefore(b,d):(document.head||document.body).appendChild(b);
this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};h.prototype.doWrite=function(a,b){function d(){h();b()}function h(){if(f.iframe)try{f.form.removeChild(f.iframe)}catch(a){f.onError("jsonp polling iframe removal error",a)}try{l=document.createElement('<iframe src="javascript:0" name="'+f.iframeId+'">')}catch(a){l=document.createElement("iframe"),
l.name=f.iframeId,l.src="javascript:0"}l.id=f.iframeId;f.form.appendChild(l);f.iframe=l}var f=this;if(!this.form){var g=document.createElement("form"),e=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index,l;g.className="socketio";g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";g.target=k;g.method="POST";g.setAttribute("accept-charset","utf-8");e.name="d";g.appendChild(e);document.body.appendChild(g);this.form=g;this.area=e}this.form.action=this.uri();
h();a=a.replace(p,"\\\n");this.area.value=a.replace(n,"\\n");try{this.form.submit()}catch(q){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==f.iframe.readyState&&d()}:this.iframe.onload=d}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(a,b,d){(function(d){function f(){}function h(a){p.call(this,a);if(d.location){var b="https:"==location.protocol,
f=location.port;f||(f=b?443:80);this.xd=a.hostname!=d.location.hostname||f!=a.port;this.xs=a.secure!=b}else this.extraHeaders=a.extraHeaders}function k(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=
a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders;this.create()}function l(){for(var a in k.requests)k.requests.hasOwnProperty(a)&&k.requests[a].abort()}var n=a("xmlhttprequest-ssl"),p=a("./polling"),q=a("component-emitter"),t=a("component-inherit"),r=a("debug")("engine.io-client:polling-xhr");b.exports=h;b.exports.Request=k;t(h,p);h.prototype.supportsBinary=!0;h.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||
!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;a.extraHeaders=this.extraHeaders;return new k(a)};h.prototype.doWrite=function(a,b){var d=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),f=this;d.on("success",b);d.on("error",function(a){f.onError("xhr post error",a)});this.sendXhr=d};h.prototype.doPoll=
function(){r("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",function(a){b.onError("xhr poll error",a)});this.pollXhr=a};q(k.prototype);k.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;var b=this.xhr=new n(a),f=this;try{r("xhr open %s: %s",
this.method,this.uri);b.open(this.method,this.uri,this.async);try{if(this.extraHeaders){b.setDisableHeaderCheck(!0);for(var h in this.extraHeaders)this.extraHeaders.hasOwnProperty(h)&&b.setRequestHeader(h,this.extraHeaders[h])}}catch(e){}this.supportsBinary&&(b.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?b.setRequestHeader("Content-type","application/octet-stream"):b.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in b&&(b.withCredentials=
!0);this.hasXDR()?(b.onload=function(){f.onLoad()},b.onerror=function(){f.onError(b.responseText)}):b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status||1223==b.status)f.onLoad();else setTimeout(function(){f.onError(b.status)},0)};r("xhr data %s",this.data);b.send(this.data)}catch(e){setTimeout(function(){f.onError(e)},0);return}d.document&&(this.index=k.requestsCount++,k.requests[this.index]=this)};k.prototype.onSuccess=function(){this.emit("success");this.cleanup()};k.prototype.onData=
function(a){this.emit("data",a);this.onSuccess()};k.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};k.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=f:this.xhr.onreadystatechange=f;if(a)try{this.xhr.abort()}catch(b){}d.document&&delete k.requests[this.index];this.xhr=null}};k.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(d){}if("application/octet-stream"===
b)a=this.xhr.response;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(d){var f=new Uint8Array(this.xhr.response);b=[];for(var h=0,g=f.length;h<g;h++)b.push(f[h]);a=String.fromCharCode.apply(null,b)}else a=this.xhr.responseText}catch(d){this.onError(d)}if(null!=a)this.onData(a)};k.prototype.hasXDR=function(){return"undefined"!==typeof d.XDomainRequest&&!this.xs&&this.enablesXDR};k.prototype.abort=function(){this.cleanup()};d.document&&(k.requestsCount=
0,k.requests={},d.attachEvent?d.attachEvent("onunload",l):d.addEventListener&&d.addEventListener("beforeunload",l,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(a,b,d){function g(a){var b=a&&a.forceBase64;if(!p||b)this.supportsBinary=!1;f.call(this,a)}var f=a("../transport"),h=a("parseqs"),k=a("engine.io-parser");d=
a("component-inherit");var l=a("yeast"),n=a("debug")("engine.io-client:polling");b.exports=g;var p=null!=(new (a("xmlhttprequest-ssl"))({xdomain:!1})).responseType;d(g,f);g.prototype.name="polling";g.prototype.doOpen=function(){this.poll()};g.prototype.pause=function(a){function b(){n("paused");d.readyState="paused";a()}var d=this;this.readyState="pausing";if(this.polling||!this.writable){var f=0;this.polling&&(n("we are currently polling - waiting to pause"),f++,this.once("pollComplete",function(){n("pre-pause polling complete");
--f||b()}));this.writable||(n("we are currently writing - waiting to pause"),f++,this.once("drain",function(){n("pre-pause writing complete");--f||b()}))}else b()};g.prototype.poll=function(){n("polling");this.polling=!0;this.doPoll();this.emit("poll")};g.prototype.onData=function(a){var b=this;n("polling got data %s",a);k.decodePayload(a,this.socket.binaryType,function(a,d,f){if("opening"==b.readyState)b.onOpen();if("close"==a.type)return b.onClose(),!1;b.onPacket(a)});"closed"!=this.readyState&&
(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():n('ignoring poll - transport state "%s"',this.readyState))};g.prototype.doClose=function(){function a(){n("writing close packet");b.write([{type:"close"}])}var b=this;"open"==this.readyState?(n("transport open - closing"),a()):(n("transport not open - deferring close"),this.once("open",a))};g.prototype.write=function(a){var b=this;this.writable=!1;var d=function(){b.writable=!0;b.emit("drain")},b=this;k.encodePayload(a,
this.supportsBinary,function(a){b.doWrite(a,d)})};g.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",d="";!1!==this.timestampRequests&&(a[this.timestampParam]=l());this.supportsBinary||a.sid||(a.b64=1);a=h.encode(a);this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(d=":"+this.port);a.length&&(a="?"+a);var f=-1!==this.hostname.indexOf(":");return b+"://"+(f?"["+this.hostname+"]":this.hostname)+d+this.path+a}},{"../transport":4,"component-inherit":16,debug:17,
"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(a,b,d){(function(d){function f(a){a&&a.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=a.perMessageDeflate;h.call(this,a)}var h=a("../transport"),k=a("engine.io-parser"),l=a("parseqs"),n=a("component-inherit"),p=a("yeast"),q=a("debug")("engine.io-client:websocket"),t=d.WebSocket||d.MozWebSocket,r=t;if(!r&&"undefined"===typeof window)try{r=a("ws")}catch(w){}b.exports=f;n(f,h);f.prototype.name="websocket";f.prototype.supportsBinary=
!0;f.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b={agent:this.agent,perMessageDeflate:this.perMessageDeflate};b.pfx=this.pfx;b.key=this.key;b.passphrase=this.passphrase;b.cert=this.cert;b.ca=this.ca;b.ciphers=this.ciphers;b.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(b.headers=this.extraHeaders);this.ws=t?new r(a):new r(a,void 0,b);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType=
"buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};f.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(b){a.onData(b.data)};this.ws.onerror=function(b){a.onError("websocket error",b)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(f.prototype.onData=function(a){var b=this;setTimeout(function(){h.prototype.onData.call(b,a)},0)});f.prototype.write=
function(a){function b(){f.emit("flush");setTimeout(function(){f.writable=!0;f.emit("drain")},0)}var f=this;this.writable=!1;for(var h=a.length,e=0,l=h;e<l;e++)(function(a){k.encodePacket(a,f.supportsBinary,function(e){if(!t){var k={};a.options&&(k.compress=a.options.compress);f.perMessageDeflate&&("string"==typeof e?d.Buffer.byteLength(e):e.length)<f.perMessageDeflate.threshold&&(k.compress=!1)}try{t?f.ws.send(e):f.ws.send(e,k)}catch(l){q("websocket closed before onclose event")}--h||b()})})(a[e])};
f.prototype.onClose=function(){h.prototype.onClose.call(this)};f.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};f.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",d="";this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(d=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=p());this.supportsBinary||(a.b64=1);a=l.encode(a);a.length&&(a="?"+a);var f=-1!==this.hostname.indexOf(":");return b+"://"+(f?"["+this.hostname+"]":this.hostname)+
d+this.path+a};f.prototype.check=function(){return!!r&&!("__initialize"in r&&this.name===f.prototype.name)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(a,b,d){var g=a("has-cors");b.exports=function(a){var b=a.xdomain,d=a.xscheme;a=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||g))return new XMLHttpRequest}catch(e){}try{if("undefined"!=
typeof XDomainRequest&&!d&&a)return new XDomainRequest}catch(e){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":22}],11:[function(a,b,d){function g(){}b.exports=function(a,b,d){function e(a,f){if(0>=e.count)throw Error("after called too many times");--e.count;a?(n=!0,b(a),b=d):0!==e.count||n||b(null,f)}var n=!1;d=d||g;e.count=a;return 0===a?b():e}},{}],12:[function(a,b,d){b.exports=function(a,b,d){var e=a.byteLength;b=b||0;d=d||e;if(a.slice)return a.slice(b,d);0>
b&&(b+=e);0>d&&(d+=e);d>e&&(d=e);if(b>=e||b>=d||0===e)return new ArrayBuffer(0);a=new Uint8Array(a);for(var e=new Uint8Array(d-b),l=0;b<d;b++,l++)e[l]=a[b];return e.buffer}},{}],13:[function(a,b,d){(function(a){d.encode=function(b){b=new Uint8Array(b);var d,e=b.length,l="";for(d=0;d<e;d+=3)l+=a[b[d]>>2],l+=a[(b[d]&3)<<4|b[d+1]>>4],l+=a[(b[d+1]&15)<<2|b[d+2]>>6],l+=a[b[d+2]&63];2===e%3?l=l.substring(0,l.length-1)+"=":1===e%3&&(l=l.substring(0,l.length-2)+"==");return l};d.decode=function(b){var d=
.75*b.length,e=b.length,l=0,n,p,q,t;"="===b[b.length-1]&&(d--,"="===b[b.length-2]&&d--);for(var r=new ArrayBuffer(d),w=new Uint8Array(r),d=0;d<e;d+=4)n=a.indexOf(b[d]),p=a.indexOf(b[d+1]),q=a.indexOf(b[d+2]),t=a.indexOf(b[d+3]),w[l++]=n<<2|p>>4,w[l++]=(p&15)<<4|q>>2,w[l++]=(q&3)<<6|t&63;return r}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(a,b,d){(function(a){function d(a){for(var b=0;b<a.length;b++){var f=a[b];if(f.buffer instanceof ArrayBuffer){var h=
f.buffer;if(f.byteLength!==h.byteLength){var e=new Uint8Array(f.byteLength);e.set(new Uint8Array(h,f.byteOffset,f.byteLength));h=e.buffer}a[b]=h}}}function h(a,b){b=b||{};var h=new l;d(a);for(var e=0;e<a.length;e++)h.append(a[e]);return b.type?h.getBlob(b.type):h.getBlob()}function k(a,b){d(a);return new Blob(a,b||{})}var l=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,n;try{n=2===(new Blob(["hi"])).size}catch(t){n=!1}var p;if(p=n)try{p=2===(new Blob([new Uint8Array([1,2])])).size}catch(t){p=
!1}var q=l&&l.prototype.append&&l.prototype.getBlob;a=n?p?a.Blob:k:q?h:void 0;b.exports=a}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],15:[function(a,b,d){function g(a){if(a){for(var b in g.prototype)a[b]=g.prototype[b];return a}}b.exports=g;g.prototype.on=g.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};g.prototype.once=function(a,
b){function d(){e.off(a,d);b.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};d.fn=b;this.on(a,d);return this};g.prototype.off=g.prototype.removeListener=g.prototype.removeAllListeners=g.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[a];if(!d)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var e,g=0;g<d.length;g++)if(e=d[g],e===b||e.fn===b){d.splice(g,
1);break}return this};g.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),d=this._callbacks[a];if(d)for(var d=d.slice(0),e=0,g=d.length;e<g;++e)d[e].apply(this,b);return this};g.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};g.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],16:[function(a,b,d){b.exports=function(a,b){var d=function(){};d.prototype=b.prototype;a.prototype=new d;
a.prototype.constructor=a}},{}],17:[function(a,b,d){function g(){var a;try{a=d.storage.debug}catch(b){}return a}d=b.exports=a("./debug");d.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};d.formatArgs=function(){var a=arguments,b=this.useColors;a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+d.humanize(this.diff);if(!b)return a;var b="color: "+this.color,a=[a[0],b,"color: inherit"].concat(Array.prototype.slice.call(a,
1)),f=0,e=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(f++,"%c"===a&&(e=f))});a.splice(e,0,b);return a};d.save=function(a){try{null==a?d.storage.removeItem("debug"):d.storage.debug=a}catch(b){}};d.load=g;d.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var f;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)f=
chrome.storage.local;else a:{try{f=window.localStorage;break a}catch(h){}f=void 0}d.storage=f;d.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");d.formatters.j=function(a){return JSON.stringify(a)};d.enable(g())},{"./debug":18}],18:[function(a,b,d){d=b.exports=function(a){function b(){}function e(){var a=+new Date;e.diff=a-(f||a);e.prev=f;f=e.curr=a;null==e.useColors&&(e.useColors=d.useColors());null==e.color&&e.useColors&&(e.color=d.colors[g++%d.colors.length]);
var b=Array.prototype.slice.call(arguments);b[0]=d.coerce(b[0]);"string"!==typeof b[0]&&(b=["%o"].concat(b));var h=0;b[0]=b[0].replace(/%([a-z%])/g,function(a,f){if("%%"===a)return a;h++;var g=d.formatters[f];"function"===typeof g&&(a=g.call(e,b[h]),b.splice(h,1),h--);return a});"function"===typeof d.formatArgs&&(b=d.formatArgs.apply(e,b));(e.log||d.log||console.log.bind(console)).apply(e,b)}b.enabled=!1;e.enabled=!0;var n=d.enabled(a)?e:b;n.namespace=a;return n};d.coerce=function(a){return a instanceof
Error?a.stack||a.message:a};d.disable=function(){d.enable("")};d.enable=function(a){d.save(a);for(var b=(a||"").split(/[\s,]+/),e=b.length,f=0;f<e;f++)b[f]&&(a=b[f].replace(/\*/g,".*?"),"-"===a[0]?d.skips.push(new RegExp("^"+a.substr(1)+"$")):d.names.push(new RegExp("^"+a+"$")))};d.enabled=function(a){var b,f;b=0;for(f=d.skips.length;b<f;b++)if(d.skips[b].test(a))return!1;b=0;for(f=d.names.length;b<f;b++)if(d.names[b].test(a))return!0;return!1};d.humanize=a("ms");d.names=[];d.skips=[];d.formatters=
{};var g=0,f},{ms:25}],19:[function(a,b,d){(function(b){function f(a,b,f){if(!b)return d.encodeBase64Packet(a,f);var e=new FileReader;e.onload=function(){a.data=e.result;d.encodePacket(a,b,!0,f)};return e.readAsArrayBuffer(a.data)}function e(a,b,d){var f=Array(a.length);d=q(a.length,d);for(var g=function(a,d,e){b(d,function(b,d){f[a]=d;e(b,f)})},h=0;h<a.length;h++)g(h,a[h],d)}var k=a("./keys"),l=a("has-binary"),n=a("arraybuffer.slice"),p=a("base64-arraybuffer"),q=a("after"),t=a("utf8"),r=navigator.userAgent.match(/Android/i),
w=/PhantomJS/i.test(navigator.userAgent),K=r||w;d.protocol=3;var Q=d.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},V=k(Q),ba={type:"error",data:"parser error"},fa=a("blob");d.encodePacket=function(a,e,h,k){"function"==typeof e&&(k=e,e=!1);"function"==typeof h&&(k=h,h=null);var l=void 0===a.data?void 0:a.data.buffer||a.data;if(b.ArrayBuffer&&l instanceof ArrayBuffer){if(e){h=a.data;e=new Uint8Array(h);h=new Uint8Array(1+h.byteLength);h[0]=Q[a.type];for(a=0;a<e.length;a++)h[a+1]=
e[a];a=k(h.buffer)}else a=d.encodeBase64Packet(a,k);return a}if(fa&&l instanceof b.Blob)return e?K?a=f(a,e,k):(e=new Uint8Array(1),e[0]=Q[a.type],a=new fa([e.buffer,a.data]),a=k(a)):a=d.encodeBase64Packet(a,k),a;if(l&&l.base64)return k("b"+d.packets[a.type]+a.data.data);e=Q[a.type];void 0!==a.data&&(e+=h?t.encode(String(a.data)):String(a.data));return k(""+e)};d.encodeBase64Packet=function(a,e){var f="b"+d.packets[a.type];if(fa&&a.data instanceof b.Blob){var h=new FileReader;h.onload=function(){var a=
h.result.split(",")[1];e(f+a)};return h.readAsDataURL(a.data)}var k;try{k=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(l){k=new Uint8Array(a.data);for(var w=Array(k.length),n=0;n<k.length;n++)w[n]=k[n];k=String.fromCharCode.apply(null,w)}f+=b.btoa(k);return e(f)};d.decodePacket=function(a,b,e){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return d.decodeBase64Packet(a.substr(1),b);if(e)try{a=t.decode(a)}catch(f){return ba}e=a.charAt(0);return Number(e)==e&&V[e]?1<a.length?
{type:V[e],data:a.substring(1)}:{type:V[e]}:ba}e=(new Uint8Array(a))[0];a=n(a,1);fa&&"blob"===b&&(a=new fa([a]));return{type:V[e],data:a}};d.decodeBase64Packet=function(a,d){var e=V[a.charAt(0)];if(!b.ArrayBuffer)return{type:e,data:{base64:!0,data:a.substr(1)}};var f=p.decode(a.substr(1));"blob"===d&&fa&&(f=new fa([f]));return{type:e,data:f}};d.encodePayload=function(a,b,f){"function"==typeof b&&(f=b,b=null);var g=l(a);if(b&&g)return fa&&!K?d.encodePayloadAsBlob(a,f):d.encodePayloadAsArrayBuffer(a,
f);if(!a.length)return f("0:");e(a,function(a,e){d.encodePacket(a,g?b:!1,!0,function(a){e(null,a.length+":"+a)})},function(a,b){return f(b.join(""))})};d.decodePayload=function(a,b,e){if("string"!=typeof a)return d.decodePayloadAsBinary(a,b,e);"function"===typeof b&&(e=b,b=null);var f;if(""==a)return e(ba,0,1);f="";for(var g,h,k=0,l=a.length;k<l;k++)if(h=a.charAt(k),":"!=h)f+=h;else{if(""==f||f!=(g=Number(f)))return e(ba,0,1);h=a.substr(k+1,g);if(f!=h.length)return e(ba,0,1);if(h.length){f=d.decodePacket(h,
b,!0);if(ba.type==f.type&&ba.data==f.data)return e(ba,0,1);if(!1===e(f,k+g,l))return}k+=g;f=""}if(""!=f)return e(ba,0,1)};d.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));e(a,function(a,b){d.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,d){var e=d.reduce(function(a,b){var d;d="string"===typeof b?b.length:b.byteLength;return a+d.toString().length+d+2},0),f=new Uint8Array(e),g=0;d.forEach(function(a){var b="string"===typeof a,d=a;if(b){for(var d=
new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);d=d.buffer}b?f[g++]=0:f[g++]=1;a=d.byteLength.toString();for(e=0;e<a.length;e++)f[g++]=parseInt(a[e]);f[g++]=255;d=new Uint8Array(d);for(e=0;e<d.length;e++)f[g++]=d[e]});return b(f.buffer)})};d.encodePayloadAsBlob=function(a,b){e(a,function(a,b){d.encodePacket(a,!0,!0,function(a){var d=new Uint8Array(1);d[0]=1;if("string"===typeof a){for(var e=new Uint8Array(a.length),f=0;f<a.length;f++)e[f]=a.charCodeAt(f);a=e.buffer;d[0]=0}for(var e=
(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),g=new Uint8Array(e.length+1),f=0;f<e.length;f++)g[f]=parseInt(e[f]);g[e.length]=255;fa&&(a=new fa([d.buffer,g.buffer,a]),b(null,a))})},function(a,d){return b(new fa(d))})};d.decodePayloadAsBinary=function(a,b,e){"function"===typeof b&&(e=b,b=null);for(var f=[],g=!1;0<a.byteLength;){for(var h=new Uint8Array(a),k=0===h[0],l="",w=1;255!=h[w];w++){if(310<l.length){g=!0;break}l+=h[w]}if(g)return e(ba,0,1);a=n(a,2+l.length);l=parseInt(l);h=n(a,0,
l);if(k)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(r){for(k=new Uint8Array(h),h="",w=0;w<k.length;w++)h+=String.fromCharCode(k[w])}f.push(h);a=n(a,l)}var p=f.length;f.forEach(function(a,f){e(d.decodePacket(a,b,!0),f,p)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(a,b,d){b.exports=Object.keys||
function(a){var b=[],d=Object.prototype.hasOwnProperty,e;for(e in a)d.call(a,e)&&b.push(e);return b}},{}],21:[function(a,b,d){(function(d){var f=a("isarray");b.exports=function(a){function b(a){if(!a)return!1;if(d.Buffer&&d.Buffer.isBuffer(a)||d.ArrayBuffer&&a instanceof ArrayBuffer||d.Blob&&a instanceof Blob||d.File&&a instanceof File)return!0;if(f(a))for(var e=0;e<a.length;e++){if(b(a[e]))return!0}else if(a&&"object"==typeof a)for(e in a.toJSON&&(a=a.toJSON()),a)if(Object.prototype.hasOwnProperty.call(a,
e)&&b(a[e]))return!0;return!1}return b(a)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:24}],22:[function(a,b,d){try{b.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(g){b.exports=!1}},{}],23:[function(a,b,d){var g=[].indexOf;b.exports=function(a,b){if(g)return a.indexOf(b);for(var d=0;d<a.length;++d)if(a[d]===b)return d;return-1}},{}],24:[function(a,b,d){b.exports=Array.isArray||
function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],25:[function(a,b,d){function g(a){a=""+a;if(!(1E4<a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var b=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*b;case "days":case "day":case "d":return 864E5*b;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*
b;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*b;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*b;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return b}}}function f(a,b,d){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+d:Math.ceil(a/b)+" "+d+"s"}b.exports=function(a,b){b=b||{};return"string"==typeof a?g(a):b.long?f(a,864E5,"day")||f(a,36E5,"hour")||f(a,6E4,"minute")||f(a,1E3,"second")||a+" ms":864E5<=a?Math.round(a/864E5)+
"d":36E5<=a?Math.round(a/36E5)+"h":6E4<=a?Math.round(a/6E4)+"m":1E3<=a?Math.round(a/1E3)+"s":a+"ms"}},{}],26:[function(a,b,d){(function(a){var d=/^[\],:{}\s]*$/,h=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,k=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,l=/(?:^|:|,)(?:\s*\[)+/g,n=/^\s+/,p=/\s+$/;b.exports=function(b){if("string"!=typeof b||!b)return null;b=b.replace(n,"").replace(p,"");if(a.JSON&&JSON.parse)return JSON.parse(b);if(d.test(b.replace(h,"@").replace(k,"]").replace(l,"")))return(new Function("return "+
b))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],27:[function(a,b,d){d.encode=function(a){var b="",d;for(d in a)a.hasOwnProperty(d)&&(b.length&&(b+="&"),b+=encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return b};d.decode=function(a){var b={};a=a.split("&");for(var d=0,e=a.length;d<e;d++){var l=a[d].split("=");b[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return b}},{}],28:[function(a,b,d){var g=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");b.exports=function(a){var b=a,d=a.indexOf("["),e=a.indexOf("]");-1!=d&&-1!=e&&(a=a.substring(0,d)+a.substring(d,e).replace(/:/g,";")+a.substring(e,a.length));a=g.exec(a||"");for(var p={},q=14;q--;)p[f[q]]=a[q]||"";-1!=d&&-1!=e&&(p.source=b,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=
!0);return p}},{}],29:[function(a,b,d){(function(a){(function(f){function h(a){for(var b=[],d=0,e=a.length,f,g;d<e;)f=a.charCodeAt(d++),55296<=f&&56319>=f&&d<e?(g=a.charCodeAt(d++),56320==(g&64512)?b.push(((f&1023)<<10)+(g&1023)+65536):(b.push(f),d--)):b.push(f);return b}function k(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function l(){if(Q>=K)throw Error("Invalid byte index");var a=w[Q]&255;Q++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");
}function n(){var a,b,d,e;if(Q>K)throw Error("Invalid byte index");if(Q==K)return!1;a=w[Q]&255;Q++;if(0==(a&128))return a;if(192==(a&224)){b=l();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=l();d=l();a=(a&15)<<12|b<<6|d;if(2048<=a)return k(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=l(),d=l(),e=l(),a=(a&15)<<18|b<<12|d<<6|e,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var p="object"==typeof d&&d,q="object"==
typeof b&&b&&b.exports==p&&b,t="object"==typeof a&&a;if(t.global===t||t.window===t)f=t;var r=String.fromCharCode,w,K,Q,t={version:"2.0.0",encode:function(a){a=h(a);for(var b=a.length,d=-1,e,f="";++d<b;){e=a[d];if(0==(e&4294967168))e=r(e);else{var g="";0==(e&4294965248)?g=r(e>>6&31|192):0==(e&4294901760)?(k(e),g=r(e>>12&15|224),g+=r(e>>6&63|128)):0==(e&4292870144)&&(g=r(e>>18&7|240),g+=r(e>>12&63|128),g+=r(e>>6&63|128));e=g+=r(e&63|128)}f+=e}return f},decode:function(a){w=h(a);K=w.length;Q=0;a=[];
for(var b;!1!==(b=n());)a.push(b);b=a.length;for(var d=-1,e,f="";++d<b;)e=a[d],65535<e&&(e-=65536,f+=r(e>>>10&1023|55296),e=56320|e&1023),f+=r(e);return f}};if(p&&!p.nodeType)if(q)q.exports=t;else{f={}.hasOwnProperty;for(var V in t)f.call(t,V)&&(p[V]=t[V])}else f.utf8=t})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],30:[function(a,b,d){function g(a){var b="";do b=h[a%64]+b,a=Math.floor(a/64);while(0<a);return b}function f(){var a=
g(+new Date);return a!==p?(l=0,p=a):a+"."+g(l++)}for(var h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),k={},l=0,n=0,p;64>n;n++)k[h[n]]=n;f.encode=g;f.decode=function(a){var b=0;for(n=0;n<a.length;n++)b=64*b+k[a.charAt(n)];return b};b.exports=f},{}],31:[function(a,b,d){function g(a,b){"object"==typeof a&&(b=a,a=void 0);b=b||{};var d=f(a),e=d.source,g=d.id,h=d.path,h=n[g]&&h in n[g].nsps;b.forceNew||b["force new connection"]||!1===b.multiplex||h?(l("ignoring socket cache for %s",
e),e=k(e,b)):(n[g]||(l("new io instance for %s",e),n[g]=k(e,b)),e=n[g]);return e.socket(d.path)}var f=a("./url"),h=a("socket.io-parser"),k=a("./manager"),l=a("debug")("socket.io-client");b.exports=d=g;var n=d.managers={};d.protocol=h.protocol;d.connect=g;d.Manager=a("./manager");d.Socket=a("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(a,b,d){function g(a,b){if(!(this instanceof g))return new g(a,b);a&&"object"==typeof a&&(b=a,a=void 0);b=b||{};
b.path=b.path||"/socket.io";this.nsps={};this.subs=[];this.opts=b;this.reconnection(!1!==b.reconnection);this.reconnectionAttempts(b.reconnectionAttempts||Infinity);this.reconnectionDelay(b.reconnectionDelay||1E3);this.reconnectionDelayMax(b.reconnectionDelayMax||5E3);this.randomizationFactor(b.randomizationFactor||.5);this.backoff=new t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==b.timeout?2E4:b.timeout);this.readyState="closed";
this.uri=a;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=new k.Encoder;this.decoder=new k.Decoder;(this.autoConnect=!1!==b.autoConnect)&&this.open()}var f=a("engine.io-client"),h=a("./socket");d=a("component-emitter");var k=a("socket.io-parser"),l=a("./on"),n=a("component-bind"),p=a("debug")("socket.io-client:manager"),q=a("indexof"),t=a("backo2"),r=Object.prototype.hasOwnProperty;b.exports=g;g.prototype.emitAll=function(){this.emit.apply(this,arguments);
for(var a in this.nsps)r.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)};g.prototype.updateSocketIds=function(){for(var a in this.nsps)r.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)};d(g.prototype);g.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};g.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};g.prototype.reconnectionDelay=
function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};g.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};g.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};g.prototype.timeout=
function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};g.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};g.prototype.open=g.prototype.connect=function(a){p("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;p("opening %s",this.uri);var b=this.engine=f(this.uri,this.opts),d=this;this.readyState="opening";this.skipReconnect=!1;var e=l(b,"open",function(){d.onopen();
a&&a()}),g=l(b,"error",function(b){p("connect_error");d.cleanup();d.readyState="closed";d.emitAll("connect_error",b);if(a){var e=Error("Connection error");e.data=b;a(e)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var h=this._timeout;p("connect attempt will timeout after %d",h);var k=setTimeout(function(){p("connect attempt timed out after %d",h);e.destroy();b.close();b.emit("error","timeout");d.emitAll("connect_timeout",h)},h);this.subs.push({destroy:function(){clearTimeout(k)}})}this.subs.push(e);
this.subs.push(g);return this};g.prototype.onopen=function(){p("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(l(a,"data",n(this,"ondata")));this.subs.push(l(a,"ping",n(this,"onping")));this.subs.push(l(a,"pong",n(this,"onpong")));this.subs.push(l(a,"error",n(this,"onerror")));this.subs.push(l(a,"close",n(this,"onclose")));this.subs.push(l(this.decoder,"decoded",n(this,"ondecoded")))};g.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};
g.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};g.prototype.ondata=function(a){this.decoder.add(a)};g.prototype.ondecoded=function(a){this.emit("packet",a)};g.prototype.onerror=function(a){p("error",a);this.emitAll("error",a)};g.prototype.socket=function(a){function b(){~q(e.connecting,d)||e.connecting.push(d)}var d=this.nsps[a];if(!d){d=new h(this,a);this.nsps[a]=d;var e=this;d.on("connecting",b);d.on("connect",function(){d.id=e.engine.id});this.autoConnect&&b()}return d};
g.prototype.destroy=function(a){a=q(this.connecting,a);~a&&this.connecting.splice(a,1);this.connecting.length||this.close()};g.prototype.packet=function(a){p("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(d){for(var e=0;e<d.length;e++)b.engine.write(d[e],a.options);b.encoding=!1;b.processPacketQueue()}))};g.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};
g.prototype.cleanup=function(){p("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};g.prototype.close=g.prototype.disconnect=function(){p("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};g.prototype.onclose=function(a){p("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";
this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};g.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)p("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();p("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var d=setTimeout(function(){a.skipReconnect||(p("attempting reconnect"),
a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(p("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(p("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(d)}})}};g.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":33,
"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(a,b,d){b.exports=function(a,b,d){a.on(b,d);return{destroy:function(){a.removeListener(b,d)}}}},{}],34:[function(a,b,d){function g(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var f=a("socket.io-parser");d=a("component-emitter");
var h=a("to-array"),k=a("./on"),l=a("component-bind"),n=a("debug")("socket.io-client:socket"),p=a("has-binary");b.exports=g;var q={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},t=d.prototype.emit;d(g.prototype);g.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[k(a,"open",l(this,"onopen")),k(a,"packet",l(this,"onpacket")),k(a,"close",l(this,"onclose"))]}};
g.prototype.open=g.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();this.emit("connecting");return this};g.prototype.send=function(){var a=h(arguments);a.unshift("message");this.emit.apply(this,a);return this};g.prototype.emit=function(a){if(q.hasOwnProperty(a))return t.apply(this,arguments),this;var b=h(arguments),d=f.EVENT;p(b)&&(d=f.BINARY_EVENT);d={type:d,data:b,options:{}};d.options.compress=!this.flags||!1!==
this.flags.compress;"function"==typeof b[b.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),d.id=this.ids++);this.connected?this.packet(d):this.sendBuffer.push(d);delete this.flags;return this};g.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};g.prototype.onopen=function(){n("transport is open - connecting");"/"!=this.nsp&&this.packet({type:f.CONNECT})};g.prototype.onclose=function(a){n("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;
this.emit("disconnect",a)};g.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(a);break;case f.BINARY_EVENT:this.onevent(a);break;case f.ACK:this.onack(a);break;case f.BINARY_ACK:this.onack(a);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",a.data)}};g.prototype.onevent=function(a){var b=a.data||[];n("emitting event %j",b);null!=a.id&&(n("attaching ack callback to event"),b.push(this.ack(a.id)));
this.connected?t.apply(this,b):this.receiveBuffer.push(b)};g.prototype.ack=function(a){var b=this,d=!1;return function(){if(!d){d=!0;var e=h(arguments);n("sending ack %j",e);var g=p(e)?f.BINARY_ACK:f.ACK;b.packet({type:g,id:a,data:e})}}};g.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(n("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):n("bad ack %s",a.id)};g.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");
this.emitBuffered()};g.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)t.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};g.prototype.ondisconnect=function(){n("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};g.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};
g.prototype.close=g.prototype.disconnect=function(){this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this};g.prototype.compress=function(a){this.flags=this.flags||{};this.flags.compress=a;return this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(a,b,d){(function(d){var f=a("parseuri"),h=a("debug")("socket.io-client:url");
b.exports=function(a,b){var e=a;b=b||d.location;null==a&&(a=b.protocol+"//"+b.host);"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?b.protocol+a:b.host+a),/^(https?|wss?):\/\//.test(a)||(h("protocol-less url %s",a),a="undefined"!=typeof b?b.protocol+"//"+a:"https://"+a),h("parse %s",a),e=f(a));e.port||(/^(http|ws)$/.test(e.protocol)?e.port="80":/^(http|ws)s$/.test(e.protocol)&&(e.port="443"));e.path=e.path||"/";var p=-1!==e.host.indexOf(":")?"["+e.host+"]":e.host;e.id=e.protocol+"://"+
p+":"+e.port;e.href=e.protocol+"://"+p+(b&&b.port==e.port?"":":"+e.port);return e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{debug:39,parseuri:45}],36:[function(a,b,d){function g(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}b.exports=g;g.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var b=
Math.random(),d=Math.floor(b*this.jitter*a),a=0==(Math.floor(10*b)&1)?a-d:a+d;return Math.min(a,this.max)|0};g.prototype.reset=function(){this.attempts=0};g.prototype.setMin=function(a){this.ms=a};g.prototype.setMax=function(a){this.max=a};g.prototype.setJitter=function(a){this.jitter=a}},{}],37:[function(a,b,d){var g=[].slice;b.exports=function(a,b){"string"==typeof b&&(b=a[b]);if("function"!=typeof b)throw Error("bind() requires a function");var d=g.call(arguments,2);return function(){return b.apply(a,
d.concat(g.call(arguments)))}}},{}],38:[function(a,b,d){function g(a){if(a){for(var b in g.prototype)a[b]=g.prototype[b];return a}}b.exports=g;g.prototype.on=g.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b);return this};g.prototype.once=function(a,b){function d(){this.off(a,d);b.apply(this,arguments)}d.fn=b;this.on(a,d);return this};g.prototype.off=g.prototype.removeListener=g.prototype.removeAllListeners=g.prototype.removeEventListener=
function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks["$"+a];if(!d)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var e,g=0;g<d.length;g++)if(e=d[g],e===b||e.fn===b){d.splice(g,1);break}return this};g.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),d=this._callbacks["$"+a];if(d)for(var d=d.slice(0),e=0,g=d.length;e<g;++e)d[e].apply(this,b);return this};
g.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks["$"+a]||[]};g.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],39:[function(a,b,d){arguments[4][17][0].apply(d,arguments)},{"./debug":40,dup:17}],40:[function(a,b,d){arguments[4][18][0].apply(d,arguments)},{dup:18,ms:44}],41:[function(a,b,d){(function(d){var f=a("isarray");b.exports=function(a){function b(a){if(!a)return!1;if(d.Buffer&&d.Buffer.isBuffer&&d.Buffer.isBuffer(a)||d.ArrayBuffer&&
a instanceof ArrayBuffer||d.Blob&&a instanceof Blob||d.File&&a instanceof File)return!0;if(f(a))for(var e=0;e<a.length;e++){if(b(a[e]))return!0}else if(a&&"object"==typeof a)for(e in a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON()),a)if(Object.prototype.hasOwnProperty.call(a,e)&&b(a[e]))return!0;return!1}return b(a)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:43}],42:[function(a,b,d){arguments[4][23][0].apply(d,
arguments)},{dup:23}],43:[function(a,b,d){arguments[4][24][0].apply(d,arguments)},{dup:24}],44:[function(a,b,d){arguments[4][25][0].apply(d,arguments)},{dup:25}],45:[function(a,b,d){arguments[4][28][0].apply(d,arguments)},{dup:28}],46:[function(a,b,d){(function(b){var e=a("isarray"),h=a("./is-buffer");d.deconstructPacket=function(a){function b(a){if(!a)return a;if(h(a)){var g={_placeholder:!0,num:d.length};d.push(a);return g}if(e(a)){for(var g=Array(a.length),k=0;k<a.length;k++)g[k]=b(a[k]);return g}if("object"==
typeof a&&!(a instanceof Date)){g={};for(k in a)g[k]=b(a[k]);return g}return a}var d=[];a.data=b(a.data);a.attachments=d.length;return{packet:a,buffers:d}};d.reconstructPacket=function(a,b){function d(a){if(a&&a._placeholder)return b[a.num];if(e(a))for(var g=0;g<a.length;g++)a[g]=d(a[g]);else if(a&&"object"==typeof a)for(g in a)a[g]=d(a[g]);return a}a.data=d(a.data);a.attachments=void 0;return a};d.removeBlobs=function(a,d){function n(a,k,w){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof
File){p++;var K=new FileReader;K.onload=function(){w?w[k]=this.result:q=this.result;--p||d(q)};K.readAsArrayBuffer(a)}else if(e(a))for(K=0;K<a.length;K++)n(a[K],K,a);else if(a&&"object"==typeof a&&!h(a))for(K in a)n(a[K],K,a)}var p=0,q=a;n(q);p||d(q)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(a,b,d){function g(){}function f(a){var b,e=!1;b=""+a.type;if(d.BINARY_EVENT==a.type||d.BINARY_ACK==
a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(e=!0,b+=a.nsp);null!=a.id&&(e&&(b+=",",e=!1),b+=a.id);null!=a.data&&(e&&(b+=","),b+=p.stringify(a.data));n("encoded %j as %s",a,b);return b}function h(a,b){q.removeBlobs(a,function(a){var d=q.deconstructPacket(a);a=f(d.packet);d=d.buffers;d.unshift(a);b(d)})}function k(){this.reconstructor=null}function l(a){this.reconPack=a;this.buffers=[]}var n=a("debug")("socket.io-parser"),p=a("json3");a("isarray");b=a("component-emitter");var q=a("./binary"),
t=a("./is-buffer");d.protocol=4;d.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");d.CONNECT=0;d.DISCONNECT=1;d.EVENT=2;d.ACK=3;d.ERROR=4;d.BINARY_EVENT=5;d.BINARY_ACK=6;d.Encoder=g;d.Decoder=k;g.prototype.encode=function(a,b){n("encoding packet %j",a);if(d.BINARY_EVENT==a.type||d.BINARY_ACK==a.type)h(a,b);else{var e=f(a);b([e])}};b(k.prototype);k.prototype.add=function(a){if("string"==typeof a){a:{var b={},e=0;b.type=Number(a.charAt(0));if(null==d.types[b.type])a={type:d.ERROR,
data:"parser error"};else{if(d.BINARY_EVENT==b.type||d.BINARY_ACK==b.type){for(var f="";"-"!=a.charAt(++e)&&(f+=a.charAt(e),e!=a.length););if(f!=Number(f)||"-"!=a.charAt(e))throw Error("Illegal attachments");b.attachments=Number(f)}if("/"==a.charAt(e+1))for(b.nsp="";++e;){f=a.charAt(e);if(","==f)break;b.nsp+=f;if(e==a.length)break}else b.nsp="/";f=a.charAt(e+1);if(""!==f&&Number(f)==f){for(b.id="";++e;){f=a.charAt(e);if(null==f||Number(f)!=f){--e;break}b.id+=a.charAt(e);if(e==a.length)break}b.id=
Number(b.id)}if(a.charAt(++e))try{b.data=p.parse(a.substr(e))}catch(g){a={type:d.ERROR,data:"parser error"};break a}n("decoded %s as %j",a,b);a=b}}d.BINARY_EVENT==a.type||d.BINARY_ACK==a.type?(this.reconstructor=new l(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(t(a)||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");
else throw Error("Unknown type: "+a);};k.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};l.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=q.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};l.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],
48:[function(a,b,d){(function(a){b.exports=function(b){return a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&b instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],49:[function(a,b,d){arguments[4][15][0].apply(d,arguments)},{dup:15}],50:[function(a,b,d){(function(a){(function(){function f(a,b){function d(a){if(d[a]!==ga)return d[a];var f;if("bug-string-char-index"==a)f="a"!="a"[0];else if("json"==a)f=d("json-stringify")&&
d("json-parse");else{var h;if("json-stringify"==a){f=b.stringify;var k="function"==typeof f&&U;if(k){(h=function(){return 1}).toJSON=h;try{k="0"===f(0)&&"0"===f(new e)&&'""'==f(new g)&&f(W)===ga&&f(ga)===ga&&f()===ga&&"1"===f(h)&&"[1]"==f([h])&&"[null]"==f([ga])&&"null"==f(null)&&"[null,null,null]"==f([ga,W,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==f({a:[h,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===f(null,h)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new n(-864E13))&&
'"+275760-09-13T00:00:00.000Z"'==f(new n(864E13))&&'"-000001-01-01T00:00:00.000Z"'==f(new n(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==f(new n(-1))}catch(l){k=!1}}f=k}if("json-parse"==a){f=b.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){h=f('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var p=5==h.a.length&&1===h.a[0];if(p){try{p=!f('"\t"')}catch(l){}if(p)try{p=1!==f("01")}catch(l){}if(p)try{p=1!==f("1.")}catch(l){}}}}catch(l){p=!1}f=p}}return d[a]=!!f}a||(a=l.Object());b||(b=
l.Object());var e=a.Number||l.Number,g=a.String||l.String,k=a.Object||l.Object,n=a.Date||l.Date,p=a.SyntaxError||l.SyntaxError,q=a.TypeError||l.TypeError,t=a.Math||l.Math,r=a.JSON||l.JSON;"object"==typeof r&&r&&(b.stringify=r.stringify,b.parse=r.parse);var k=k.prototype,W=k.toString,X,oa,ga,U=new n(-0xc782b5b800cec);try{U=-109252==U.getUTCFullYear()&&0===U.getUTCMonth()&&1===U.getUTCDate()&&10==U.getUTCHours()&&37==U.getUTCMinutes()&&6==U.getUTCSeconds()&&708==U.getUTCMilliseconds()}catch(sb){}if(!d("json")){var R=
d("bug-string-char-index");if(!U)var ha=t.floor,Ob=[0,31,59,90,120,151,181,212,243,273,304,334],ya=function(a,b){return Ob[b]+365*(a-1970)+ha((a-1969+(b=+(1<b)))/4)-ha((a-1901+b)/100)+ha((a-1601+b)/400)};(X=k.hasOwnProperty)||(X=function(a){var b={},d;(b.__proto__=null,b.__proto__={toString:1},b).toString!=W?X=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(d=b.constructor,X=function(a){var b=(this.constructor||d).prototype;return a in this&&!(a in b&&
this[a]===b[a])});b=null;return X.call(this,a)});oa=function(a,b){var d=0,e,f,g;(e=function(){this.valueOf=0}).prototype.valueOf=0;f=new e;for(g in f)X.call(f,g)&&d++;e=f=null;d?oa=2==d?function(a,b){var d={},e="[object Function]"==W.call(a),f;for(f in a)e&&"prototype"==f||X.call(d,f)||!(d[f]=1)||!X.call(a,f)||b(f)}:function(a,b){var d="[object Function]"==W.call(a),e,f;for(e in a)d&&"prototype"==e||!X.call(a,e)||(f="constructor"===e)||b(e);(f||X.call(a,e="constructor"))&&b(e)}:(f="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
oa=function(a,b){var d="[object Function]"==W.call(a),e,g=!d&&"function"!=typeof a.constructor&&h[typeof a.hasOwnProperty]&&a.hasOwnProperty||X;for(e in a)d&&"prototype"==e||!g.call(a,e)||b(e);for(d=f.length;e=f[--d];g.call(a,e)&&b(e));});return oa(a,b)};if(!d("json-stringify")){var Pb={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},ia=function(a,b){return("000000"+(b||0)).slice(-a)},$a=function(a){for(var b='"',d=0,e=a.length,f=!R||10<e,g=f&&(R?a.split(""):a);d<e;d++){var h=a.charCodeAt(d);
switch(h){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=Pb[h];break;default:if(32>h){b+="\\u00"+ia(2,h.toString(16));break}b+=f?g[d]:a.charAt(d)}}return b+'"'},La=function(a,b,d,e,f,g,h){var k,l,n,p,r,t,w,I,K;try{k=b[a]}catch(L){}if("object"==typeof k&&k)if(l=W.call(k),"[object Date]"!=l||X.call(k,"toJSON"))"function"==typeof k.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||X.call(k,"toJSON"))&&(k=k.toJSON(a));else if(k>-1/0&&k<1/0){if(ya){p=ha(k/864E5);for(l=
ha(p/365.2425)+1970-1;ya(l+1,0)<=p;l++);for(n=ha((p-ya(l,0))/30.42);ya(l,n+1)<=p;n++);p=1+p-ya(l,n);r=(k%864E5+864E5)%864E5;t=ha(r/36E5)%24;w=ha(r/6E4)%60;I=ha(r/1E3)%60;r%=1E3}else l=k.getUTCFullYear(),n=k.getUTCMonth(),p=k.getUTCDate(),t=k.getUTCHours(),w=k.getUTCMinutes(),I=k.getUTCSeconds(),r=k.getUTCMilliseconds();k=(0>=l||1E4<=l?(0>l?"-":"+")+ia(6,0>l?-l:l):ia(4,l))+"-"+ia(2,n+1)+"-"+ia(2,p)+"T"+ia(2,t)+":"+ia(2,w)+":"+ia(2,I)+"."+ia(3,r)+"Z"}else k=null;d&&(k=d.call(b,a,k));if(null===k)return"null";
l=W.call(k);if("[object Boolean]"==l)return""+k;if("[object Number]"==l)return k>-1/0&&k<1/0?""+k:"null";if("[object String]"==l)return $a(""+k);if("object"==typeof k){for(a=h.length;a--;)if(h[a]===k)throw q();h.push(k);K=[];b=g;g+=f;if("[object Array]"==l){n=0;for(a=k.length;n<a;n++)l=La(n,k,d,e,f,g,h),K.push(l===ga?"null":l);a=K.length?f?"[\n"+g+K.join(",\n"+g)+"\n"+b+"]":"["+K.join(",")+"]":"[]"}else oa(e||k,function(a){var b=La(a,k,d,e,f,g,h);b!==ga&&K.push($a(a)+":"+(f?" ":"")+b)}),a=K.length?
f?"{\n"+g+K.join(",\n"+g)+"\n"+b+"}":"{"+K.join(",")+"}":"{}";h.pop();return a}};b.stringify=function(a,b,d){var e,f,g,k;if(h[typeof b]&&b)if("[object Function]"==(k=W.call(b)))f=b;else if("[object Array]"==k){g={};for(var l=0,n=b.length,p;l<n;p=b[l++],(k=W.call(p),"[object String]"==k||"[object Number]"==k)&&(g[p]=1));}if(d)if("[object Number]"==(k=W.call(d))){if(0<(d-=d%1))for(e="",10<d&&(d=10);e.length<d;e+=" ");}else"[object String]"==k&&(e=10>=d.length?d:d.slice(0,10));return La("",(p={},p[""]=
a,p),f,g,e,"",[])}}if(!d("json-parse")){var tb=g.fromCharCode,ja={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I,Ea,S=function(){I=Ea=null;throw p();},pa=function(){for(var a=Ea,b=a.length,d,e,f,g,h;I<b;)switch(h=a.charCodeAt(I),h){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return d=R?a.charAt(I):a[I],I++,d;case 34:d="@";for(I++;I<b;)if(h=a.charCodeAt(I),32>h)S();else if(92==h)switch(h=a.charCodeAt(++I),h){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:d+=
ja[h];I++;break;case 117:e=++I;for(f=I+4;I<f;I++)h=a.charCodeAt(I),48<=h&&57>=h||97<=h&&102>=h||65<=h&&70>=h||S();d+=tb("0x"+a.slice(e,I));break;default:S()}else{if(34==h)break;h=a.charCodeAt(I);for(e=I;32<=h&&92!=h&&34!=h;)h=a.charCodeAt(++I);d+=a.slice(e,I)}if(34==a.charCodeAt(I))return I++,d;S();default:e=I;45==h&&(g=!0,h=a.charCodeAt(++I));if(48<=h&&57>=h){for(48==h&&(h=a.charCodeAt(I+1),48<=h&&57>=h)&&S();I<b&&(h=a.charCodeAt(I),48<=h&&57>=h);I++);if(46==a.charCodeAt(I)){for(f=++I;f<b&&(h=a.charCodeAt(f),
48<=h&&57>=h);f++);f==I&&S();I=f}h=a.charCodeAt(I);if(101==h||69==h){h=a.charCodeAt(++I);43!=h&&45!=h||I++;for(f=I;f<b&&(h=a.charCodeAt(f),48<=h&&57>=h);f++);f==I&&S();I=f}return+a.slice(e,I)}g&&S();if("true"==a.slice(I,I+4))return I+=4,!0;if("false"==a.slice(I,I+5))return I+=5,!1;if("null"==a.slice(I,I+4))return I+=4,null;S()}return"$"},za=function(a){var b,d;"$"==a&&S();if("string"==typeof a){if("@"==(R?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;d||(d=!0)){a=pa();if("]"==a)break;d&&
(","==a?(a=pa(),"]"==a&&S()):S());","==a&&S();b.push(za(a))}return b}if("{"==a){for(b={};;d||(d=!0)){a=pa();if("}"==a)break;d&&(","==a?(a=pa(),"}"==a&&S()):S());","!=a&&"string"==typeof a&&"@"==(R?a.charAt(0):a[0])&&":"==pa()||S();b[a.slice(1)]=za(pa())}return b}S()}return a},ab=function(a,b,d){d=ub(a,b,d);d===ga?delete a[b]:a[b]=d},ub=function(a,b,d){var e=a[b],f;if("object"==typeof e&&e)if("[object Array]"==W.call(e))for(f=e.length;f--;)ab(e,f,d);else oa(e,function(a){ab(e,a,d)});return d.call(a,
b,e)};b.parse=function(a,b){var d,e;I=0;Ea=""+a;d=za(pa());"$"!=pa()&&S();I=Ea=null;return b&&"[object Function]"==W.call(b)?ub((e={},e[""]=d,e),"",b):d}}}b.runInContext=f;return b}var h={"function":!0,object:!0},k=h[typeof d]&&d&&!d.nodeType&&d,l=h[typeof window]&&window||this,n=k&&h[typeof b]&&b&&!b.nodeType&&"object"==typeof a&&a;!n||n.global!==n&&n.window!==n&&n.self!==n||(l=n);if(k)f(l,k);else{var p=l.JSON,q=l.JSON3,t=!1,r=f(l,l.JSON3={noConflict:function(){t||(t=!0,l.JSON=p,l.JSON3=q,p=q=null);
return r}});l.JSON={parse:r.parse,stringify:r.stringify}}}).call(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],51:[function(a,b,d){b.exports=function(a,b){for(var d=[],e=(b=b||0)||0;e<a.length;e++)d[e-b]=a[e];return d}},{}]},{},[31])(31)});(function(b,a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define(a):b.Ractive=a()})(this,function(){function b(c){var m;if(c&&"boolean"!==typeof c)return"undefined"!==typeof window&&document&&c?c.nodeType?c:"string"===typeof c&&(m=document.getElementById(c),!m&&document.querySelector&&(m=document.querySelector(c)),m&&m.nodeType)?m:c[0]&&c[0].nodeType?c[0]:null:null}function a(c){c&&"unknown"!==typeof c.parentNode&&c.parentNode&&
c.parentNode.removeChild(c);return c}function e(c){return null!=c&&c.toString?c:""}function d(c){for(var m=arguments.length,a=Array(1<m?m-1:0),b=1;b<m;b++)a[b-1]=arguments[b];for(var d;m=a.shift();)for(d in m)Fa.call(m,d)&&(c[d]=m[d]);return c}function g(c){for(var m=arguments.length,a=Array(1<m?m-1:0),b=1;b<m;b++)a[b-1]=arguments[b];a.forEach(function(m){for(var a in m)!m.hasOwnProperty(a)||a in c||(c[a]=m[a])});return c}function f(c){return"[object Array]"===bb.call(c)}function h(c,m){return null===
c&&null===m?!0:"object"===typeof c||"object"===typeof m?!1:c===m}function k(c){return!isNaN(parseFloat(c))&&isFinite(c)}function l(c){return c&&"[object Object]"===bb.call(c)}function n(c,m){return c.replace(/%s/g,function(){return m.shift()})}function p(c){for(var m=arguments.length,a=Array(1<m?m-1:0),b=1;b<m;b++)a[b-1]=arguments[b];c=n(c,a);throw Error(c);}function q(){Aa.DEBUG&&Sb.apply(null,arguments)}function t(c){for(var m=arguments.length,a=Array(1<m?m-1:0),b=1;b<m;b++)a[b-1]=arguments[b];
c=n(c,a);vb(c,a)}function r(c){for(var m=arguments.length,a=Array(1<m?m-1:0),b=1;b<m;b++)a[b-1]=arguments[b];c=n(c,a);vd[c]||(vd[c]=!0,vb(c,a))}function w(){Aa.DEBUG&&t.apply(null,arguments)}function K(){Aa.DEBUG&&r.apply(null,arguments)}function Q(c,m,a){return(m=V(c,m,a))?m[c][a]:null}function V(c,m,a){for(;m;){if(a in m[c])return m;if(m.isolated)return null;m=m.parent}}function ba(c){return function(){return c}}function fa(c){var m="",a,b,d,e,f,g,h;if(!wb[c]){for(b=[];m.length<c;)m+=1;m=parseInt(m,
2);d=function(c){return"1"===c};for(e=0;e<=m;e+=1){for(a=e.toString(2);a.length<c;)a="0"+a;h=[];g=a.length;for(f=0;f<g;f++)h.push(d(a[f]));b[e]=h}wb[c]=b}return wb[c]}function kd(c,m,a,b){var d=c[m];if(!d||!d.equalsOrStartsWith(b)&&d.equalsOrStartsWith(a))return c[m]=d?d.replace(a,b):b,!0}function L(c){if(null==c)return c;Tb.hasOwnProperty(c)||(Tb[c]=new wd(c));return Tb[c]}function rb(c,m){function a(m,M){var b,J;b=M.isRoot?[].concat(Object.keys(c.viewmodel.data),Object.keys(c.viewmodel.mappings),
Object.keys(c.viewmodel.computations)):(J=(b=c.viewmodel.wrapped[M.str])?b.get():c.viewmodel.get(M))?Object.keys(J):null;b&&b.forEach(function(c){"_ractive"===c&&f(J)||m.push(M.join(c))});return m}var b,d,e;b=m.str.split(".");for(e=[Ga];d=b.shift();)"*"===d?e=e.reduce(a,[]):e[0]===Ga?e[0]=L(d):e=e.map(wg(d));return e}function wg(c){return function(m){return m.join(c)}}function na(c){return c?c.replace(Bg,".$1"):""}function W(c){this.event=c;this.method="on"+c;this.deprecate=Cg[c]}function X(c,m){for(var a=
0,b=c.length;a<b;a++)if(c[a]==m)return!0;return!1}function oa(c,m){var a;if(!f(c)||!f(m)||c.length!==m.length)return!1;for(a=c.length;a--;)if(c[a]!==m[a])return!1;return!0}function ga(c){return"string"===typeof c?[c]:void 0===c?[]:c}function U(c){return c[c.length-1]}function R(c,m){var a=c.indexOf(m);-1!==a&&c.splice(a,1)}function ha(c){for(var m=[],a=c.length;a--;)m[a]=c[a];return m}function Ob(c,m){return function(){for(var a;a=c.shift();)a(m)}}function ya(c,m,a,b){var d;if(m===c)throw new TypeError("A promise's fulfillment handler cannot return the same promise");
if(m instanceof la)m.then(a,b);else if(!m||"object"!==typeof m&&"function"!==typeof m)a(m);else{try{d=m.then}catch(e){b(e);return}if("function"===typeof d){var f,g,h;g=function(m){f||(f=!0,ya(c,m,a,b))};h=function(c){f||(f=!0,b(c))};try{d.call(m,g,h)}catch(e){f||(b(e),f=!0)}}else a(m)}}function Pb(c,m){var a;void 0!=c&&"string"!==typeof c&&(c=c.str);if("."===m)return L(c);a=c?c.split("."):[];if("../"===m.substr(0,3)){for(;"../"===m.substr(0,3);){if(!a.length)throw Error('Could not resolve reference - too many "../" prefixes');
a.pop();m=m.substring(3)}a.push(m);return L(a.join("."))}return c?L(c+m.replace(/^\.\//,".")):L(m.replace(/^\.\/?/,""))}function ia(c,m,a,b){var d,e,f,g;if(m.isRoot)return m;for(e=m.firstKey;a;)if(d=a.context,a=a.parent,d&&(g=!0,(f=c.viewmodel.get(d))&&("object"===typeof f||"function"===typeof f)&&e in f))return d.join(m.str);if(La(c.viewmodel,e))return m;if(c.parent&&!c.isolated&&(g=!0,a=c.component.parentFragment,e=L(e),a=ia(c.parent,e,a,!0)))return c.viewmodel.map(e,{origin:c.parent.viewmodel,
keypath:a}),m;if(!b&&!g)return c.viewmodel.set(m,void 0),m}function $a(c,m){var a;!c.parent||c.isolated||La(c.viewmodel,m)||(m=L(m),(a=ia(c.parent,m,c.component.parentFragment,!0))&&c.viewmodel.map(m,{origin:c.parent.viewmodel,keypath:a}))}function La(c,m){return""===m||m in c.data||m in c.computations||m in c.mappings}function tb(c){c.teardown()}function ja(c){c.unbind()}function I(c){c.unrender()}function Ea(c){c.cancel()}function S(c){c.detach()}function pa(c){c.detachNodes()}function za(c){!c.ready||
c.outros.length||c.outroChildren||(c.outrosComplete||(c.parent?c.parent.decrementOutros(c):c.detachNodes(),c.outrosComplete=!0),c.intros.length||c.totalChildren||("function"===typeof c.callback&&c.callback(),c.parent&&c.parent.decrementTotal()))}function ab(){for(var c,m,a;N.ractives.length;)m=N.ractives.pop(),(a=m.viewmodel.applyChanges())&&Dg.fire(m,a);var b;for(m=Ma.length;m--;)if(a=Ma[m],a.keypath)Ma.splice(m,1);else if(b=xb(a.root,a.ref,a.parentFragment))(c||(c=[])).push({item:a,keypath:b}),
Ma.splice(m,1);c&&c.forEach(ub);for(c=0;c<N.views.length;c+=1)N.views[c].update();for(c=N.views.length=0;c<N.tasks.length;c+=1)N.tasks[c]();N.tasks.length=0;if(N.ractives.length)return ab()}function ub(c){c.item.resolve(c.keypath)}function sb(c,m,a,b){var d,e;m&&(m=L(na(m)));null!==m&&(e=c.viewmodel.get(m));Ub.abort(m,c);if(h(e,a))return b.complete&&b.complete(b.to),Eg;b.easing&&(d="function"===typeof b.easing?b.easing:c.easing[b.easing],"function"!==typeof d&&(d=null));m=new Fg({keypath:m,from:e,
to:a,root:c,duration:void 0===b.duration?400:b.duration,easing:d,interpolator:b.interpolator,step:b.step,complete:b.complete});Ub.add(m);c._animations.push(m);return m}function ld(c){var m;if((m=c.parentFragment)||c.component&&(m=c.component.parentFragment))return m.owner}function md(c){var m;m=[c];for(c=ld(c);c;)m.push(c),c=ld(c);return m}function nd(c,m,a,b,d){d=void 0===d?!1:d;var e,f,g=!0;yb.enqueue(c,a);for(f=m.length;0<=f;f--)if(e=c._subs[m[f]]){var h=c,k=a,l=b,n=null,p=!1;k&&!k._noArg&&(l=
[k].concat(l));e=e.slice();for(var q=0,r=e.length;q<r;q+=1)!1===e[q].apply(h,l)&&(p=!0);k&&!k._noArg&&p&&(n=k.original)&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation());g=!p&&g}yb.dequeue(c);c.parent&&g&&(d&&c.component&&(m=L(c.component.name+"."+m[m.length-1]).wildcardMatches(),a&&(a.component=c)),nd(c.parent,m,a,b))}function od(c){Gg.fire(c);c.findAllComponents("*").forEach(function(c){od(c.instance)})}function xg(c,m,a){switch(m){case "splice":for(void 0!==a[0]&&0>
a[0]&&(a[0]=c.length+Math.max(a[0],-c.length));2>a.length;)a.push(0);a[1]=Math.min(a[1],c.length-a[0]);return a;case "sort":case "reverse":return null;case "pop":return c.length?[c.length-1,1]:[0,0];case "push":return[c.length,0].concat(a);case "shift":return[0,c.length?1:0];case "unshift":return[0,0].concat(a)}}function yg(c){return c.trim?c.trim():c.replace(/^\s+/,"").replace(/\s+$/,"")}function zg(c){return c.str}function pd(c,m){m&&m.constructor!==Object&&"function"!==typeof m&&("object"!==typeof m?
p("data option must be an object or a function, `"+m+"` is not valid"):w("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged"));var a="function"===typeof c,b="function"===typeof m;m||a||(m={});return a||b?function(){var d=b?qd(m,this):m,e=a?qd(c,this):c;return rd(d,e)}:rd(m,c)}function qd(c,m){var a=c.call(m);if(a)return"object"!==typeof a&&p("Data function must return an object"),a.constructor!==Object&&K("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),
a}function rd(c,m){if(c&&m){for(var a in m)a in c||(c[a]=m[a]);return c}return c||m}function Ag(c,m){var a,b,d;a=c.pos;if(c.matchString("\\"+m.open)){if(0===a||"\\"!==c.str[a-1])return m.open}else if(!c.matchString(m.open))return null;if(b=Hg(c)){if(!c.matchString(m.close))return null;m.open=b[0];m.close=b[1];c.sortMustacheTags();return Ig}c.allowWhitespace();c.matchString("/")&&(--c.pos,d=c.pos,xd(c)?c.pos=d:(c.pos=d-m.close.length,c.error("Attempted to close a section that wasn't open")));for(d=
0;d<m.readers.length;d+=1)if(b=m.readers[d],b=b(c,m))return m.isStatic&&(b.s=!0),c.includeLinePositions&&(b.p=c.getLinePos(a)),b;c.pos=a;return null}function sd(c){var m,a,b;m=c.pos;a=Jg(c);if(null===a)return null;a=[a];return c.matchString(",")?(b=sd(c),b?a.concat(b):(c.pos=m,null)):a}function Qb(c){function m(c){a.push(c)}var a,b;c.allowWhitespace();b=Z(c);if(null===b)return null;a=[b];c.allowWhitespace();c.matchString(",")&&(b=Qb(c),null===b&&c.error("Expected a JavaScript expression"),b.forEach(m));
return a}function Ka(c,m){var a,b;30===c.t&&-1===m.indexOf(c.n)&&m.unshift(c.n);if(b=c.o||c.m)if(l(b))Ka(b,m);else for(a=b.length;a--;)Ka(b[a],m);c.x&&Ka(c.x,m);c.r&&Ka(c.r,m);c.v&&Ka(c.v,m)}function td(c,m){var a;53===m?(a={t:4,n:50,f:[]},Ba(ud(c),a)):(a={t:4,n:51,f:[]},Ba(c,a));return a}function ud(c){return 33===c.t&&"!"===c.s?c.o:{t:33,s:"!",o:{t:34,x:c}}}function Rb(c){if(1===c.length)return c[0];var m={t:34,x:c[0]};c=Rb(c.slice(1));return{t:36,s:"&&",o:[m,{t:34,x:c}]}}function Vb(c){return c.replace(yd,
function(c,a){var b;return(b="#"!==a[0]?Wb[a]:"x"===a[1]?parseInt(a.substring(2),16):parseInt(a.substring(1),10))?String.fromCharCode(b?10===b?32:128>b?b:159>=b?zd[b-128]:55296>b?b:57343>=b?65533:65535>=b?b:65533:65533):c})}function Xb(c){return c.replace(Ad,"&amp;").replace(Bd,"&lt;").replace(Cd,"&gt;")}function Na(c){return"string"===typeof c}function wa(c,m,a,b,d){var e,g,h,k,l,n,p;for(e=1;e<c.length;e+=1)g=c[e],h=c[e-1],p=c[e-2],Na(g)&&(9===h.t||10===h.t)&&Na(p)&&Oa.test(p)&&Pa.test(g)&&(c[e-
2]=p.replace(Oa,"\n"),c[e]=g.replace(Pa,"")),(4===g.t||5===g.t)&&g.f&&Na(h)&&Oa.test(h)&&Na(g.f[0])&&Pa.test(g.f[0])&&(c[e-1]=h.replace(Oa,"\n"),g.f[0]=g.f[0].replace(Pa,"")),Na(g)&&(4===h.t||5===h.t)&&h.f&&(p=U(h.f),Na(p)&&Oa.test(p)&&Pa.test(g)&&(h.f[h.f.length-1]=p.replace(Oa,"\n"),c[e]=g.replace(Pa,"")));for(e=c.length;e--;)g=c[e],g.exclude?c.splice(e,1):m&&9===g.t&&c.splice(e,1);Dd(c,b?Ed:null,d?Fd:null);for(e=c.length;e--;){g=c[e];if(g.f){d=7===g.t&&Kg.test(g.e);b=a||d;!a&&d&&Dd(g.f,Lg,Mg);
if(!b){d=c[e-1];h=c[e+1];if(!d||"string"===typeof d&&Fd.test(d))k=!0;if(!h||"string"===typeof h&&Ed.test(h))l=!0}wa(g.f,m,b,k,l)}g.l&&(wa(g.l.f,m,a,k,l),c.splice(e+1,0,g.l),delete g.l);if(g.a)for(n in g.a)g.a.hasOwnProperty(n)&&"string"!==typeof g.a[n]&&wa(g.a[n],m,a,k,l);g.m&&wa(g.m,m,a,k,l);if(g.v)for(n in g.v)g.v.hasOwnProperty(n)&&(f(g.v[n].n)&&wa(g.v[n].n,m,a,k,l),f(g.v[n].d)&&wa(g.v[n].d,m,a,k,l))}for(e=c.length;e--;)"string"===typeof c[e]&&("string"===typeof c[e+1]&&(c[e]+=c[e+1],c.splice(e+
1,1)),a||(c[e]=c[e].replace(Ng," ")),""===c[e]&&c.splice(e,1))}function Gd(c){var m,a,b,d;m=c.pos;a=c.matchPattern(Og);if(!a)return null;b=a;d=c.tags.map(function(c){return c.open});-1!==(b=Yb(b,d))&&(a=a.substr(0,b),c.pos=m+a.length);return a}function Hd(c,a){var M,b,d;M=c.pos;if(!c.matchString(a))return null;c.inAttribute=a;b=[];for(d=Qa(c)||Id(c,a);null!==d;)b.push(d),d=Qa(c)||Id(c,a);if(!c.matchString(a))return c.pos=M,null;c.inAttribute=!1;return b}function Id(c,a){var M,b;b=c.remaining();M=
c.tags.map(function(c){return c.open});M.push(a);M=Yb(b,M);-1===M&&c.error("Quoted attribute value must have a closing quote");if(!M)return null;c.pos+=M;return b.substr(0,M)}function Pg(c){var a;c.allowWhitespace();a=Jd(c);if(!a)return null;a={key:a};c.allowWhitespace();if(!c.matchString(":"))return null;c.allowWhitespace();c=c.read();if(!c)return null;a.value=c.v;return a}function Qg(c,a){var b,J;b=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(a);J=Kd[c];return b&&J?!~J.indexOf(b[1].toLowerCase()):!0}function Ld(c,
a){if(!zb)throw Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return zb(c,a||this.options)}function Md(c){return c&&"#"===c[0]}function Nd(c,a){var b=Rg(ka.getParseOptions(c));return a.call(c,b)}function Rg(c){var a=P(ka);a.parse=function(a,m){return ka.parse(a,m||c)};return a}function Ab(c,a){if("string"===typeof c)"#"===c[0]&&(c=ka.fromId(c)),c=zb(c,ka.getParseOptions(a));else{if(void 0==c)throw Error("The template cannot be "+
c+".");if("number"!==typeof c.v)throw Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(3!==c.v)throw Error("Mismatched template version (expected 3, got "+c.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");}return c}function Od(c,a,b){if(a)for(var J in a)if(b||!c.hasOwnProperty(J))c[J]=a[J]}function Sg(c,a){var b,J;a in
c?(b=c[a],J="function"===typeof b?b:function(){return b}):J=aa;return J}function Pd(c,a,b){return"options."+c+" has been deprecated in favour of options."+a+"."+(b?" You cannot specify both options, please use options."+a+".":"")}function cb(c,a,b){if(a in c){if(b in c)throw Error(Pd(a,b,!0));w(Pd(a,b));c[b]=c[a]}}function Qd(c,a,b,J){Tg(J);for(var d in J)if(Rd.hasOwnProperty(d)){var e=J[d];"el"!==d&&"function"===typeof e?w(""+d+" is a Ractive option that does not expect a function and will be ignored",
"init"===c?b:null):b[d]=e}db.forEach(function(d){d[c](a,b,J)});Sd[c](a,b,J);Zb[c](a,b,J);Td[c](a,b,J);Ug(a.prototype,b,J)}function Ug(c,a,b){for(var J in b)if(!Ud[J]&&b.hasOwnProperty(J)){var d=b[J];"function"===typeof d&&(d=Vg(c,J,d));a[J]=d}}function Vd(c){var a={};c.forEach(function(c){return a[c]=!0});return a}function $b(c,a,b,J){J=J||0;return c.map(function(c){var d,e;if(c.text)return c.text;if(c.fragments)return c.fragments.map(function(c){return $b(c.items,a,b,J)}).join("");d=b+"-"+J++;c=
c.keypath&&(e=c.root.viewmodel.wrapped[c.keypath.str])?e.value:c.getValue();a[d]=c;return"${"+d+"}"}).join("")}function ac(c,a){for(var b,J=0;J<a.prop.length;J++)if(void 0!==(b=c[a.prop[J]]))return b}function Ra(c,a){var b={},J,d,e,f,g,h=!1;a||(b.refs=J={});for(;c;){if((g=c.owner)&&(d=g.indexRefs)){if(a&&(e=g.getIndexRef(a)))return b.ref={fragment:c,ref:e},b;if(!a)for(f in d)e=d[f],J[e.n]||(h=!0,J[e.n]={fragment:c,ref:e})}!c.parent&&c.owner&&c.owner.component&&c.owner.component.parentFragment&&!c.owner.component.instance.isolated?
(b.componentBoundary=!0,c=c.owner.component.parentFragment):c=c.parent}if(h)return b}function Wg(c){return c.call()}function Xg(c,a){return c.replace(/_([0-9]+)/g,function(c,b){var d;if(+b>=a.length)return"_"+b;d=a[b];return void 0===d?"undefined":d.isSpecial?(d=d.value,"number"===typeof d?d:'"'+d+'"'):d.str})}function Yg(c){return void 0!==c&&"@"!==c[0]}function Zg(c,a){var b,J,d;if(c.__ractive_nowrap)return c;J="__ractive_"+a._guid;if(b=c[J])return b;if(/this/.test(c.toString())){qa(c,J,{value:$g.call(c,
a),configurable:!0});for(d in c)c.hasOwnProperty(d)&&(c[J][d]=c[d]);a._boundFunctions.push({fn:c,prop:J});return c[J]}qa(c,"__ractive_nowrap",{value:c});return c.__ractive_nowrap}function ah(c){return c.value}function bh(c){return void 0!=c}function ch(c){c.forceResolution()}function dh(c){c.rebind("","")}function eb(c,a,b){if(52===a&&c.indexRefs&&c.indexRefs[0]){var d=c.indexRefs[0];(b&&"i"===d.t||!b&&"k"===d.t)&&!b&&(c.length=0,c.fragmentsToUnrender=c.fragments.slice(0),c.fragmentsToUnrender.forEach(function(c){return c.unbind()}));
d.t=b?"k":"i"}c.currentSubtype=a}function eh(c,a){var b={template:c.template.f||[],root:c.root,pElement:c.parentFragment.pElement,owner:c};c.hasContext=!0;if(c.subtype)switch(c.subtype){case 50:return c.hasContext=!1,bc(c,a,!1,b);case 51:return c.hasContext=!1,bc(c,a,!0,b);case 53:return cc(c,b);case 54:return b=a?cc(c,b):Wd(c),b;case 52:if(l(a))return eb(c,c.subtype,!0),Xd(c,a,b)}c.ordered=!!dc.test(bb.call(a));if(c.ordered){eb(c,52,!1);var d,e,f;e=a.length;if(e===c.length)b=!1;else{if(e<c.length)c.fragmentsToUnrender=
c.fragments.splice(e,c.length-e),c.fragmentsToUnrender.forEach(ja);else if(e>c.length)for(d=c.length;d<e;d+=1)b.context=c.keypath.join(d),b.index=d,f=new T(b),c.fragmentsToRender.push(c.fragments[d]=f);c.length=e;b=!0}return b}if(l(a)||"function"===typeof a){if(c.template.i)return eb(c,52,!0),Xd(c,a,b);eb(c,53,!1);return cc(c,b)}eb(c,50,!1);c.hasContext=!1;return bc(c,a,!1,b)}function Xd(c,a,b){var d,e,f,g,h,k;f=c.hasKey||(c.hasKey={});for(e=c.fragments.length;e--;)g=c.fragments[e],g.key in a||(h=
!0,g.unbind(),c.fragmentsToUnrender.push(g),c.fragments.splice(e,1),f[g.key]=!1);for(e=c.fragments.length;e--;)g=c.fragments[e],g.index!==e&&(g.index=e,(k=g.registeredIndexRefs)&&k.forEach(fh));e=c.fragments.length;for(d in a)f[d]||(h=!0,b.context=c.keypath.join(d),b.key=d,b.index=e++,g=new T(b),c.fragmentsToRender.push(g),c.fragments.push(g),f[d]=!0);c.length=c.fragments.length;return h}function cc(c,a){var b;if(!c.length)return a.context=c.keypath,a.index=0,b=new T(a),c.fragmentsToRender.push(c.fragments[0]=
b),c.length=1,!0}function bc(c,a,b,d){var e,f,g;e=dc.test(bb.call(a))&&0===a.length;f=!1;if(!dc.test(bb.call(a))&&l(a))for(g in f=!0,a){f=!1;break}if(b?e||f||!a:a&&!e&&!f){if(!c.length)return d.index=0,a=new T(d),c.fragmentsToRender.push(c.fragments[0]=a),c.length=1,!0;if(1<c.length)return c.fragmentsToUnrender=c.fragments.splice(1),c.fragmentsToUnrender.forEach(ja),!0}else return Wd(c)}function Wd(c){if(c.length)return c.fragmentsToUnrender=c.fragments.splice(0,c.fragments.length).filter(gh),c.fragmentsToUnrender.forEach(ja),
c.length=c.fragmentsToRender.length=0,!0}function gh(c){return c.rendered}function fh(c){c.rebind("","")}function hh(c){c.unrender(!0)}function ih(c){c.unrender(!1)}function ec(c){return Yd[c]||(Yd[c]=xa(c))}function jh(c){return c.selected}function kh(c,a){var b=a?"svg":"div";fc.innerHTML="<"+b+" "+c+"></"+b+">";return ha(fc.childNodes[0].attributes)}function Zd(){var c;O.call(this);c=this._ractive.root.viewmodel.get(this._ractive.binding.keypath);this.value=void 0==c?"":c}function lh(){var c=this._ractive.binding,
a=this;c._timeout&&clearTimeout(c._timeout);c._timeout=setTimeout(function(){c.rendered&&O.call(a);c._timeout=void 0},c.element.lazy)}function mh(c){return c.isChecked}function nh(c){return c.element.getAttribute("value")}function Ca(c){return c&&c.isBindable}function oh(c){var a,b;a=this.root;if("function"!==typeof a[this.method])throw Error('Attempted to call a non-existent method ("'+this.method+'")');b=this.keypaths.map(function(b){var M,d,e;if(void 0!==b){if(b.eventObject){if(M=c,d=b.refinements.length)for(e=
0;e<d;e+=1)M=M[b.refinements[e]]}else M=a.viewmodel.get(b);return M}});yb.enqueue(a,c);b=this.fn.apply(null,b);a[this.method].apply(a,b);yb.dequeue(a)}function ph(c){fb(this.root,this.getAction(),{event:c,args:this.params})}function qh(c){var a=this.dynamicParams.getArgsList();"string"===typeof a&&(a=a.substr(1,a.length-2));fb(this.root,this.getAction(),{event:c,args:a})}function rh(c){gc[c]||(gc[c]=function(a){var b=a.node._ractive;a.index=b.index;a.keypath=b.keypath.str;a.context=b.root.viewmodel.get(b.keypath);
b.events[c].fire(a)});return gc[c]}function sh(){var c=this;this.dirty||(this.dirty=!0,x.scheduleTask(function(){th(c);c.dirty=!1}));this.parentFragment.bubble()}function th(c){var a,b,d,e;if(a=c.node)a=ha(a.options),b=c.getAttribute("value"),d=c.getAttribute("multiple"),void 0!==b?(a.forEach(function(c){var a;a=c._ractive?c._ractive.value:c.value;if(d)a:{for(var m=b.length;m--;)if(b[m]==a){a=!0;break a}a=void 0}else a=b==a;a&&(e=!0);c.selected=a}),e||(a[0]&&(a[0].selected=!0),c.binding&&c.binding.forceUpdate())):
c.binding&&c.binding.forceUpdate()}function uh(c){var a;(c.attributes.width||c.attributes.height)&&c.node.addEventListener("load",a=function(){var b=c.getAttribute("width"),d=c.getAttribute("height");void 0!==b&&c.node.setAttribute("width",b);void 0!==d&&c.node.setAttribute("height",d);c.node.removeEventListener("load",a,!1)},!1)}function $d(){var c=this._ractive.proxy;x.start();c.formBindings.forEach(vh);x.end()}function vh(c){c.root.viewmodel.set(c.keypath,c.resetValue)}function ae(c){return c}
function be(){Sa.hidden=document[gb]}function hc(){Sa.hidden=!0}function ic(){Sa.hidden=!1}function wh(c){var a,b;return(a=c.getAttribute("xmlns"))?a:"svg"===c.name?ma.svg:(b=c.parent)?"foreignObject"===b.name?ma.html:b.node.namespaceURI:c.root.el.namespaceURI}function xh(c){var a,b,d;if(c.select&&(b=c.select.getAttribute("value"),void 0!==b))if(a=c.getAttribute("value"),c.select.node.multiple&&f(b))for(d=b.length;d--;){if(a==b[d]){c.node.selected=!0;break}}else c.node.selected=a==b}function yh(c){var a,
b,d,e;a=c.root;do for(b=a._liveQueries,d=b.length;d--;)e=b[d],e=b["_"+e],e._test(c)&&(c.liveQueries||(c.liveQueries=[])).push(e);while(a=a.parent)}function ce(c){return(c=c.toString())?" "+c:""}function zh(c){var a,b;for(b=c.liveQueries.length;b--;)a=c.liveQueries[b],a._remove(c.node)}function Ah(c,a){var b=Bh.exec(a)[0];return null===c||b.length<c.length?b:c}function de(c,a){if(c)return c.partials.hasOwnProperty(a)?c:de(c._Parent,a)}function ee(c,a){if(a){if(a.template&&a.template.p&&a.template.p[c])return a.template.p[c];
if(a.parentFragment&&a.parentFragment.owner)return ee(c,a.parentFragment.owner)}}function fe(c,a){var b,d=V("components",c,a);if(d&&(b=d.components[a],!b._Parent)){var e=b.bind(d);e.isOwner=d.components.hasOwnProperty(a);b=e();if(!b){w('A function was specified for "%s" %s, but no %s was returned',a,"component","component",{ractive:c});return}"string"===typeof b&&(b=fe(c,b));b._fn=e;d.components[a]=b}return b}function Ch(c,a,b){function d(c){var b,M;c.value=a;c.updating||(M=c.ractive,b=c.keypath,
c.updating=!0,x.start(M),M.viewmodel.mark(b),x.end(),c.updating=!1)}var e,f,g,h,k;e=c.obj;f=c.prop;if(b&&!b.configurable){if("length"===f)return;throw Error('Cannot use magic mode with property "'+f+'" - object is not configurable');}b&&(g=b.get,h=b.set);k=function(c){h&&h(c);a=g?g():c;k._ractiveWrappers.forEach(d)};k._ractiveWrappers=[c];Object.defineProperty(e,f,{get:g||function(){return a},set:k,enumerable:!0,configurable:!0})}function Dh(c){var a;jc[c]||(a=c?c+".":"",jc[c]=function(b,d){var e;
if("string"===typeof b)return e={},e[a+b]=d,e;if("object"===typeof b){if(a){e=c;var f={},g;if(e){e+=".";for(g in b)b.hasOwnProperty(g)&&(f[e+g]=b[g]);e=f}else e=b}else e=b;return e}});return jc[c]}function ge(c,a,b){var d,e;a=a.str||a;(a=(d=c.depsMap.patternObservers)&&d[a])&&a.forEach(function(a){e=b.join(a.lastKey);he(c,e);ge(c,a,e)})}function he(c,a){c.patternObservers.forEach(function(c){c.regex.test(a.str)&&c.update(a)})}function ie(c,a,b,d){var e;if(d=je(c,b,d))e=c.get(b),d.forEach(function(c){a&&
c.refineValue?a.push(c):c.setValue(e)})}function Eh(c,a,b){a.forEach(function(a){for(var m=!1,d=0,e=b.length,f=[];d<e;){var g=b[d];if(g===a.keypath){m=!0;break}g.slice(0,a.keypath.length)===a.keypath&&f.push(g);d++}m&&a.setValue(c.get(a.keypath));f.length&&a.refineValue(f)})}function ke(c,a,b){function d(c){c.forEach(e);c.forEach(f)}function e(a){var m=je(c,a,b);m&&g.push({keypath:a,deps:m})}function f(a){var m;(m=c.depsMap[b][a.str])&&d(m)}var g=[];d(a);g.forEach(function(a){var m=c.get(a.keypath);
a.deps.forEach(function(c){return c.setValue(m)})})}function je(c,a,b){return(c=c.deps[b])?c[a.str]:null}function Fh(c){return JSON.stringify(c)}function Gh(c){if(!0===c)return Fh;if("string"===typeof c)return kc[c]||(kc[c]=function(a){return a[c]}),kc[c];if("function"===typeof c)return c;throw Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)");}function Hh(c,a,b){var d,e,f,g;f=function(){d.set?d.set(a.lastKey,b):(e=d.get(),
g())};g=function(){e||(e=le.test(a.lastKey)?[]:{},c.set(a.parent,e,{silent:!0}));e[a.lastKey]=b};(d=c.wrapped[a.parent.str])?f():(e=c.get(a.parent),(d=c.wrapped[a.parent.str])?f():g())}function Ih(c){return"function"===typeof c.shuffle}function lc(c){this.hook=new ca(c);this.inProcess={};this.queue={}}function me(c,a){return c[a._guid]||(c[a._guid]=[])}function ne(c,a){var b=me(c.queue,a);for(c.hook.fire(a);b.length;)ne(c,b.shift());delete c.queue[a._guid]}function oe(c,a){var b,d;b="return ("+a.replace(Jh,
function(c,a){d=!0;return'__ractive.get("'+a+'")'})+");";d&&(b="var __ractive = this; "+b);b=new Function(b);return d?b.bind(c):b}function mc(c,a){return/this/.test(c.toString())?c.bind(a):c}function Kh(c,a,b){function d(a){"string"===typeof a&&((a=Q("adaptors",c,a))||p(Ta(a,"adaptor")));return a}var e;a=a.map(d);e=ga(b.adapt).map(d);e=Lh(a,e);a="magic"in b?b.magic:c.magic;b="modifyArrays"in b?b.modifyArrays:c.modifyArrays;if(a){if(!Bb)throw Error("Getters and setters (magic mode) are not supported in this browser");
b&&e.push(Mh);e.push(Cb)}b&&e.push(nc);return e}function Lh(c,a){for(var b=c.slice(),d=a.length;d--;)~b.indexOf(a[d])||b.push(a[d]);return b}function Nh(c,a){c._guid="r-"+Oh++;c._subs=P(null);c._config={};c._twowayBindings=P(null);c._animations=[];c.nodes={};c._liveQueries=[];c._liveComponentQueries=[];c._boundFunctions=[];c._observers=[];a.component?(c.parent=a.parent,c.container=a.container||null,c.root=c.parent.root,c.component=a.component,a.component.instance=c,c._inlinePartials=a.inlinePartials):
(c.root=c,c.parent=c.container=null)}function Ph(){throw Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead");}function pe(c,a,b){this.parentFragment=c.parentFragment;this.callback=b;this.fragment=new T({template:a,root:c.root,owner:this});this.update()}function Qh(c,a,b){var d;a.r?d=hb(c,a.r,b):a.x?d=new oc(c,c.parentFragment,a.x,b):a.rx&&(d=new qe(c,a.rx,b));return d}function Rh(c,a,b,d){"string"!==typeof d&&p("Components currently only support simple events - you cannot include arguments. Sorry!");
c.on(b,function(){var c,b;arguments.length&&arguments[0]&&arguments[0].node&&(c=Array.prototype.shift.call(arguments));b=Array.prototype.slice.call(arguments);fb(a,d,{event:c,args:b});return!1})}function Sh(c){if("string"===typeof c.template)return new Th(c);switch(c.template.t){case 16:return new Uh(c);case 2:return new Vh(c);case 4:return new Wh(c);case 3:return new Xh(c);case 7:var a=void 0;return(a=Yh(c.parentFragment.root,c.template.e))?new Zh(c,a):new $h(c);case 8:return new ai(c);case 9:return new bi(c);
case 18:return new ci(c);default:throw Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!");}}function di(c){return c.toString()}function ei(c){return c.toString(!0)}function fi(c){c.unbind&&c.unbind()}function re(c,a,b){a=L(na(a));a.isPattern?rb(c,a).forEach(function(a){c.viewmodel.set(a,b)}):c.viewmodel.set(a,b)}function gi(c){delete c.fn[c.prop]}function hi(c,a){var b={},d=[];a.forEach(function(c){var a,m;if(!c.radioName||c.element.node.checked)c.checkboxName?
d[c.keypath.str]||c.changed()||(d.push(c.keypath),d[c.keypath.str]=c):(a=c.attribute.value,m=c.getValue(),oa(a,m)||h(a,m)||(b[c.keypath.str]=m))});d.length&&d.forEach(function(c){var a,m;a=d[c.str];m=a.attribute.value;a=a.getValue();oa(m,a)||(b[c.str]=a)});return b}function ii(c,a){db.forEach(function(b){ji(b.useDefaults?c.prototype:c,a,b.name)})}function ji(c,a,b){var d,e=Object.keys(c[b]);e.length&&((d=a[b])||(d=a[b]={}),e.filter(function(c){return!(c in d)}).forEach(function(a){return d[a]=c[b][a]}))}
function ki(c,a){Object.keys(c.prototype).forEach(function(b){if("computed"!==b){var d=c.prototype[b];if(!(b in a))a[b]=d._method?d._method:d;else if("function"===typeof a[b]&&"function"===typeof d&&a[b]._method){var e=void 0,f=d._method;f&&(d=d._method);e=li(a[b]._method,d);f&&(e._method=e);a[b]=e}}})}function se(){for(var c=arguments.length,a=Array(c),b=0;b<c;b++)a[b]=arguments[b];return a.length?a.reduce(te,this):te(this)}function te(c,a){var b=void 0===a?{}:a,J,e;b.prototype instanceof Aa&&(b=
mi(b));J=function(c){if(!(this instanceof J))return new J(c);pc(this,c)};e=P(c.prototype);e.constructor=J;Ua(J,{defaults:{value:e},extend:{value:se,writable:!0,configurable:!0},_Parent:{value:c}});qc.extend(c,e,b);rc.extend(c,e,b);b.computed&&(e.computed=d(P(c.prototype.computed),b.computed));J.prototype=e;return J}var ue={el:void 0,append:!1,template:{v:3,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},
magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ra,ve,we,Bb,ma,sc,sa;ra="object"===typeof document;ve="undefined"!==typeof navigator&&/jsDom/.test(navigator.appName);we="undefined"!==typeof console&&"function"===typeof console.warn&&"function"===typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),Bb=!0}catch(c){Bb=!1}ma={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};sc="undefined"===typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");sa=["o","ms","moz","webkit"];var xa,ta,Va,tc,ib,uc,Db,xe,vc;xa=sc?function(c,a){return a&&a!==ma.html?document.createElementNS(a,c):document.createElement(c)}:function(c,a){if(a&&a!==ma.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";
return document.createElement(c)};if(ra){Va=xa("div");tc=["matches","matchesSelector"];vc=function(c){return function(a,b){return a[c](b)}};for(Db=tc.length;Db--&&!ta;)if(ib=tc[Db],Va[ib])ta=vc(ib);else for(xe=sa.length;xe--;)if(uc=sa[Db]+ib.substr(0,1).toUpperCase()+ib.substring(1),Va[uc]){ta=vc(uc);break}ta||(ta=function(c,a){var b,d;b=c.parentNode;b||(Va.innerHTML="",b=Va,c=c.cloneNode(),Va.appendChild(c));b=b.querySelectorAll(a);for(d=b.length;d--;)if(b[d]===c)return!0;return!1})}else ta=null;
var P,qa,Ua;try{Object.defineProperty({},"test",{value:0}),ra&&Object.defineProperty(document.createElement("div"),"test",{value:0}),qa=Object.defineProperty}catch(c){qa=function(c,a,b){c[a]=b.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(c){throw c;}ra&&Object.defineProperties(xa("div"),{test:{value:0}});Ua=Object.defineProperties}catch(c){Ua=function(c,a){for(var b in a)a.hasOwnProperty(b)&&qa(c,b,a[b])}}try{Object.create(null),P=Object.create}catch(c){P=function(){var c=function(){};
return function(a,b){var d;if(null===a)return{};c.prototype=a;d=new c;b&&Object.defineProperties(d,b);return d}}()}var Fa=Object.prototype.hasOwnProperty,bb=Object.prototype.toString,dc=/^\[object (?:Array|FileList)\]$/,aa=function(){},vd={},Sb,vb,jb;we?function(){var c=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];
jb=function(){var a=!!console.groupCollapsed;console[a?"groupCollapsed":"log"].apply(console,c);console.log("You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n");
a&&console.groupEnd(c);jb=aa};vb=function(c,a){jb();if("object"===typeof a[a.length-1]){var b=a.pop(),d=b?b.ractive:null;if(d){var e=void 0;d.component&&(e=d.component.name)&&(c="<"+e+"> "+c);e=void 0;(e=b.node||d.fragment&&d.fragment.rendered&&d.find("*"))&&a.push(e)}}console.warn.apply(console,["%cRactive.js: %c"+c,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(a))};Sb=function(){console.log.apply(console,arguments)}}():vb=Sb=jb=aa;var Ta=function(c,a){return'Missing "'+c+'" '+a+
" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+a+"s"},Fb=function(c,a,b,d){if(c===a)return ba(a);if(d){if(b=Q("interpolators",b,d))return b(c,a)||ba(a);p(Ta(d,"interpolator"))}return Eb.number(c,a)||Eb.array(c,a)||Eb.object(c,a)||ba(a)},Eb={number:function(c,a){var b;if(!k(c)||!k(a))return null;c=+c;return(b=+a-c)?function(a){return c+a*b}:function(){return c}},array:function(c,a){var b,d,e,g;if(!f(c)||!f(a))return null;b=[];d=[];for(g=e=Math.min(c.length,
a.length);g--;)d[g]=Fb(c[g],a[g]);for(g=e;g<c.length;g+=1)b[g]=c[g];for(g=e;g<a.length;g+=1)b[g]=a[g];return function(c){for(var a=e;a--;)b[a]=d[a](c);return b}},object:function(c,a){var b,d,e,f,g;if(!l(c)||!l(a))return null;b=[];f={};e={};for(g in c)Fa.call(c,g)&&(Fa.call(a,g)?(b.push(g),e[g]=Fb(c[g],a[g])):f[g]=c[g]);for(g in a)Fa.call(a,g)&&!Fa.call(c,g)&&(f[g]=a[g]);d=b.length;return function(c){for(var a=d,m;a--;)m=b[a],f[m]=e[m](c);return f}}},ni=function(c){var a,b,d,e,f;a=c.split(".");(c=
wb[a.length])||(c=fa(a.length));e=[];b=function(c,b){return c?"*":a[b]};for(d=c.length;d--;)f=c[d].map(b).join("."),e.hasOwnProperty(f)||(e.push(f),e[f]=!0);return e},wb={},Bg=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,oi=/\*/,Tb={},wd=function(c){var a=c.split(".");this.str=c;if("@"===c[0]){this.isSpecial=!0;var b;b=c.slice(2);b="i"===c[1]?k(b)?+b:b:b;this.value=b}this.firstKey=a[0];this.lastKey=a.pop();this.isPattern=oi.test(c);this.parent=""===c?null:L(a.join("."));this.isRoot=!c};wd.prototype={equalsOrStartsWith:function(c){return c===
this||this.startsWith(c)},join:function(c){return L(this.isRoot?String(c):this.str+"."+c)},replace:function(c,a){if(this===c)return a;if(this.startsWith(c))return null===a?a:L(this.str.replace(c.str+".",a.str+"."))},startsWith:function(c){return c?c&&this.str.substr(0,c.str.length+1)===c.str+".":!1},toString:function(){throw Error("Bad coercion");},valueOf:function(){throw Error("Bad coercion");},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=ni(this.str))}};var Ga=
L(""),ze=function(c,a,b){if("string"!==typeof a||!k(b))throw Error("Bad arguments");var d=void 0,e=void 0;if(/\*/.test(a))return e={},rb(c,L(na(a))).forEach(function(a){var m=c.viewmodel.get(a);if(!k(m))throw Error(ye);e[a.str]=m+b}),c.set(e);d=c.get(a);if(!k(d))throw Error(ye);return c.set(a,+d+b)},ye="Cannot add to a non-numeric value",wc;"undefined"===typeof window?wc=null:(function(c,a,b){var d,e;if(!b.requestAnimationFrame){for(d=0;d<c.length&&!b.requestAnimationFrame;++d)b.requestAnimationFrame=
b[c[d]+"RequestAnimationFrame"];b.requestAnimationFrame||(e=b.setTimeout,b.requestAnimationFrame=function(c){var b,d,M;b=Date.now();d=Math.max(0,16-(b-a));M=e(function(){c(b+d)},d);a=b+d;return M})}}(sa,0,window),wc=window.requestAnimationFrame);var Ae=wc,Be="undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},Cg={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",
message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};W.prototype.fire=function(c,a){function b(d){if(c[d])return a?c[d](a):
c[d](),!0}b(this.method);!c[this.method]&&this.deprecate&&b(this.deprecate.deprecated)&&(this.deprecate.message?w(this.deprecate.message):w('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement));a?c.fire(this.event,a):c.fire(this.event)};var ca=W,la,xc={},Ce={},pi={};"function"===typeof Promise?la=Promise:(la=function(c){var a=
[],b=[],d=xc,e,f,g,h;g=function(c){return function(g){d===xc&&(e=g,d=c,f=Ob(d===Ce?a:b,e),setTimeout(f,0))}};h=g(Ce);g=g(pi);try{c(h,g)}catch(k){g(k)}return{then:function(c,e){var g=new la(function(Y,h){var k=function(c,a,b){"function"===typeof c?a.push(function(a){var b;try{b=c(a),ya(g,b,Y,h)}catch(m){h(m)}}):a.push(b)};k(c,a,Y);k(e,b,h);d!==xc&&setTimeout(f,0)});return g},"catch":function(c){return this.then(null,c)}}},la.all=function(c){return new la(function(a,b){var d=[],e,f,g;if(c.length)for(g=
function(c,f){c&&"function"===typeof c.then?c.then(function(c){d[f]=c;--e||a(d)},b):(d[f]=c,--e||a(d))},e=f=c.length;f--;)g(c[f],f);else a(d)})},la.resolve=function(c){return new la(function(a){a(c)})},la.reject=function(c){return new la(function(a,b){b(c)})});var Ha=la,De=function(c){do if(void 0!==c.context)return c.context;while(c=c.parent);return Ga},xb=function(c,a,b){a=na(a);"~/"===a.substr(0,2)?(a=L(a.substring(2)),$a(c,a.firstKey,b)):"."===a[0]?(a=Pb(De(b),a))&&$a(c,a.firstKey,b):a=ia(c,L(a),
b);return a},Ee=function(c,a){this.callback=c;this.parent=a;this.intros=[];this.outros=[];this.children=[];this.totalChildren=this.outroChildren=0;this.detachQueue=[];this.decoratorQueue=[];this.outrosComplete=!1;a&&a.addChild(this)};Ee.prototype={addChild:function(c){this.children.push(c);this.totalChildren+=1;this.outroChildren+=1},decrementOutros:function(){--this.outroChildren;za(this)},decrementTotal:function(){--this.totalChildren;za(this)},add:function(c){(c.isIntro?this.intros:this.outros).push(c)},
addDecorator:function(c){this.decoratorQueue.push(c)},remove:function(c){R(c.isIntro?this.intros:this.outros,c);za(this)},init:function(){this.ready=!0;za(this)},detachNodes:function(){this.decoratorQueue.forEach(tb);this.detachQueue.forEach(S);this.children.forEach(pa)}};var N,Ma=[],Dg=new ca("change"),x={start:function(c,a){var b,d;a&&(b=new Ha(function(c){return d=c}));N={previousBatch:N,transitionManager:new Ee(d,N&&N.transitionManager),views:[],tasks:[],ractives:[],instance:c};c&&N.ractives.push(c);
return b},end:function(){ab();N.transitionManager.init();!N.previousBatch&&N.instance&&(N.instance.viewmodel.changes=[]);N=N.previousBatch},addRactive:function(c){if(N){var a=N.ractives;-1===a.indexOf(c)&&a.push(c)}},registerTransition:function(c){c._manager=N.transitionManager;N.transitionManager.add(c)},registerDecorator:function(c){N.transitionManager.addDecorator(c)},addView:function(c){N.views.push(c)},addUnresolved:function(c){Ma.push(c)},removeUnresolved:function(c){R(Ma,c)},detachWhenReady:function(c){N.transitionManager.detachQueue.push(c)},
scheduleTask:function(c,a){var b;if(N){for(b=N;a&&b.previousBatch;)b=b.previousBatch;b.tasks.push(c)}else c()}},Ia=[],Wa={tick:function(){var c,a,b;b=Be();x.start();for(c=0;c<Ia.length;c+=1)a=Ia[c],a.tick(b)||Ia.splice(c--,1);x.end();Ia.length?Ae(Wa.tick):Wa.running=!1},add:function(c){Ia.push(c);Wa.running||(Wa.running=!0,Ae(Wa.tick))},abort:function(c,a){for(var b=Ia.length,d;b--;)d=Ia[b],d.root===a&&d.keypath===c&&d.stop()}},Ub=Wa,Fe=function(c){var a;this.startTime=Date.now();for(a in c)c.hasOwnProperty(a)&&
(this[a]=c[a]);this.interpolator=Fb(this.from,this.to,this.root,this.interpolator);this.running=!0;this.tick()};Fe.prototype={tick:function(){var c,a,b;b=this.keypath;if(this.running){c=Date.now();c-=this.startTime;if(c>=this.duration)return null!==b&&(x.start(this.root),this.root.viewmodel.set(b,this.to),x.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),-1===a&&w("Animation was not found"),this.root._animations.splice(a,1),this.running=!1;c=this.easing?
this.easing(c/this.duration):c/this.duration;null!==b&&(a=this.interpolator(c),x.start(this.root),this.root.viewmodel.set(b,a),x.end());this.step&&this.step(c,a);return!0}return!1},stop:function(){var c;this.running=!1;c=this.root._animations.indexOf(this);-1===c&&w("Animation was not found");this.root._animations.splice(c,1)}};var Fg=Fe,Eg={stop:aa},qi=new ca("detach"),ri=function(c,a){if(this._isComponentQuery?!this.selector||c.name===this.selector:c.node&&ta(c.node,this.selector))return this.push(c.node||
c.instance),a||this._makeDirty(),!0},si=function(){var c,a,b;c=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"];a=this.selector;b=c.indexOf(a);-1!==b&&(c.splice(b,1),c[a]=null)},Ge=function(c,a){var b,d,e,f,g,h,k;b=md(c.component||c._ractive.proxy);d=md(a.component||a._ractive.proxy);e=U(b);for(f=U(d);e&&e===f;)b.pop(),d.pop(),g=e,e=U(b),f=U(d);e=e.component||e;f=f.component||f;h=e.parentFragment;k=f.parentFragment;if(h===k)return h=h.items.indexOf(e),k=k.items.indexOf(f),h-
k||b.length-d.length;if(f=g.fragments)return h=f.indexOf(h),k=f.indexOf(k),h-k||b.length-d.length;throw Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!");},ti=function(c,a){var b;return c.compareDocumentPosition?(b=c.compareDocumentPosition(a),b&2?1:-1):Ge(c,a)},ui=function(){this.sort(this._isComponentQuery?Ge:ti);this._dirty=!1},vi=function(){var c=this;this._dirty||(this._dirty=
!0,x.scheduleTask(function(){c._sort()}))},wi=function(c){c=this.indexOf(this._isComponentQuery?c.instance:c);-1!==c&&this.splice(c,1)},He=function(c,a,b,d){var e=[];Ua(e,{selector:{value:a},live:{value:b},_isComponentQuery:{value:d},_test:{value:ri}});if(!b)return e;Ua(e,{cancel:{value:si},_root:{value:c},_sort:{value:ui},_makeDirty:{value:vi},_remove:{value:wi},_dirty:{value:!1,writable:!0}});return e},yb={enqueue:function(c,a){c.event&&(c._eventQueue=c._eventQueue||[],c._eventQueue.push(c.event));
c.event=a},dequeue:function(c){c._eventQueue&&c._eventQueue.length?c.event=c._eventQueue.pop():delete c.event}},fb=function(c,a,b){b=void 0===b?{}:b;a&&(b.event?b.event.name=a:b.event={name:a,_noArg:!0},a=L(a).wildcardMatches(),nd(c,a,b.event,b.args,!0))},xi={capture:!0,noUnwrap:!0,fullRootGet:!0},Gg=new ca("insert"),Ie=function(c,a,b,d){this.root=c;this.keypath=a;this.callback=b;this.defer=d.defer;this.context=d&&d.context?d.context:c};Ie.prototype={init:function(c){this.value=this.root.get(this.keypath.str);
!1!==c?this.update():this.oldValue=this.value},setValue:function(c){var a=this;h(c,this.value)||(this.value=c,this.defer&&this.ready?x.scheduleTask(function(){return a.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Je=function(c,a){var b,d;b=rb(c,a);d={};b.forEach(function(a){d[a.str]=c.get(a.str)});return d},yc,yi=Array.prototype.slice;yc=function(c,
a,b,d){this.root=c;this.callback=b;this.defer=d.defer;this.keypath=a;this.regex=new RegExp("^"+a.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$");this.values={};this.defer&&(this.proxies=[]);this.context=d&&d.context?d.context:c};yc.prototype={init:function(c){var a,b;a=Je(this.root,this.keypath);if(!1!==c)for(b in a)a.hasOwnProperty(b)&&this.update(L(b));else this.values=a},update:function(c){var a=this,b;if(c.isPattern)for(c in b=Je(this.root,c),b)b.hasOwnProperty(c)&&this.update(L(c));
else this.root.viewmodel.implicitChanges[c.str]||(this.defer&&this.ready?x.scheduleTask(function(){return a.getProxy(c).update()}):this.reallyUpdate(c))},reallyUpdate:function(c){var a,b;a=c.str;c=this.root.viewmodel.get(c);this.updating?this.values[a]=c:(this.updating=!0,h(c,this.values[a])&&this.ready||(b=yi.call(this.regex.exec(a),1),b=[c,this.values[a],a].concat(b),this.values[a]=c,this.callback.apply(this.context,b)),this.updating=!1)},getProxy:function(c){var a=this;this.proxies[c.str]||(this.proxies[c.str]=
{update:function(){return a.reallyUpdate(c)}});return this.proxies[c.str]}};var zc=function(c,a,b,d){var e,f,g;a=L(na(a));d=d||zi;a.isPattern?(e=new yc(c,a,b,d),c.viewmodel.patternObservers.push(e),f=!0):e=new Ie(c,a,b,d);e.init(d.init);c.viewmodel.register(a,e,f?"patternObservers":"observers");e.ready=!0;b={cancel:function(){var b;g||(f?(b=c.viewmodel.patternObservers.indexOf(e),c.viewmodel.patternObservers.splice(b,1),c.viewmodel.unregister(a,e,"patternObservers")):c.viewmodel.unregister(a,e,"observers"),
g=!0)}};c._observers.push(b);return b},zi={},Ke=function(c){return c.trim()},Le=function(c){return""!==c},Me=function(c,a,b){var d=[],e,f,g,h;a=xg(c,a,b);if(!a)return null;b=c.length;g=a.length-2-a[1];e=Math.min(b,a[0]);f=e+a[1];for(h=0;h<e;h+=1)d.push(h);for(;h<f;h+=1)d.push(-1);for(;h<b;h+=1)d.push(h+g);d.touchedFrom=0!==g?a[0]:c.length;return d},Ai=Array.prototype,Ja=function(c){return function(a){for(var b=arguments.length,d=Array(1<b?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];var e=[],g;a=L(na(a));
b=this.viewmodel.get(a);if(!f(b))throw Error("Called ractive."+c+"('"+a.str+"'), but '"+a.str+"' does not refer to an array");e=Me(b,c,d);g=Ai[c].apply(b,d);d=x.start(this,!0).then(function(){return g});e?this.viewmodel.smartUpdate(a,b,e):this.viewmodel.mark(a);x.end();return d}},Bi=Ja("pop"),Ci=Ja("push"),Ac,Ne,kb,Oe,Bc,Cc,Pe=[],Dc=!1;ra?(kb=document.createElement("style"),kb.type="text/css",Oe=document.getElementsByTagName("head")[0],Cc=!1,Bc=kb.styleSheet,Ne=function(){var c="/* Ractive.js component styles */\n"+
Pe.map(function(c){return"\n/* {"+c.id+"} */\n"+c.styles}).join("\n");Bc?Bc.cssText=c:kb.innerHTML=c;Cc||(Oe.appendChild(kb),Cc=!0)},Ac={add:function(c){Pe.push(c);Dc=!0},apply:function(){Dc&&(Ne(),Dc=!1)}}):Ac={add:aa,apply:aa};var Qe=Ac,Di=new ca("render"),Ei=new ca("complete"),Sd={extend:function(c,a,b){c=ga(b.adapt);b=a.adapt.slice();for(var d=c.length;d--;)~b.indexOf(c[d])||b.push(c[d]);a.adapt=b},init:function(){}},Ji=function(c,a){var b,d;b='[data-ractive-css~="{'+a+'}"]';d=function(c){var a,
m,d,e,J=[];for(a=[];m=Fi.exec(c);)a.push({str:m[0],base:m[1],modifiers:m[2]});c=a.map(zg);for(e=a.length;e--;)m=c.slice(),d=a[e],m[e]=d.base+b+d.modifiers||"",d=c.slice(),d[e]=b+" "+d[e],J.push(m.join(" "),d.join(" "));return J.join(", ")};return Re.test(c)?c.replace(Re,b):c.replace(Gi,"").replace(Hi,function(c,a){var b;if(Ii.test(a))return c;b=a.split(",").map(yg).map(d).join(", ")+" ";return c.replace(a,b)})},Hi=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Gi=/\/\*.*?\*\//g,Fi=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,
Ii=/^@media/,Re=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Ki=1,Td={name:"css",extend:function(c,a,b){b.css&&(c=Ki++,b=b.noCssTransform?b.css:Ji(b.css,c),a.cssId=c,Qe.add({id:c,styles:b}))},init:function(){}},rc={name:"data",extend:function(c,a,b){var d=c=void 0;if(b.data&&l(b.data))for(c in b.data)(d=b.data[c])&&"object"===typeof d&&(l(d)||f(d))&&w("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");
a.data=pd(a.data,b.data)},init:function(c,a,b){c=pd(c.prototype.data,b.data);"function"===typeof c&&(c=c.call(a));return c||{}},reset:function(c){var a=this.init(c.constructor,c,c.viewmodel);c.viewmodel.reset(a);return!0}},Da,Ec,Li=/^\s+/;Ec=function(c){this.name="ParseError";this.message=c;try{throw Error(c);}catch(a){this.stack=a.stack}};Ec.prototype=Error.prototype;Da=function(c,a){var b,d,e=0;this.str=c;this.options=a||{};this.pos=0;this.lines=this.str.split("\n");this.lineEnds=this.lines.map(function(c){return e=
c=e+c.length+1},0);this.init&&this.init(c,a);for(b=[];this.pos<this.str.length&&(d=this.read());)b.push(d);this.leftover=this.remaining();this.result=this.postProcess?this.postProcess(b,a):b};Da.prototype={read:function(c){var a,b,d,e;c||(c=this.converters);a=this.pos;d=c.length;for(b=0;b<d;b+=1)if(this.pos=a,e=c[b](this))return e;return null},getLinePos:function(c){for(var a=0,b=0;c>=this.lineEnds[a];)b=this.lineEnds[a],a+=1;return[a+1,c-b+1,c]},error:function(c){var a=this.getLinePos(this.pos),
b=a[0],d=a[1],e=0,f=this.lines[a[0]-1].replace(/\t/g,function(c,b){b<a[1]&&(e+=1);return"  "})+"\n"+Array(a[1]+e).join(" ")+"^----",b=new Ec(""+c+" at line "+b+" character "+d+":\n"+f);b.line=a[0];b.character=a[1];b.shortMessage=c;throw b;},matchString:function(c){if(this.str.substr(this.pos,c.length)===c)return this.pos+=c.length,c},matchPattern:function(c){if(c=c.exec(this.remaining()))return this.pos+=c[0].length,c[1]||c[0]},allowWhitespace:function(){this.matchPattern(Li)},remaining:function(){return this.str.substring(this.pos)},
nextChar:function(){return this.str.charAt(this.pos)}};Da.extend=function(c){var a,b;a=function(c,a){Da.call(this,c,a)};a.prototype=P(this.prototype);for(b in c)Fa.call(c,b)&&(a.prototype[b]=c[b]);a.extend=Da.extend;return a};var Hg=function(c){var a,b,d;if(!c.matchString("="))return null;a=c.pos;c.allowWhitespace();b=c.matchPattern(Se);if(!b)return c.pos=a,null;if(!c.matchPattern(Mi))return null;d=c.matchPattern(Se);if(!d)return c.pos=a,null;c.allowWhitespace();return c.matchString("=")?[b,d]:(c.pos=
a,null)},Se=/^[^\s=]+/,Mi=/^\s+/,xd=function(c){var a;return(a=c.matchPattern(Ni))?{t:25,v:a}:null},Ni=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Qa=function(c){var a,b;if(!1===c.interpolate[c.inside])return null;for(b=0;b<c.tags.length;b+=1)if(a=Ag(c,c.tags[b]))return a},Ig={t:10,exclude:!0},Te=function(c){var a;return(a=c.matchPattern(Oi))?{t:20,v:a}:null},Oi=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,
Ue,Ve,We;Ue=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/;Ve=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/;We=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Xe=function(c){return function(a){var b,d,e;b='"';for(d=!1;!d;)(e=a.matchPattern(Ue)||a.matchPattern(Ve)||a.matchString(c))?b='"'===e?b+'\\"':"\\'"===e?b+"'":b+e:(e=a.matchPattern(We))?b+="\\u"+("000"+e.charCodeAt(1).toString(16)).slice(-4):d=!0;return JSON.parse(b+'"')}},Pi=Xe('"'),Qi=Xe("'"),Fc=function(c){var a,b;a=c.pos;
return c.matchString('"')?(b=Qi(c),c.matchString('"')?{t:21,v:b}:(c.pos=a,null)):c.matchString("'")?(b=Pi(c),c.matchString("'")?{t:21,v:b}:(c.pos=a,null)):null},Ye=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Jd=function(c){var a;if(a=Fc(c))return Ri.test(a.v)?a.v:'"'+a.v.replace(/"/g,'\\"')+'"';if(a=Te(c))return a.v;if(a=c.matchPattern(Ye))return a},Ri=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Jg=function(c){var a,b,d;a=c.pos;c.allowWhitespace();b=Jd(c);if(null===b)return c.pos=a,null;c.allowWhitespace();if(!c.matchString(":"))return c.pos=
a,null;c.allowWhitespace();d=Z(c);return null===d?(c.pos=a,null):{t:27,k:b,v:d}},$e=function(c){var a,b,d;a=c.pos;d=c.matchPattern(/^@(?:keypath|index|key)/);d||(b=c.matchPattern(Si)||"",d=!b&&c.relaxedNames&&c.matchPattern(Ti)||c.matchPattern(Ui),d||"."!==b||(b="",d="."));if(!d)return null;if(!b&&!c.relaxedNames&&Ze.test(d))return c.pos=a,null;if(!b&&Gc.test(d))return b=Gc.exec(d)[0],c.pos=a+b.length,{t:26,v:b};b=(b||"")+na(d);c.matchString("(")&&(d=b.lastIndexOf("."),-1!==d?(b=b.substr(0,d),c.pos=
a+b.length):--c.pos);return{t:30,n:b.replace(/^this\./,"./").replace(/^this$/,".")}},Si=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/,Gc,Ze;Gc=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/;Ze=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Ui=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,
Ti=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,Vi=function(c){var a,b;(a=Te(c))||(a=c.remaining(),"true"===a.substr(0,4)?(c.pos+=4,a={t:24,v:"true"}):"false"===a.substr(0,5)?(c.pos+=5,a={t:24,v:"false"}):a=null);(a=a||Fc(c))||(a=c.pos,c.allowWhitespace(),c.matchString("{")?(b=sd(c),c.allowWhitespace(),c.matchString("}")?a={t:23,m:b}:(c.pos=a,a=null)):(c.pos=a,a=null));a||(a=c.pos,c.allowWhitespace(),c.matchString("[")?(b=Qb(c),c.matchString("]")?a={t:22,m:b}:(c.pos=a,a=null)):(c.pos=a,a=null));(a=a||xd(c)||$e(c))||
(c.matchString("(")?(c.allowWhitespace(),(a=Z(c))||c.error("Expected a JavaScript expression"),c.allowWhitespace(),c.matchString(")")||c.error("Expected closing paren"),a={t:34,x:a}):a=null);if(!a)return null;for(;a;){a:{b=c;var d=void 0,d=void 0;b.allowWhitespace();if(b.matchString(".")){b.allowWhitespace();if(d=b.matchPattern(Ye)){b={t:31,n:d};break a}b.error("Expected a property name")}b.matchString("[")?(b.allowWhitespace(),(d=Z(b))||b.error("Expected a JavaScript expression"),b.allowWhitespace(),
b.matchString("]")||b.error("Expected ']'"),b={t:31,x:d}):b=null}if(b)a={t:32,x:a,r:b};else if(c.matchString("("))c.allowWhitespace(),b=Qb(c),c.allowWhitespace(),c.matchString(")")||c.error("Expected closing paren"),a={t:40,x:a},b&&(a.o=b);else break}return a},af,bf;bf=function(c,a){return function(b){var d;if(d=a(b))return d;if(!b.matchString(c))return null;b.allowWhitespace();(d=Z(b))||b.error("Expected a JavaScript expression");return{s:c,o:d,t:33}}};(function(){var c,a,b,d;d=["!","~","+","-",
"typeof"];b=Vi;c=0;for(a=d.length;c<a;c+=1)b=bf(d[c],b);af=b})();var Wi=af,cf,df;df=function(c,a){return function(b){var d,e,f;e=a(b);if(!e)return null;for(;;){d=b.pos;b.allowWhitespace();if(!b.matchString(c)||"in"===c&&/[a-zA-Z_$0-9]/.test(b.remaining().charAt(0)))return b.pos=d,e;b.allowWhitespace();f=a(b);if(!f)return b.pos=d,e;e={t:36,s:c,o:[e,f]}}}};(function(){var c,a,b,d;d="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");b=Wi;c=0;for(a=d.length;c<a;c+=1)b=
df(d[c],b);cf=b})();var Xi=cf,Z=function(c){var a,b,d;b=Xi(c);if(!b)return null;a=c.pos;c.allowWhitespace();if(!c.matchString("?"))return c.pos=a,b;c.allowWhitespace();(a=Z(c))||c.error("Expected a JavaScript expression");c.allowWhitespace();c.matchString(":")||c.error('Expected ":"');c.allowWhitespace();(d=Z(c))||c.error("Expected a JavaScript expression");return{t:35,o:[b,a,d]}},lb=function(c){function a(c){switch(c.t){case 24:case 26:case 20:case 25:return c.v;case 21:return JSON.stringify(String(c.v));
case 22:return"["+(c.m?c.m.map(a).join(","):"")+"]";case 23:return"{"+(c.m?c.m.map(a).join(","):"")+"}";case 27:return c.k+":"+a(c.v);case 33:return("typeof"===c.s?"typeof ":c.s)+a(c.o);case 36:return a(c.o[0])+("in"===c.s.substr(0,2)?" "+c.s+" ":c.s)+a(c.o[1]);case 40:return a(c.x)+"("+(c.o?c.o.map(a).join(","):"")+")";case 34:return"("+a(c.x)+")";case 32:return a(c.x)+a(c.r);case 31:return c.n?"."+c.n:"["+a(c.x)+"]";case 35:return a(c.o[0])+"?"+a(c.o[1])+":"+a(c.o[2]);case 30:return"_"+b.indexOf(c.n);
default:throw Error("Expected legal JavaScript");}}var b;Ka(c,b=[]);return{r:b,s:a(c)}},Ba=function(c,a){if(c){for(;34===c.t&&c.x;)c=c.x;if(30===c.t)a.r=c.n;else if(20===c.t&&Yi.test(c.v))a.r=c.v;else{var b;b=c;for(var d=[],e;32===b.t&&31===b.r.t;)e=b.r,e.x?30===e.x.t?d.unshift(e.x):d.unshift(lb(e.x)):d.unshift(e.n),b=b.x;b=30!==b.t?null:{r:b.n,m:d};b?a.rx=b:a.x=lb(c)}return a}},Yi=/^[0-9][1-9]*$/,ef=function(c,a){var b,d;if(!c.matchString("&"))return null;c.allowWhitespace();b=Z(c);if(!b)return null;
c.matchString(a.close)||c.error("Expected closing delimiter '"+a.close+"'");d={t:3};Ba(b,d);return d},ff=function(c,a){var b,d,e;b=c.pos;try{a:{var f=[a.close],g,h,k;g=c.pos;if(h=Z(c)){for(k=0;k<f.length;k+=1)if(c.remaining().substr(0,f[k].length)===f[k]){d=h;break a}c.pos=g;d=$e(c)}else d=null}}catch(l){e=l}if(!d){if("!"===c.str.charAt(b))return c.pos=b,null;if(e)throw e;}if(!c.matchString(a.close)&&(c.error("Expected closing delimiter '"+a.close+"' after reference"),!d)){if("!"===c.nextChar())return null;
c.error("Expected expression or legal reference")}b={t:2};Ba(d,b);return b},Zi=/^yield\s*/,Hc=function(c,a){var b,d,e;b=c.pos;if(!c.matchString(a.open))return null;c.allowWhitespace();if(!c.matchString("/"))return c.pos=b,null;c.allowWhitespace();d=c.remaining();e=d.indexOf(a.close);if(-1!==e)return b={t:6,r:d.substr(0,e).split(" ")[0]},c.pos+=e,c.matchString(a.close)||c.error("Expected closing delimiter '"+a.close+"'"),b;c.pos=b;return null},$i=/^\s*else\s*/,aj=/^\s*elseif\s+/,gf={each:52,"if":50,
"if-with":54,"with":53,unless:51},hf=function(c,a){var b,d,e,f,g,h,k,l,n;b=c.pos;if(c.matchString("^"))d={t:4,f:[],n:51};else if(c.matchString("#")){if(d={t:4,f:[]},c.matchString("partial")&&(c.pos=b-c.standardDelimiters[0].length,c.error("Partial definitions can only be at the top level of the template, or immediately inside components")),b=c.matchPattern(bj))n=b,d.n=gf[b]}else return null;c.allowWhitespace();(b=Z(c))||c.error("Expected expression");if(f=c.matchPattern(cj))k=void 0,(k=c.matchPattern(dj))?
d.i=f+","+k:d.i=f;c.allowWhitespace();c.matchString(a.close)||c.error("Expected closing delimiter '"+a.close+"'");c.sectionDepth+=1;f=d.f;k=[];do if(e=Hc(c,a))n&&e.r!==n&&c.error("Expected "+a.open+"/"+n+""+a.close),--c.sectionDepth,l=!0;else{e=c;var p=a,q=e.pos,r=void 0;e.matchString(p.open)?e.matchPattern(aj)?(r=Z(e),e.matchString(p.close)||e.error("Expected closing delimiter '"+p.close+"'"),e={t:61,x:r}):(e.pos=q,e=null):e=null;if(e)51===d.n&&c.error("{{else}} not allowed in {{#unless}}"),g&&c.error("illegal {{elseif...}} after {{else}}"),
h||(h=td(b,d.n)),h.f.push({t:4,n:50,x:lb(Rb(k.concat(e.x))),f:f=[]}),k.push(ud(e.x));else if(e=c,p=a,q=e.pos,e.matchString(p.open)?e.matchPattern($i)?(e.matchString(p.close)||e.error("Expected closing delimiter '"+p.close+"'"),e={t:60}):(e.pos=q,e=null):e=null,e)51===d.n&&c.error("{{else}} not allowed in {{#unless}}"),g&&c.error("there can only be one {{else}} block, at the end of a section"),g=!0,h?h.f.push({t:4,n:50,x:lb(Rb(k)),f:f=[]}):(h=td(b,d.n),f=h.f);else{e=c.read(mb);if(!e)break;f.push(e)}}while(!l);
h&&(53===d.n&&(d.n=54),d.l=h);Ba(b,d);d.f.length||delete d.f;return d},cj=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,dj=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,bj=new RegExp("^("+Object.keys(gf).join("|")+")\\b"),jf,Gb,Wb,zd,yd,Bd,Cd,Ad;jf=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i;
Gb=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;Wb={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,
AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,
divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,
nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,
uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,
lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};zd=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];yd=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(Wb).join("|")+"));?","g");Bd=/</g;Cd=/>/g;Ad=/&/g;var Pa=/^\s*\r?\n/,Oa=/\r?\n\s*$/,Dd=function(c,a,b){var d;a&&(d=c[0],"string"===typeof d&&((d=d.replace(a,""))?c[0]=d:c.shift()));b&&(d=U(c),"string"===
typeof d&&((d=d.replace(b,""))?c[c.length-1]=d:c.pop()))},Ng=/[ \t\f\r\n]+/g,Kg=/^(?:pre|script|style|textarea)$/i,Ed=/^[ \t\f\r\n]+/,Fd=/[ \t\f\r\n]+$/,Lg=/^(?:\r\n|\r|\n)/,Mg=/(?:\r\n|\r|\n)$/,fj=function(c){var a,b;a=c.pos;if(!c.matchString("</"))return null;if(b=c.matchPattern(ej))return c.inside&&b!==c.inside?(c.pos=a,null):{t:14,e:b};c.pos-=2;c.error("Illegal closing tag")},ej=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Yb=function(c,a){var b,d,e;for(b=a.length;b--;){d=c.indexOf(a[b]);if(!d)return 0;
-1!==d&&(!e||d<e)&&(e=d)}return e||-1},hj=function(c){var a;c.allowWhitespace();a=c.matchPattern(gj);if(!a)return null;a={name:a};var b,d,e;b=c.pos;/[=\/>\s]/.test(c.nextChar())||c.error("Expected `=`, `/`, `>` or whitespace");c.allowWhitespace();if(c.matchString("=")){c.allowWhitespace();b=c.pos;d=c.sectionDepth;if(!(e=Hd(c,"'")||Hd(c,'"'))){var f;c.inAttribute=!0;e=[];for(f=Qa(c)||Gd(c);null!==f;)e.push(f),f=Qa(c)||Gd(c);e.length?c.inAttribute=!1:e=null}null===e&&c.error("Expected valid attribute value");
c.sectionDepth!==d&&(c.pos=b,c.error("An attribute value must contain as many opening section tags as closing section tags"));c=e.length?1===e.length&&"string"===typeof e[0]?Vb(e[0]):e:""}else c.pos=b,c=null;null!=c&&(a.value=c);return a},gj=/^[^\s"'>\/=]+/,Og=/^[^\s"'=<>`]+/,kf,Ic,lf,mf,nf,of,pf;Ic={"true":!0,"false":!1,undefined:void 0,"null":null};lf=new RegExp("^(?:"+Object.keys(Ic).join("|")+")");mf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;
nf=/\$\{([^\}]+)\}/g;of=/^\$\{([^\}]+)\}/;pf=/^\s*$/;kf=Da.extend({init:function(c,a){this.values=a.values;this.allowWhitespace()},postProcess:function(c){return 1===c.length&&pf.test(this.leftover)?{value:c[0].v}:null},converters:[function(c){var a;if(!c.values)return null;if((a=c.matchPattern(of))&&c.values.hasOwnProperty(a))return{v:c.values[a]}},function(c){if(c=c.matchPattern(lf))return{v:Ic[c]}},function(c){if(c=c.matchPattern(mf))return{v:+c}},function(c){var a=Fc(c),b;return a&&(b=c.values)?
{v:a.v.replace(nf,function(c,a){return a in b?b[a]:a})}:a},function(c){var a,b;if(!c.matchString("{"))return null;a={};c.allowWhitespace();if(c.matchString("}"))return{v:a};for(;b=Pg(c);){a[b.key]=b.value;c.allowWhitespace();if(c.matchString("}"))return{v:a};if(!c.matchString(","))break}return null},function(c){var a,b;if(!c.matchString("["))return null;a=[];c.allowWhitespace();if(c.matchString("]"))return{v:a};for(;b=c.read();){a.push(b.v);c.allowWhitespace();if(c.matchString("]"))return{v:a};if(!c.matchString(","))break;
c.allowWhitespace()}return null}]});var Hb=function(c,a){return(new kf(c,{values:a})).result},rf=function(c,a){var b,d,e,f;if("string"===typeof c){if(b=ij.exec(c))return d=c.lastIndexOf(")"),jj.test(c)||a.error("Invalid input after method call expression '"+c.slice(d+1)+"'"),b={m:b[1]},d="["+c.slice(b.m.length+1,d)+"]",d=new qf(d),b.a=lb(d.result[0]),b;if(-1===c.indexOf(":"))return c.trim();c=[c]}f=[];d=[];if(c){for(;c.length;)if(b=c.shift(),"string"===typeof b)if(e=b.indexOf(":"),-1===e)f.push(b);
else{e&&f.push(b.substr(0,e));b.length>e+1&&(d[0]=b.substring(e+1));break}else f.push(b);d=d.concat(c)}f.length?d.length||"string"!==typeof f?(b={n:1===f.length&&"string"===typeof f[0]?f[0]:f},1===d.length&&"string"===typeof d[0]?(e=Hb("["+d[0]+"]"),b.a=e?e.value:d[0].trim()):b.d=d):b=f:b="";return b},ij=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,jj=/\)\s*$/,qf;qf=Da.extend({converters:[function(c){return Z(c)}]});var kj=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,lj=/^[\s\n\/>]/,mj=/^on/,nj=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,
oj=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,pj={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},qj={exclude:!0},Kd;Kd={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],
tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var sf=/[-/\\^$*+?.()|[\]{}]/g,rj=/^\x3c!--\s*/,sj=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,tj=/\s*--\x3e/,tf,uj=/^#\s*partial\s+/,zb=function(c,a){return(new uf(c,a||{})).result},vj=[function(c,a){var b,d,e;if(!c.matchString(">"))return null;c.allowWhitespace();c.relaxedNames=!0;b=Z(c);c.relaxedNames=!1;c.allowWhitespace();d=Z(c);c.allowWhitespace();if(!b)return null;e={t:8};Ba(b,e);c.allowWhitespace();d&&(e={t:4,n:53,f:[e]},Ba(d,e));c.matchString(a.close)||
c.error("Expected closing delimiter '"+a.close+"'");return e},ef,hf,function(c,a){var b,d;if(!c.matchPattern(Zi))return null;b=c.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/);c.allowWhitespace();c.matchString(a.close)||c.error("expected legal partial name");d={t:16};b&&(d.n=b);return d},ff,function(c,a){var b;if(!c.matchString("!"))return null;b=c.remaining().indexOf(a.close);if(-1!==b)return c.pos+=b+a.close.length,{t:9}}],vf=[function(c,a){var b=Z(c),d;if(!b)return null;c.matchString(a.close)||c.error("Expected closing delimiter '"+
a.close+"'");d={t:3};Ba(b,d);return d}],wj=[ef,hf,ff],uf=void 0,mb=[Qa,function(c){var a,b,d;a=c.pos;if(!c.matchString("\x3c!--"))return null;b=c.remaining();d=b.indexOf("--\x3e");-1===d&&c.error("Illegal HTML - expected closing comment sequence ('--\x3e')");b=b.substr(0,d);c.pos+=d+3;d={t:9,c:b};c.includeLinePositions&&(d.p=c.getLinePos(a));return d},function(c){var a,b,d,e,f,g,h,k,l;a=c.pos;if(c.inside||c.inAttribute||!c.matchString("<")||"/"===c.nextChar())return null;b={};c.includeLinePositions&&
(b.p=c.getLinePos(a));if(c.matchString("!"))return b.t=18,c.matchPattern(/^doctype/i)||c.error("Expected DOCTYPE declaration"),b.a=c.matchPattern(/^(.+?)>/),b;b.t=7;b.e=c.matchPattern(kj);if(!b.e)return null;lj.test(c.nextChar())||c.error("Illegal tag name");a=function(a,d){var m=d.n||d;oj.test(m)&&(c.pos-=m.length,c.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)"));b.v[a]=d};for(c.allowWhitespace();e=Qa(c)||hj(c);)e.name?
(d=pj[e.name])?b[d]=rf(e.value,c):(d=nj.exec(e.name))?(b.v||(b.v={}),e=rf(e.value,c),a(d[1],e)):c.sanitizeEventAttributes&&mj.test(e.name)||(b.a||(b.a={}),b.a[e.name]=e.value||(""===e.value?"":0)):(b.m||(b.m=[]),b.m.push(e)),c.allowWhitespace();c.allowWhitespace();c.matchString("/")&&(f=!0);if(!c.matchString(">"))return null;a=b.e.toLowerCase();d=c.preserveWhitespace;if(!f&&!Gb.test(b.e)){c.elementStack.push(a);if("script"===a||"style"===a)c.inside=a;f=[];e=P(null);do l=c.pos,h=c.remaining(),Qg(a,
h)?(h=fj(c))?(k=!0,h=h.e.toLowerCase(),h!==a&&(c.pos=l,~c.elementStack.indexOf(h)||(l="Unexpected closing tag",Gb.test(h)&&(l+=" (<"+h+"> is a void element - it cannot contain children)"),c.error(l)))):(h=Hc(c,{open:c.standardDelimiters[0],close:c.standardDelimiters[1]}))?(k=!0,c.pos=l):(h=c.read(wf))?(e[h.n]&&(c.pos=l,c.error("Duplicate partial definition")),wa(h.f,c.stripComments,d,!d,!d),e[h.n]=h.f,g=!0):(h=c.read(mb))?f.push(h):k=!0:k=!0;while(!k);f.length&&(b.f=f);g&&(b.p=e);c.elementStack.pop()}c.inside=
null;return c.sanitizeElements&&-1!==c.sanitizeElements.indexOf(a)?qj:b},function(c){var a,b,d;b=c.remaining();d=c.inside?"</"+c.inside:"<";c.inside&&!c.interpolate[c.inside]?a=b.indexOf(d):(a=c.tags.map(function(c){return c.open}),a=a.concat(c.tags.map(function(c){return"\\"+c.open})),!0===c.inAttribute?a.push('"',"'","=","<",">","`"):c.inAttribute?a.push(c.inAttribute):a.push(d),a=Yb(b,a));if(!a)return null;-1===a&&(a=b.length);c.pos+=a;return c.inside?b.substr(0,a):Vb(b.substr(0,a))}],wf=[function(c){var a=
c.pos,b=c.standardDelimiters[0],d=c.standardDelimiters[1],e=void 0,f=void 0;if(!c.matchPattern(rj)||!c.matchString(b))return c.pos=a,null;var g=c.matchPattern(sj);K("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+g+"}} ... {{/partial}}\n\n...instead of this:\n  \x3c!-- {{>"+g+"}} --\x3e ... \x3c!-- {{/"+g+"}} --\x3e'");if(!c.matchString(d)||!c.matchPattern(tj))return c.pos=a,null;e=[];a=new RegExp("^\x3c!--\\s*"+b.replace(sf,"\\$&")+"\\s*\\/\\s*"+g+"\\s*"+d.replace(sf,"\\$&")+
"\\s*--\x3e");do c.matchPattern(a)?f=!0:((tf=c.read(mb))||c.error("expected closing comment ('\x3c!-- "+b+"/"+g+""+d+" --\x3e')"),e.push(tf));while(!f);return{t:17,f:e,n:g}},function(c){var a,b,d,e;a=c.pos;var f=c.standardDelimiters;if(!c.matchString(f[0]))return null;if(!c.matchPattern(uj))return c.pos=a,null;(a=c.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/))||c.error("expected legal partial name");c.matchString(f[1])||c.error("Expected closing delimiter '"+f[1]+"'");b=[];do(d=Hc(c,{open:c.standardDelimiters[0],
close:c.standardDelimiters[1]}))?("partial"===!d.r&&c.error("Expected "+f[0]+"/partial"+f[1]),e=!0):((d=c.read(mb))||c.error("Expected "+f[0]+"/partial"+f[1]),b.push(d));while(!e);return{t:17,n:a,f:b}}],uf=Da.extend({init:function(c,a){var b=a.tripleDelimiters||["{{{","}}}"],d=a.staticDelimiters||["[[","]]"],e=a.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=a.delimiters||["{{","}}"];this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],
readers:vj},{isStatic:!1,isTriple:!0,open:b[0],close:b[1],readers:vf},{isStatic:!0,isTriple:!1,open:d[0],close:d[1],readers:wj},{isStatic:!0,isTriple:!0,open:e[0],close:e[1],readers:vf}];this.sortMustacheTags();this.sectionDepth=0;this.elementStack=[];this.interpolate={script:!a.interpolate||!1!==a.interpolate.script,style:!a.interpolate||!1!==a.interpolate.style};!0===a.sanitize&&(a.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),
eventAttributes:!0});this.stripComments=!1!==a.stripComments;this.preserveWhitespace=a.preserveWhitespace;this.sanitizeElements=a.sanitize&&a.sanitize.elements;this.sanitizeEventAttributes=a.sanitize&&a.sanitize.eventAttributes;this.includeLinePositions=a.includeLinePositions},postProcess:function(c){if(!c.length)return{t:[],v:3};0<this.sectionDepth&&this.error("A section was left open");wa(c[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace);return c[0]},
converters:[function(c){for(var a=[],b=P(null),d=!1,e=c.preserveWhitespace;c.pos<c.str.length;){var f=c.pos,g=void 0,h=void 0;(h=c.read(wf))?(b[h.n]&&(c.pos=f,c.error("Duplicated partial definition")),wa(h.f,c.stripComments,e,!e,!e),b[h.n]=h.f,d=!0):(g=c.read(mb))?a.push(g):c.error("Unexpected template content")}c={v:3,t:a};d&&(c.p=b);return c}],sortMustacheTags:function(){this.tags.sort(function(c,a){return a.open.length-c.open.length})}}),xj="preserveWhitespace sanitize stripComments delimiters tripleDelimiters interpolate".split(" "),
xf={fromId:function(c,a){var b;if(!ra){if(a&&a.noThrow)return;throw Error("Cannot retrieve template #"+c+" as Ractive is not running in a browser.");}Md(c)&&(c=c.substring(1));if(!(b=document.getElementById(c))){if(a&&a.noThrow)return;throw Error("Could not find template element with id #"+c);}if("SCRIPT"!==b.tagName.toUpperCase()){if(a&&a.noThrow)return;throw Error("Template element with id #"+c+", must be a <script> element");}return"textContent"in b?b.textContent:b.innerHTML},isHashedId:Md,isParsed:function(c){return"string"!==
typeof c},getParseOptions:function(c){c.defaults&&(c=c.defaults);return xj.reduce(function(a,b){a[b]=c[b];return a},{})},createHelper:function(c){var a=P(xf);a.parse=function(a,b){return Ld(a,b||c)};return a},parse:Ld},ka=xf,Zb={name:"template",extend:function(c,a,b){"template"in b&&(c=b.template,a.template="function"===typeof c?c:Ab(c,a))},init:function(c,a,b){c="template"in b?b.template:c.prototype.template;"function"===typeof c&&(b=c,c=Nd(a,b),a._config.template={fn:b,result:c});c=Ab(c,a);a.template=
c.t;c.p&&Od(a.partials,c.p)},reset:function(c){var a;a=c._config.template;var b;a&&a.fn?(b=Nd(c,a.fn),b!==a.result?(a.result=b,a=b=Ab(b,c)):a=void 0):a=void 0;if(a)return a=Ab(a,c),c.template=a.t,Od(c.partials,a.p,!0),!0}},Ib;Ib=function(c,a){this.name=c;this.useDefaults=a};Ib.prototype={constructor:Ib,extend:function(c,a,b){this.configure(this.useDefaults?c.defaults:c,this.useDefaults?a:a.constructor,b)},init:function(){},configure:function(c,a,b){var d=this.name;b=b[d];c=P(c[d]);for(var e in b)c[e]=
b[e];a[d]=c},reset:function(c){var a=c[this.name],b=!1;Object.keys(a).forEach(function(c){var d=a[c];d._fn&&(d._fn.isOwner?a[c]=d._fn:delete a[c],b=!0)});return b}};var db="adaptors components computed decorators easing events interpolators partials transitions".split(" ").map(function(c){return new Ib(c,"computed"===c)}),Vg=function(c,a,b){if(!/_super/.test(b))return b;var d=function(){var c=Sg(d._parent,a),e="_super"in this,f=this._super;this._super=c;c=b.apply(this,arguments);e?this._super=f:delete this._super;
return c};d._parent=c;d._method=b;return d},Tg=function(c){cb(c,"beforeInit","onconstruct");cb(c,"init","onrender");cb(c,"complete","oncomplete");cb(c,"eventDefinitions","events");f(c.adaptors)&&cb(c,"adaptors","adapt")},Jc,Jb,Xa,Ud,Rd;Xa={adapt:Sd,css:Td,data:rc,template:Zb};Jb=Object.keys(ue);Rd=Vd(Jb.filter(function(c){return!Xa[c]}));Ud=Vd(Jb.concat(db.map(function(c){return c.name})));Jc=[].concat(Jb.filter(function(c){return!db[c]&&!Xa[c]}),db,Xa.data,Xa.template,Xa.css);var qc={extend:function(c,
a,b){return Qd("extend",c,a,b)},init:function(c,a,b){return Qd("init",c,a,b)},reset:function(c){return Jc.filter(function(a){return a.reset&&a.reset(c)}).map(function(c){return c.name})},order:Jc},Kc=function(){return a(this.node)},yf=function(c){this.type=1;this.text=c.template};yf.prototype={detach:Kc,firstNode:function(){return this.node},render:function(){this.node||(this.node=document.createTextNode(this.text));return this.node},toString:function(c){return c?Xb(this.text):this.text},unrender:function(c){if(c)return this.detach()}};
var Th=yf,Ya=function(){this.registered&&this.root.viewmodel.unregister(this.keypath,this);this.resolver&&this.resolver.unbind()},Lc=function(c,a,b){this.ref=a;this.resolved=!1;this.root=c.root;this.parentFragment=c.parentFragment;this.callback=b;c=xb(c.root,a,c.parentFragment);void 0!=c?this.resolve(c):x.addUnresolved(this)};Lc.prototype={resolve:function(c){this.keypath&&!c&&x.addUnresolved(this);this.resolved=!0;this.keypath=c;this.callback(c)},forceResolution:function(){this.resolve(L(this.ref))},
rebind:function(c,a){var b;void 0!=this.keypath&&(b=this.keypath.replace(c,a),void 0!==b&&this.resolve(b))},unbind:function(){this.resolved||x.removeUnresolved(this)}};var zf=function(c,a,b){this.parentFragment=c.parentFragment;this.ref=a;this.callback=b;this.rebind()},yj={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};zf.prototype={rebind:function(){var c=this.ref,a=this.parentFragment,b=yj[c],d;if(!b)throw Error('Unknown special reference "'+
c+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(L("@"+b.prefix+ac(this.cached,b)));if(-1!==b.prop.indexOf("index")||-1!==b.prop.indexOf("key"))for(;a;){if(52===a.owner.currentSubtype&&void 0!==(d=ac(a,b)))return this.cached=a,a.registerIndexRef(this),this.callback(L("@"+b.prefix+d));a=!a.parent&&a.owner&&a.owner.component&&a.owner.component.parentFragment&&!a.owner.component.instance.isolated?a.owner.component.parentFragment:a.parent}else for(;a;){if(void 0!==
(d=ac(a,b)))return this.callback(L("@"+b.prefix+d.str));a=a.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Af=function(c,a,b){this.parentFragment=c.parentFragment;this.ref=a;this.callback=b;a.ref.fragment.registerIndexRef(this);this.rebind()};Af.prototype={rebind:function(){var c;c=this.ref.ref;c="k"===c.ref.t?"k"+c.fragment.key:"i"+c.fragment.index;void 0!==c&&this.callback(L("@"+c))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};Ra.resolve=
function(c){var a={},b,d;for(b in c.refs)d=c.refs[b],a[d.ref.n]="k"===d.ref.t?d.fragment.key:d.fragment.index;return a};var hb=function(c,a,b){var d;return"@"===a.charAt(0)?new zf(c,a,b):(d=Ra(c.parentFragment,a))?new Af(c,d,b):new Lc(c,a,b)},Bf=function(c,a){var b;if(Mc[c])return Mc[c];for(b=[];a--;)b[a]="_"+a;b=new Function(b.join(","),"return("+c+")");return Mc[c]=b},Mc={},Nc,$g=Function.prototype.bind;Nc=function(c,a,b,d){var e=this;this.root=c.root;this.parentFragment=a;this.callback=d;this.owner=
c;this.str=b.s;this.keypaths=[];this.pending=b.r.length;this.refResolvers=b.r.map(function(c,a){return hb(e,c,function(c){e.resolve(a,c)})});this.ready=!0;this.bubble()};Nc.prototype={bubble:function(){this.ready&&(this.uniqueString=Xg(this.str,this.keypaths),this.keypath=L("${"+this.uniqueString.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var c;c=this.refResolvers.pop();)c.unbind()},resolve:function(c,a){this.keypaths[c]=
a;this.bubble()},createEvaluator:function(){var c=this,a,b,d,e;d=this.keypath;(a=this.root.viewmodel.computations[d.str])?this.root.viewmodel.mark(d):(e=Bf(this.str,this.refResolvers.length),b=this.keypaths.map(function(a){var b;return"undefined"===a?function(){}:a.isSpecial?(b=a.value,function(){return b}):function(){var b=c.root.viewmodel.get(a,{noUnwrap:!0,fullRootGet:!0});"function"===typeof b&&(b=Zg(b,c.root));return b}}),a={deps:this.keypaths.filter(Yg),getter:function(){var c=b.map(Wg);return e.apply(null,
c)}},a=this.root.viewmodel.compute(d,a))},rebind:function(c,a){this.refResolvers.forEach(function(b){return b.rebind(c,a)})}};var oc=Nc,Cf=function(c,a,b){var d=this;this.resolver=a;this.root=a.root;this.parentFragment=b;this.viewmodel=a.root.viewmodel;"string"===typeof c?this.value=c:30===c.t?this.refResolver=hb(this,c.n,function(c){d.resolve(c)}):new oc(a,b,c,function(c){d.resolve(c)})};Cf.prototype={resolve:function(c){this.keypath&&this.viewmodel.unregister(this.keypath,this);this.keypath=c;this.value=
this.viewmodel.get(c);this.bind();this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(c,a){this.refResolver&&this.refResolver.rebind(c,a)},setValue:function(c){this.value=c;this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this);this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Df=function(c,a,b){var d=this,e,f,g;this.parentFragment=
g=c.parentFragment;this.root=e=c.root;this.mustache=c;this.ref=c=a.r;this.callback=b;this.unresolved=[];(f=xb(e,c,g))?this.base=f:this.baseResolver=new Lc(this,c,function(c){d.base=c;d.baseResolver=null;d.bubble()});this.members=a.m.map(function(c){return new Cf(c,d,g)});this.ready=!0;this.bubble()};Df.prototype={getKeypath:function(){var c=this.members.map(ah);return!c.every(bh)||this.baseResolver?null:this.base.join(c.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},
unbind:function(){this.members.forEach(ja)},rebind:function(c,a){var b;if(this.base){var d=this.base.replace(c,a);d&&d!==this.base&&(this.base=d,b=!0)}this.members.forEach(function(d){d.rebind(c,a)&&(b=!0)});b&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=L(this.ref),this.baseResolver.unbind(),this.baseResolver=null);this.members.forEach(ch);this.bubble()}};var qe=Df,Ef=function(c,a){this.fragments&&this.fragments.forEach(function(b){return b.rebind(c,a)});this.resolver&&
this.resolver.rebind(c,a)},da={getValue:function(){return this.value},init:function(c,a){function b(a){c.resolve(a)}function d(a){var b=c.keypath;a!=b&&(c.resolve(a),void 0!==b&&c.fragments&&c.fragments.forEach(function(c){c.rebind(b,a)}))}var e,f;f=a.parentFragment;e=a.template;c.root=f.root;c.parentFragment=f;c.pElement=f.pElement;c.template=a.template;c.index=a.index||0;c.isStatic=a.template.s;c.type=a.template.t;c.registered=!1;if(e=e.r)c.resolver=hb(c,e,b);a.template.x&&(c.resolver=new oc(c,
f,a.template.x,d));a.template.rx&&(c.resolver=new qe(c,a.template.rx,d));51!==c.template.n||c.hasOwnProperty("value")||c.setValue(void 0)},resolve:function(c){var a,b,d;c&&c.isSpecial?(this.keypath=c,this.setValue(c.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,a=!0),this.keypath=c,void 0!=c&&(b=this.root.viewmodel.get(c),this.root.viewmodel.register(c,this),this.registered=!0),this.setValue(b),a&&(d=this.twowayBinding)&&d.rebound())},rebind:Ef},Ff=
function(c){this.type=2;da.init(this,c)};Ff.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:da.resolve,rebind:da.rebind,detach:Kc,unbind:Ya,render:function(){this.node||(this.node=document.createTextNode(e(this.value)));return this.node},unrender:function(c){c&&a(this.node)},getValue:da.getValue,setValue:function(c){var a;this.keypath&&(a=this.root.viewmodel.wrapped[this.keypath.str])&&(c=a.get());h(c,this.value)||(this.value=c,this.parentFragment.bubble(),this.node&&
x.addView(this))},firstNode:function(){return this.node},toString:function(c){var a=""+e(this.value);return c?Xb(a):a}};var Vh=Ff,Gf=function(c){this.type=4;this.subtype=this.currentSubtype=c.template.n;this.inverted=51===this.subtype;this.pElement=c.pElement;this.fragments=[];this.fragmentsToCreate=[];this.fragmentsToRender=[];this.fragmentsToUnrender=[];c.template.i&&(this.indexRefs=c.template.i.split(",").map(function(c,a){return{n:c,t:0===a?"k":"i"}}));this.renderedFragments=[];this.length=0;
da.init(this,c)};Gf.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){var c;if(1===this.fragments.length)return this.fragments[0].detach();c=document.createDocumentFragment();this.fragments.forEach(function(a){c.appendChild(a.detach())});return c},find:function(c){var a,b,d;b=this.fragments.length;for(a=0;a<b;a+=1)if(d=this.fragments[a].find(c))return d;return null},findAll:function(c,a){var b,d;d=this.fragments.length;for(b=0;b<d;b+=1)this.fragments[b].findAll(c,a)},findAllComponents:function(c,
a){var b,d;d=this.fragments.length;for(b=0;b<d;b+=1)this.fragments[b].findAllComponents(c,a)},findComponent:function(c){var a,b,d;b=this.fragments.length;for(a=0;a<b;a+=1)if(d=this.fragments[a].findComponent(c))return d;return null},findNextNode:function(c){return this.fragments[c.index+1]?this.fragments[c.index+1].firstNode():this.parentFragment.findNextNode(this)},firstNode:function(){var c,a,b;if(c=this.fragments.length)for(a=0;a<c;a+=1)if(b=this.fragments[a].firstNode())return b;return this.parentFragment.findNextNode(this)},
getIndexRef:function(c){if(this.indexRefs)for(var a=this.indexRefs.length;a--;){var b=this.indexRefs[a];if(b.n===c)return b}},getValue:da.getValue,shuffle:function(c){var a=this,b,d,e,f;if(!this.shuffling&&!this.unbound&&52===this.currentSubtype){this.shuffling=!0;x.scheduleTask(function(){return a.shuffling=!1});e=[];c.forEach(function(c,d){var f,g,h,J;c===d?e[c]=a.fragments[d]:(f=a.fragments[d],void 0===b&&(b=d),-1===c?(a.fragmentsToUnrender.push(f),f.unbind()):(g=a.keypath.join(d),h=a.keypath.join(c),
f.index=c,(J=f.registeredIndexRefs)&&J.forEach(dh),f.rebind(g,h),e[c]=f))});d=this.root.viewmodel.get(this.keypath).length;if(void 0===b){if(this.length===d)return;b=this.length}this.length=this.fragments.length=d;this.rendered&&x.addView(this);for(c=b;c<d;c+=1)(f=e[c])||this.fragmentsToCreate.push(c),this.fragments[c]=f}},rebind:function(c,a){da.rebind.call(this,c,a)},render:function(){var c=this;this.docFrag=document.createDocumentFragment();this.fragments.forEach(function(a){return c.docFrag.appendChild(a.render())});
this.renderedFragments=this.fragments.slice();this.fragmentsToRender=[];this.rendered=!0;return this.docFrag},resolve:da.resolve,setValue:function(c){var a=this,b,d;this.updating||(this.updating=!0,this.keypath&&(b=this.root.viewmodel.wrapped[this.keypath.str])&&(c=b.get()),this.fragmentsToCreate.length?(d={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(c){var b;d.context=a.keypath.join(c);d.index=c;b=new T(d);a.fragmentsToRender.push(a.fragments[c]=
b)}),this.fragmentsToCreate.length=0):eh(this,c)&&(this.bubble(),this.rendered&&x.addView(this)),this.value=c,this.updating=!1)},toString:function(c){var a,b,d;a="";d=this.length;for(b=0;b<d;b+=1)a+=this.fragments[b].toString(c);return a},unbind:function(){var c=this;this.fragments.forEach(ja);this.fragmentsToRender.forEach(function(a){return R(c.fragments,a)});this.fragmentsToRender=[];Ya.call(this);this.length=0;this.unbound=!0},unrender:function(c){this.fragments.forEach(c?hh:ih);this.renderedFragments=
[];this.rendered=!1},update:function(){var c,a,b,d,e,f;for(b=this.renderedFragments;c=this.fragmentsToUnrender.pop();)c.unrender(!0),b.splice(b.indexOf(c),1);for(;c=this.fragmentsToRender.shift();)c.render();this.rendered&&(d=this.parentFragment.getNode());f=this.fragments.length;for(e=0;e<f;e+=1)c=this.fragments[e],a=b.indexOf(c,e),a===e?this.docFrag.childNodes.length&&(c=c.firstNode(),d.insertBefore(this.docFrag,c)):(this.docFrag.appendChild(c.detach()),-1!==a&&b.splice(a,1),b.splice(e,0,c));this.rendered&&
this.docFrag.childNodes.length&&(c=this.parentFragment.findNextNode(this),d.insertBefore(this.docFrag,c));this.renderedFragments=this.fragments.slice()}};var Wh=Gf,Yd={},Hf,If;try{xa("table").innerHTML="foo"}catch(c){Hf=!0,If={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Jf=function(c,a,b){var d,e=[],f,g;if(null!=
c&&""!==c){Hf&&(f=If[a.tagName])?(d=ec("DIV"),d.innerHTML=f[0]+c+f[1],d=d.querySelector(".x"),"SELECT"===d.tagName&&(g=d.options[d.selectedIndex])):a.namespaceURI===ma.svg?(d=ec("DIV"),d.innerHTML='<svg class="x">'+c+"</svg>",d=d.querySelector(".x")):(d=ec(a.tagName),d.innerHTML=c,"SELECT"===d.tagName&&(g=d.options[d.selectedIndex]));for(;c=d.firstChild;)e.push(c),b.appendChild(c);if("SELECT"===a.tagName)for(a=e.length;a--;)e[a]!==g&&(e[a].selected=!1)}return e},Kf=function(c){var a,b;if(c&&"select"===
c.name&&c.binding){a=ha(c.node.options).filter(jh);if(c.getAttribute("multiple"))b=a.map(function(c){return c.value});else if(a=a[0])b=a.value;void 0!==b&&c.binding.setValue(b);c.bubble()}},Lf=function(c){this.type=3;da.init(this,c)};Lf.prototype={detach:function(){var c,a;if(this.docFrag){c=this.nodes.length;for(a=0;a<c;a+=1)this.docFrag.appendChild(this.nodes[a]);return this.docFrag}},find:function(c){var a,b,d;b=this.nodes.length;for(a=0;a<b;a+=1)if(d=this.nodes[a],1===d.nodeType&&(ta(d,c)||(d=
d.querySelector(c))))return d;return null},findAll:function(c,a){var b,d,e,f,g;d=this.nodes.length;for(b=0;b<d;b+=1)if(e=this.nodes[b],1===e.nodeType&&(ta(e,c)&&a.push(e),e=e.querySelectorAll(c)))for(f=e.length,g=0;g<f;g+=1)a.push(e[g])},firstNode:function(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},getValue:da.getValue,rebind:da.rebind,render:function(){if(this.rendered)throw Error("Attempted to render an item that was already rendered");this.docFrag=
document.createDocumentFragment();this.nodes=Jf(this.value,this.parentFragment.getNode(),this.docFrag);Kf(this.pElement);this.rendered=!0;return this.docFrag},resolve:da.resolve,setValue:function(c){var a;if(a=this.root.viewmodel.wrapped[this.keypath.str])c=a.get();c!==this.value&&(this.value=c,this.parentFragment.bubble(),this.rendered&&x.addView(this))},toString:function(){return void 0!=this.value?Vb(""+this.value):""},unbind:Ya,unrender:function(c){this.rendered&&c&&(this.nodes.forEach(a),this.rendered=
!1)},update:function(){var c;if(this.rendered){for(;this.nodes&&this.nodes.length;)c=this.nodes.pop(),c.parentNode.removeChild(c);c=this.parentFragment.getNode();this.nodes=Jf(this.value,c,this.docFrag);c.insertBefore(this.docFrag,this.parentFragment.findNextNode(this));Kf(this.pElement)}}};var Xh=Lf,Mf=/^true|on|yes|1$/i,zj=/^[0-9]+$/,Nf;Nf=function(c){for(var a={},b=c.length;b--;)a[c[b].toLowerCase()]=c[b];return a}("altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ").concat("attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ")));
var Oc=function(c){c=c.toLowerCase();return Nf[c]||c},Aj={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Bj=function(){var c=this.value,a,b,d,e;if(!this.locked)for(this.node._ractive.value=
c,a=this.node.options,e=a.length;e--;)if(b=a[e],d=b._ractive?b._ractive.value:b.value,d==c){b.selected=!0;break}},Cj=function(){var c=this.value,a,b,d,e;f(c)||(c=[c]);a=this.node.options;for(b=a.length;b--;)d=a[b],e=d._ractive?d._ractive.value:d.value,d.selected=X(c,e)},Dj=function(){var c=this.node;c.checked=this.value==c._ractive.value},Ej=function(){var c,a=this.node,b;c=a.checked;a.value=this.element.getAttribute("value");a.checked=this.element.getAttribute("value")===this.element.getAttribute("name");
if(c&&!a.checked&&this.element.binding&&(c=this.element.binding.siblings,a=c.length)){for(;a--;){b=c[a];if(!b.element.node)return;if(b.element.node.checked)return x.addRactive(b.root),b.handleChange()}this.root.viewmodel.set(b.keypath,void 0)}},Fj=function(){var c=this.element,a=this.node,b=this.value,d=c.binding,e,c=c.getAttribute("value");if(f(b)){for(e=b.length;e--;)if(c==b[e]){d.isChecked=a.checked=!0;return}d.isChecked=a.checked=!1}else d.isChecked=a.checked=b==c},Gj=function(){this.node.className=
e(this.value)},Hj=function(){var c=this.node,a=this.value;this.root.nodes[a]=c;c.id=a},Ij=function(){var c,a;c=this.node;a=this.value;void 0===a&&(a="");c.style.setAttribute("cssText",a)},Jj=function(){var c=this.value;void 0===c&&(c="");this.locked||(this.node.innerHTML=c)},Of=function(){var c=this.node,a=this.value;c._ractive.value=a;this.locked||(c.value=void 0==a?"":a)},Kj=function(){this.locked||(this.node[this.propertyName]=this.value)},Lj=function(){var c=this.node,a=this.namespace,b=this.name,
d=this.value,e=this.fragment;a?c.setAttributeNS(a,b,(e||d).toString()):this.isBoolean?d?c.setAttribute(b,""):c.removeAttribute(b):null==d?c.removeAttribute(b):c.setAttribute(b,(e||d).toString())},Pf=function(c){this.init(c)};Pf.prototype={bubble:function(){var c=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();h(c,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=c,"value"===this.name&&this.node&&(this.node._ractive.value=c),
this.rendered&&x.addView(this))},init:function(c){this.type=13;this.element=c.element;this.root=c.root;a:{var a=c.name,b,d;b=a.indexOf(":");if(-1!==b&&(d=a.substr(0,b),"xmlns"!==d)){a=a.substring(b+1);this.name=Oc(a);this.namespace=ma[d.toLowerCase()];this.namespacePrefix=d;if(!this.namespace)throw'Unknown namespace ("'+d+'")';break a}this.name=this.element.namespace!==ma.html?Oc(a):a}this.isBoolean=jf.test(this.name);c.value&&"string"!==typeof c.value?(this.parentFragment=this.element.parentFragment,
this.fragment=new T({template:c.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),c=this.fragment.items,c=1===c.length&&2===c[0].type?c[0]:void 0,this.interpolator=c,this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,this.ready=!0):this.value=this.isBoolean?!0:c.value||""},rebind:function(c,a){this.fragment&&this.fragment.rebind(c,a)},render:function(c){var a;this.node=c;if(!c.namespaceURI||c.namespaceURI===ma.html){a=Aj[this.name]||this.name;void 0!==c[a]&&(this.propertyName=
a);if(this.isBoolean||this.isTwoway)this.useProperty=!0;"value"===a&&(c._ractive.value=this.value)}this.rendered=!0;this.update()},toString:function(){var c=this.name,a=this.namespacePrefix,b=this.value,d=this.interpolator,e=this.fragment;if("value"!==c||"select"!==this.element.name&&"textarea"!==this.element.name)if("value"!==c||void 0===this.element.getAttribute("contenteditable")){if("name"===c&&"input"===this.element.name&&d)return"name={{"+(d.keypath.str||d.ref)+"}}";if(this.isBoolean)return b?
c:"";if(e){if(1===e.items.length&&null==e.items[0].value)return"";b=e.toString()}a&&(c=a+":"+c);return b?c+'="'+b.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")+'"':c}},unbind:function(){this.fragment&&this.fragment.unbind();"id"===this.name&&delete this.root.nodes[this.value]},update:function(){var c=this.name,a=this.element,b=this.node,d;"id"===c?d=Hj:"value"===c?"select"===a.name&&"value"===c?d=a.getAttribute("multiple")?Cj:Bj:"textarea"===a.name?d=Of:null!=a.getAttribute("contenteditable")?
d=Jj:"input"===a.name&&(c=a.getAttribute("type"),d="file"===c?aa:"radio"===c&&a.binding&&"name"===a.binding.name?Ej:Of):this.isTwoway&&"name"===c?"radio"===b.type?d=Dj:"checkbox"===b.type&&(d=Fj):"style"===c&&b.style.setAttribute?d=Ij:"class"!==c||b.namespaceURI&&b.namespaceURI!==ma.html?this.useProperty&&(d=Kj):d=Gj;d||(d=Lj);this.update=d;this.update()}};var fc;"undefined"!==typeof document&&(fc=xa("div"));var Qf=function(c,a){this.element=c;this.root=c.root;this.parentFragment=c.parentFragment;
this.attributes=[];this.fragment=new T({root:c.root,owner:this,template:[a]})};Qf.prototype={bubble:function(){this.node&&this.update();this.element.bubble()},rebind:function(c,a){this.fragment.rebind(c,a)},render:function(c){this.node=c;this.isSvg=c.namespaceURI===ma.svg;this.update()},unbind:function(){this.fragment.unbind()},update:function(){var c=this,a;a=kh(this.fragment.toString(),this.isSvg);this.attributes.filter(function(c){a:{for(var b=a.length;b--;)if(a[b].name===c.name){c=!1;break a}c=
!0}return c}).forEach(function(a){c.node.removeAttribute(a.name)});a.forEach(function(a){c.node.setAttribute(a.name,a.value)});this.attributes=a},toString:function(){return this.fragment.toString()}};var Mj=function(c,a){return a?a.map(function(a){return new Qf(c,a)}):[]},ea=function(c){var a,b;this.element=c;this.root=c.root;this.attribute=c.attributes[this.name||"value"];a=this.attribute.interpolator;a.twowayBinding=this;if(b=a.keypath){if("}"===b.str.slice(-1))return K("Two-way binding does not work with expressions (`%s` on <%s>)",
a.resolver.uniqueString,c.name,{ractive:this.root}),!1;if(b.isSpecial)return K("Two-way binding does not work with %s",a.resolver.ref,{ractive:this.root}),!1}else w("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",a.template.r?"'"+a.template.r+"' reference":"expression",{ractive:this.root}),a.resolver.forceResolution(),b=a.keypath;this.attribute.isTwoway=!0;this.keypath=b;a=this.root.viewmodel.get(b);
void 0===a&&this.getInitialValue&&(a=this.getInitialValue(),void 0!==a&&this.root.viewmodel.set(b,a));a:{for(;c=c.parent;)if("form"===c.name)break a;c=void 0}c&&(this.resetValue=a,c.formBindings.push(this))};ea.prototype={handleChange:function(){var c=this;x.start(this.root);this.attribute.locked=!0;this.root.viewmodel.set(this.keypath,this.getValue());x.scheduleTask(function(){return c.attribute.locked=!1});x.end()},rebound:function(){var c,a;c=this.keypath;a=this.attribute.interpolator.keypath;
c!==a&&(R(this.root._twowayBindings[c.str],this),this.keypath=a,c=this.root._twowayBindings[a.str]||(this.root._twowayBindings[a.str]=[]),c.push(this))},unbind:function(){}};ea.extend=function(c){var a;a=function(c){ea.call(this,c);this.init&&this.init()};a.prototype=P(this.prototype);d(a.prototype,c);a.extend=ea.extend;return a};var O=function(){this._ractive.binding.handleChange()},Kb=ea.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var c=
this.element.node,a,b=!1;this.rendered=!0;a=this.root.lazy;!0===this.element.lazy?a=!0:!1===this.element.lazy?a=!1:k(this.element.lazy)?(a=!1,b=+this.element.lazy):k(a||"")&&(b=+a,a=!1,this.element.lazy=b);this.handler=b?lh:O;c.addEventListener("change",O,!1);a||(c.addEventListener("input",this.handler,!1),c.attachEvent&&c.addEventListener("keyup",this.handler,!1));c.addEventListener("blur",Zd,!1)},unrender:function(){var c=this.element.node;this.rendered=!1;c.removeEventListener("change",O,!1);c.removeEventListener("input",
this.handler,!1);c.removeEventListener("keyup",this.handler,!1);c.removeEventListener("blur",Zd,!1)}}),Nj=Kb.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Pc=function(c,a,b){c=c+a+b;return Rf[c]||(Rf[c]=[])},Rf={},Oj=ea.extend({name:"checked",init:function(){this.siblings=Pc(this.root._guid,"radio",this.element.getAttribute("name"));this.siblings.push(this)},render:function(){var c=this.element.node;
c.addEventListener("change",O,!1);c.attachEvent&&c.addEventListener("click",O,!1)},unrender:function(){var c=this.element.node;c.removeEventListener("change",O,!1);c.removeEventListener("click",O,!1)},handleChange:function(){x.start(this.root);this.siblings.forEach(function(c){c.root.viewmodel.set(c.keypath,c.getValue())});x.end()},getValue:function(){return this.element.node.checked},unbind:function(){R(this.siblings,this)}}),Pj=ea.extend({name:"name",init:function(){this.siblings=Pc(this.root._guid,
"radioname",this.keypath.str);this.siblings.push(this);this.radioName=!0},getInitialValue:function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},render:function(){var c=this.element.node;c.name="{{"+this.keypath.str+"}}";c.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value");c.addEventListener("change",O,!1);c.attachEvent&&c.addEventListener("click",O,!1)},unrender:function(){var c=this.element.node;c.removeEventListener("change",
O,!1);c.removeEventListener("click",O,!1)},getValue:function(){var c=this.element.node;return c._ractive?c._ractive.value:c.value},handleChange:function(){this.element.node.checked&&ea.prototype.handleChange.call(this)},rebound:function(c,a){var b;ea.prototype.rebound.call(this,c,a);if(b=this.element.node)b.name="{{"+this.keypath.str+"}}"},unbind:function(){R(this.siblings,this)}}),Qj=ea.extend({name:"name",getInitialValue:function(){this.noInitialValue=!0;return[]},init:function(){var c,a;this.checkboxName=
!0;this.siblings=Pc(this.root._guid,"checkboxes",this.keypath.str);this.siblings.push(this);this.noInitialValue&&(this.siblings.noInitialValue=!0);this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(c=this.root.viewmodel.get(this.keypath),a=this.element.getAttribute("value"),c.push(a))},unbind:function(){R(this.siblings,this)},render:function(){var c=this.element.node,a,b;a=this.root.viewmodel.get(this.keypath);b=this.element.getAttribute("value");f(a)?this.isChecked=X(a,b):this.isChecked=
a==b;c.name="{{"+this.keypath.str+"}}";c.checked=this.isChecked;c.addEventListener("change",O,!1);c.attachEvent&&c.addEventListener("click",O,!1)},unrender:function(){var c=this.element.node;c.removeEventListener("change",O,!1);c.removeEventListener("click",O,!1)},changed:function(){var c=!!this.isChecked;this.isChecked=this.element.node.checked;return this.isChecked===c},handleChange:function(){this.isChecked=this.element.node.checked;ea.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(mh).map(nh)}}),
Rj=ea.extend({name:"checked",render:function(){var c=this.element.node;c.addEventListener("change",O,!1);c.attachEvent&&c.addEventListener("click",O,!1)},unrender:function(){var c=this.element.node;c.removeEventListener("change",O,!1);c.removeEventListener("click",O,!1)},getValue:function(){return this.element.node.checked}}),Qc=ea.extend({getInitialValue:function(){var c=this.element.options,a,b,d,e;if(void 0===this.element.getAttribute("value")&&(b=a=c.length)){for(;b--;)if(c[b].getAttribute("selected")){d=
c[b].getAttribute("value");e=!0;break}if(!e)for(;++b<a;)if(!c[b].getAttribute("disabled")){d=c[b].getAttribute("value");break}void 0!==d&&(this.element.attributes.value.value=d);return d}},render:function(){this.element.node.addEventListener("change",O,!1)},unrender:function(){this.element.node.removeEventListener("change",O,!1)},setValue:function(c){this.root.viewmodel.set(this.keypath,c)},getValue:function(){var c,a,b,d;c=this.element.node.options;b=c.length;for(a=0;a<b;a+=1)if(d=c[a],c[a].selected)return c=
d._ractive?d._ractive.value:d.value},forceUpdate:function(){var c=this,a=this.getValue();void 0!==a&&(this.attribute.locked=!0,x.scheduleTask(function(){return c.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,a))}}),Sj=Qc.extend({getInitialValue:function(){return this.element.options.filter(function(c){return c.getAttribute("selected")}).map(function(c){return c.getAttribute("value")})},render:function(){this.element.node.addEventListener("change",O,!1);void 0===this.root.viewmodel.get(this.keypath)&&
this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",O,!1)},setValue:function(){throw Error("TODO not implemented yet");},getValue:function(){var c,a,b,d,e;c=[];a=this.element.node.options;d=a.length;for(b=0;b<d;b+=1)e=a[b],e.selected&&(e=e._ractive?e._ractive.value:e.value,c.push(e));return c},handleChange:function(){var c,a;c=this.attribute.value;a=this.getValue();void 0!==c&&oa(a,c)||Qc.prototype.handleChange.call(this);return this},forceUpdate:function(){var c=
this,a=this.getValue();void 0!==a&&(this.attribute.locked=!0,x.scheduleTask(function(){return c.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,a))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Tj=ea.extend({render:function(){this.element.node.addEventListener("change",O,!1)},unrender:function(){this.element.node.removeEventListener("change",O,!1)},getValue:function(){return this.element.node.files}}),
Uj=Kb.extend({getInitialValue:function(){},getValue:function(){var c=parseFloat(this.element.node.value);return isNaN(c)?void 0:c}}),Vj=/^event(?:\.(.+))?/,Sf=function(c){var a,b,d,e={};a=this._ractive;b=a.events[c.type];if(d=Ra(b.element.parentFragment))e=Ra.resolve(d);b.fire({node:this,original:c,index:e,keypath:a.keypath.str,context:a.root.viewmodel.get(a.keypath)})},gc={},Wj={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Tf=function(c,a,b){this.init(c,a,b)};Tf.prototype=
{bubble:function(){var c=this.getAction();c&&!this.hasListener?this.listen():!c&&this.hasListener&&this.unrender()},fire:function(c){fb(this.root,this.getAction(),{event:c})},getAction:function(){return this.action.toString().trim()},init:function(c,a,b){var d=this;this.element=c;this.root=c.root;this.parentFragment=c.parentFragment;this.name=a;-1!==a.indexOf("*")&&(p('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',c.name,a),this.invalid=!0);b.m?(a=b.a.r,this.method=
b.m,this.keypaths=[],this.fn=Bf(b.a.s,a.length),this.parentFragment=c.parentFragment,this.refResolvers=[],a.forEach(function(c,a){var b=void 0;(b=Vj.exec(c))?d.keypaths[a]={eventObject:!0,refinements:b[1]?b[1].split("."):[]}:d.refResolvers.push(hb(d,c,function(c){return d.resolve(a,c)}))}),this.fire=oh):(c=b.n||b,"string"!==typeof c&&(c=new T({template:c,root:this.root,owner:this})),this.action=c,b.d?(this.dynamicParams=new T({template:b.d,root:this.root,owner:this.element}),this.fire=qh):b.a&&(this.params=
b.a,this.fire=ph))},listen:function(){var c,a=this.name;if(!this.invalid){if(c=Q("events",this.root,a))this.custom=c(this.node,rh(a));else{if(!("on"+a in this.node||window&&"on"+a in window||ve)){Wj[a]||K(Ta(a,"event"),{node:this.node});return}this.node.addEventListener(a,Sf,!1)}this.hasListener=!0}},rebind:function(c,a){function b(d){d&&d.rebind(c,a)}this.method?this.refResolvers.forEach(b):("string"!==typeof this.action&&b(this.action),this.dynamicParams&&b(this.dynamicParams))},render:function(){this.node=
this.element.node;this.node._ractive.events[this.name]=this;(this.method||this.getAction())&&this.listen()},resolve:function(c,a){this.keypaths[c]=a},unbind:function(){this.method?this.refResolvers.forEach(ja):("string"!==typeof this.action&&this.action.unbind(),this.dynamicParams&&this.dynamicParams.unbind())},unrender:function(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,Sf,!1);this.hasListener=!1}};var Uf=function(c,a){var b=this,d,e,f;this.element=c;this.root=d=
c.root;e=a.n||a;if("string"!==typeof e&&(f=new T({template:e,root:d,owner:c}),e=f.toString(),f.unbind(),""===e))return;a.a?this.params=a.a:a.d&&(this.fragment=new T({template:a.d,root:d,owner:c}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0;b.params=this.getArgsList();b.ready&&b.update()});(this.fn=Q("decorators",d,e))||p(Ta(e,"decorator"))};Uf.prototype={init:function(){var c;c=this.element.node;this.params?(c=[c].concat(this.params),c=
this.fn.apply(this.root,c)):c=this.fn.call(this.root,c);if(!c||!c.teardown)throw Error("Decorator definition must return an object with a teardown method");this.actual=c;this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(c,a){this.fragment&&this.fragment.rebind(c,a)},teardown:function(c){this.torndown=!0;this.ready&&this.actual.teardown();!c&&this.fragment&&this.fragment.unbind()}};var Rc=function(c){return c.replace(/-([a-zA-Z])/g,
function(c,a){return a.toUpperCase()})},Sc,nb,Tc;ra?(nb={},Tc=xa("div").style,Sc=function(c){var a,b,d;c=Rc(c);if(!nb[c])if(void 0!==Tc[c])nb[c]=c;else for(d=c.charAt(0).toUpperCase()+c.substring(1),a=sa.length;a--;)if(b=sa[a],void 0!==Tc[b+d]){nb[c]=b+d;break}return nb[c]}):Sc=null;var ua=Sc,Uc,Vf;ra?(Vf=window.getComputedStyle||null.getComputedStyle,Uc=function(a){var b,d,e,g,h;b=Vf(this.node);if("string"===typeof a)return h=b[ua(a)],"0px"===h&&(h=0),h;if(!f(a))throw Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");
d={};for(e=a.length;e--;)g=a[e],h=b[ua(g)],"0px"===h&&(h=0),d[g]=h;return d}):Uc=null;var Xj=Uc,Wf=function(a){var b;this.duration=a.duration;this.step=a.step;this.complete=a.complete;"string"===typeof a.easing?(b=a.root.easing[a.easing],b||(K(Ta(a.easing,"easing")),b=ae)):b="function"===typeof a.easing?a.easing:ae;this.easing=b;this.start=Be();this.end=this.start+this.duration;this.running=!0;Ub.add(this)};Wf.prototype={tick:function(a){if(!this.running)return!1;if(a>this.end)return this.step&&this.step(1),
this.complete&&this.complete(1),!1;a=this.easing((a-this.start)/this.duration);this.step&&this.step(a);return!0},stop:function(){this.abort&&this.abort();this.running=!1}};var Yj=new RegExp("^-(?:"+sa.join("|")+")-"),Zj=new RegExp("^(?:"+sa.join("|")+")([A-Z])"),Xf=function(a){if(!a)return"";Zj.test(a)&&(a="-"+a);return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})},Vc,Wc,Za,ob,pb,Yf,Zf,$f,Xc={},Lb={};ra?(Wc=xa("div").style,void 0!==Wc.transition?(Za="transition",ob="transitionend",pb=
!0):void 0!==Wc.webkitTransition?(Za="webkitTransition",ob="webkitTransitionEnd",pb=!0):pb=!1,Za&&(Yf=Za+"Duration",Zf=Za+"Property",$f=Za+"TimingFunction"),Vc=function(a,b,d,e,f){setTimeout(function(){var g,h,k,l,n;l=function(){h&&k&&(a.root.fire(a.name+":end",a.node,a.isIntro),f())};g=(a.node.namespaceURI||"")+a.node.tagName;a.node.style[Zf]=e.map(ua).map(Xf).join(",");a.node.style[$f]=Xf(d.easing||"linear");a.node.style[Yf]=d.duration/1E3+"s";n=function(b){b=e.indexOf(Rc(b.propertyName.replace(Yj,
"")));-1!==b&&e.splice(b,1);e.length||(a.node.removeEventListener(ob,n,!1),k=!0,l())};a.node.addEventListener(ob,n,!1);setTimeout(function(){for(var f=e.length,Y,p,q=[],r;f--;)if(r=e[f],Y=g+r,pb&&!Lb[Y]&&(a.node.style[ua(r)]=b[r],Xc[Y]||(p=a.getStyle(r),Xc[Y]=a.getStyle(r)!=b[r],Lb[Y]=!Xc[Y],Lb[Y]&&(a.node.style[ua(r)]=p))),!pb||Lb[Y])void 0===p&&(p=a.getStyle(r)),Y=e.indexOf(r),-1===Y?w("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",
{node:a.node}):e.splice(Y,1),Y=/[^\d]*$/.exec(b[r])[0],q.push({name:ua(r),interpolator:Fb(parseFloat(p),parseFloat(b[r])),suffix:Y});q.length?new Wf({root:a.root,duration:d.duration,easing:Rc(d.easing||""),step:function(b){var d,e;for(e=q.length;e--;)d=q[e],a.node.style[d.name]=d.interpolator(b)+d.suffix},complete:function(){h=!0;l()}}):h=!0;e.length||(a.node.removeEventListener(ob,n,!1),k=!0,l())},0)},d.delay||0)}):Vc=null;var ak=Vc,gb,Yc,Mb,Zc,Sa;if("undefined"!==typeof document){gb="hidden";Sa=
{};if(gb in document)Mb="";else for(Zc=sa.length;Zc--;)Yc=sa[Zc],gb=Yc+"Hidden",gb in document&&(Mb=Yc);void 0!==Mb?(document.addEventListener(Mb+"visibilitychange",be),be()):("onfocusout"in document?(document.addEventListener("focusout",hc),document.addEventListener("focusin",ic)):(window.addEventListener("pagehide",hc),window.addEventListener("blur",hc),window.addEventListener("pageshow",ic),window.addEventListener("focus",ic)),Sa.hidden=!1)}var bk=Sa,$c,ag,bg;ra?(ag=window.getComputedStyle||null.getComputedStyle,
$c=function(a,b,d){var e=this,f;if(4===arguments.length)throw Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(bk.hidden)return this.setStyle(a,b),bg||(bg=Ha.resolve());"string"===typeof a?(f={},f[a]=b):(f=a,d=b);d||(K('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),d=this);return new Ha(function(a){var c,
b,m,g,h,k;if(d.duration){c=Object.keys(f);b=[];m=ag(e.node);for(h=c.length;h--;)k=c[h],g=m[ua(k)],"0px"===g&&(g=0),g!=f[k]&&(b.push(k),e.node.style[ua(k)]=g);b.length?ak(e,f,d,b,a):a()}else e.setStyle(f),a()})}):$c=null;var ad=function(a,b,d){this.init(a,b,d)};ad.prototype={init:function(a,b,d){var e,f;this.element=a;this.root=e=a.root;this.isIntro=d;d=b.n||b;if("string"!==typeof d&&(f=new T({template:d,root:e,owner:a}),d=f.toString(),f.unbind(),""===d))return;this.name=d;b.a?this.params=b.a:b.d&&
(f=new T({template:b.d,root:e,owner:a}),this.params=f.getArgsList(),f.unbind());(this._fn=Q("transitions",e,d))||K(Ta(d,"transition"),{ractive:this.root})},start:function(){var a=this,b,d,e;b=this.node=this.element.node;d=b.getAttribute("style");this.complete=function(f){e||(!f&&a.isIntro&&(d?b.setAttribute("style",d):(b.getAttribute("style"),b.removeAttribute("style"))),b._ractive.transition=null,a._manager.remove(a),e=!0)};this._fn?this._fn.apply(this.root,[this].concat(this.params)):this.complete()},
getStyle:Xj,setStyle:function(a,b){var d;if("string"===typeof a)this.node.style[ua(a)]=b;else for(d in a)a.hasOwnProperty(d)&&(this.node.style[ua(d)]=a[d]);return this},animateStyle:$c,processParams:function(a,b){"number"===typeof a?a={duration:a}:"string"===typeof a?a="slow"===a?{duration:600}:"fast"===a?{duration:200}:{duration:400}:a||(a={});return g({},a,b)}};var cg,dg;cg=function(){var a=this.node,b=this.fragment.toString(!1);window&&window.appearsToBeIELessEqual8&&(a.type="text/css");if(a.styleSheet)a.styleSheet.cssText=
b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(b))}};dg=function(){this.node.type&&"text/javascript"!==this.node.type||w("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root});this.node.text=this.fragment.toString(!1)};var eg=function(a){this.init(a)};eg.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){var a=this.node,b;if(a)return(b=a.parentNode)&&b.removeChild(a),a},find:function(a){if(!this.node)return null;
if(ta(this.node,a))return this.node;if(this.fragment&&this.fragment.find)return this.fragment.find(a)},findAll:function(a,b){b._test(this,!0)&&b.live&&(this.liveQueries||(this.liveQueries=[])).push(b);this.fragment&&this.fragment.findAll(a,b)},findAllComponents:function(a,b){this.fragment&&this.fragment.findAllComponents(a,b)},findComponent:function(a){if(this.fragment)return this.fragment.findComponent(a)},findNextNode:function(){return null},firstNode:function(){return this.node},getAttribute:function(a){if(this.attributes&&
this.attributes[a])return this.attributes[a].value},init:function(a){var b,d,e,f,g,h;this.type=7;d=this.parentFragment=a.parentFragment;e=this.template=a.template;this.parent=a.pElement||d.pElement;this.root=d=d.root;this.index=a.index;this.key=a.key;this.name=Oc(e.e);if("option"===this.name){b:{if(a=this.parent){do if("select"===a.name)break b;while(a=a.parent)}a=void 0}if(this.select=a)this.select.options.push(this),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),
"selected"in e.a&&void 0!==this.select.getAttribute("value")&&delete e.a.selected}"select"===this.name&&(this.options=[],this.bubble=sh);"form"===this.name&&(this.formBindings=[]);var k,l;l=e.a||{};b=a=void 0;k=l.twoway;void 0!==k&&(a=0===k||Mf.test(k));k=l.lazy;void 0!==k&&(0!==k&&zj.test(k)?b=parseInt(k):b=0===k||Mf.test(k));k=e.a;var n;l=[];for(h in k)"twoway"!==h&&"lazy"!==h&&k.hasOwnProperty(h)&&(n=new Pf({element:this,name:h,value:k[h],root:this.root}),l[h]=n,"value"!==h&&l.push(n));(n=l.value)&&
l.push(n);this.attributes=l;this.conditionalAttributes=Mj(this,e.m);e.f&&(this.fragment=new T({template:e.f,root:d,owner:this,pElement:this,cssIds:null}));h=d.twoway;!1===a?h=!1:!0===a&&(h=!0);this.twoway=h;this.lazy=b;if(h){var p;n=this.attributes;this.binding&&(this.binding.teardown(),this.binding=null);(this.getAttribute("contenteditable")||n.contenteditable&&Ca(n.contenteditable))&&Ca(n.value)?p=Nj:"input"===this.name?(f=this.getAttribute("type"),"radio"===f||"checkbox"===f?(h=Ca(n.name),n=Ca(n.checked),
h&&n&&w("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:this.root}),h?p="radio"===f?Pj:Qj:n&&(p="radio"===f?Oj:Rj)):"file"===f&&Ca(n.value)?p=Tj:Ca(n.value)&&(p="number"===f||"range"===f?Uj:Kb)):"select"===this.name&&Ca(n.value)?p=this.getAttribute("multiple")?Sj:Qc:"textarea"===this.name&&Ca(n.value)&&(p=Kb);p=p&&(g=new p(this))&&g.keypath?g:void 0;h=f=p}h&&(this.binding=f,g=this.root._twowayBindings[f.keypath.str]||(this.root._twowayBindings[f.keypath.str]=
[]),g.push(f));if(e.v){g=e.v;var q;n=[];for(q in g)if(g.hasOwnProperty(q))for(f=q.split("-"),p=f.length;p--;)h=new Tf(this,f[p],g[q]),n.push(h);this.eventHandlers=n}e.o&&(this.decorator=new Uf(this,e.o));this.intro=e.t0||e.t1;this.outro=e.t0||e.t2},rebind:function(a,b){function d(e){e.rebind(a,b)}var e,f,g;this.attributes&&this.attributes.forEach(d);this.conditionalAttributes&&this.conditionalAttributes.forEach(d);this.eventHandlers&&this.eventHandlers.forEach(d);this.decorator&&d(this.decorator);
this.fragment&&d(this.fragment);if(g=this.liveQueries)for(e=g.length;e--;)g[e]._makeDirty();this.node&&(f=this.node._ractive)&&kd(f,"keypath",a,b)},render:function(){var a=this,b=this.root,d,e,f;d=wh(this);e=this.node=xa(this.name,d);this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(a){return"{"+a+"}"}).join(" "));qa(this.node,"_ractive",{value:{proxy:this,keypath:De(this.parentFragment),events:P(null),root:b}});this.attributes.forEach(function(a){return a.render(e)});
this.conditionalAttributes.forEach(function(a){return a.render(e)});this.fragment&&("script"===this.name?(this.bubble=dg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=aa):"style"===this.name?(this.bubble=cg,this.bubble(),this.fragment.unrender=aa):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=aa:this.node.appendChild(this.fragment.render()));this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding);this.eventHandlers&&this.eventHandlers.forEach(function(a){return a.render()});
"option"===this.name&&xh(this);"img"===this.name?uh(this):"form"===this.name?this.node.addEventListener("reset",$d,!1):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected);this.decorator&&this.decorator.fn&&x.scheduleTask(function(){a.decorator.torndown||a.decorator.init()},!0);b.transitionsEnabled&&this.intro&&(f=new ad(this,this.intro,!0),x.registerTransition(f),x.scheduleTask(function(){return f.start()},
!0),this.transition=f);this.node.autofocus&&x.scheduleTask(function(){return a.node.focus()},!0);yh(this);return this.node},toString:function(){var a,b;if(this.template.y)return"<!DOCTYPE"+this.template.dd+">";a="<"+this.template.e;a+=this.attributes.map(ce).join("")+this.conditionalAttributes.map(ce).join("");if(b="option"===this.name)a:{var d,e;b=this.getAttribute("value");if(void 0!==b&&this.select)if(d=this.select.getAttribute("value"),d==b)b=!0;else{if(this.select.getAttribute("multiple")&&f(d))for(e=
d.length;e--;)if(d[e]==b){b=!0;break a}b=void 0}else b=!1}b&&(a+=" selected");if(b="input"===this.name)e=this.attributes,b=e.type,d=e.value,e=e.name,b=b&&"radio"===b.value&&d&&e.interpolator?d.value===e.interpolator.value?!0:void 0:void 0;b&&(a+=" checked");a+=">";"textarea"===this.name&&void 0!==this.getAttribute("value")?a+=Xb(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(a+=this.getAttribute("value")||"");this.fragment&&(b="script"!==this.name&&"style"!==this.name,
a+=this.fragment.toString(b));Gb.test(this.template.e)||(a+="</"+this.template.e+">");return a},unbind:function(){this.fragment&&this.fragment.unbind();this.binding&&this.binding.unbind();this.eventHandlers&&this.eventHandlers.forEach(ja);"option"===this.name&&this.select&&R(this.select.options,this);this.attributes.forEach(ja);this.conditionalAttributes.forEach(ja)},unrender:function(a){var b,d;(d=this.transition)&&d.complete();"option"===this.name?this.detach():a&&x.detachWhenReady(this);this.fragment&&
this.fragment.unrender(!1);if(a=this.binding)this.binding.unrender(),this.node._ractive.binding=null,b=this.root._twowayBindings[a.keypath.str],b.splice(b.indexOf(a),1);this.eventHandlers&&this.eventHandlers.forEach(I);this.decorator&&x.registerDecorator(this.decorator);this.root.transitionsEnabled&&this.outro&&(d=new ad(this,this.outro,!1),x.registerTransition(d),x.scheduleTask(function(){return d.start()}));this.liveQueries&&zh(this);"form"===this.name&&this.node.removeEventListener("reset",$d,
!1)}};var $h=eg,fg=/^\s*$/,Bh=/^\s*/,ck=function(a){var b,d,e;b=a.split("\n");d=b[0];void 0!==d&&fg.test(d)&&b.shift();d=U(b);void 0!==d&&fg.test(d)&&b.pop();(e=b.reduce(Ah,null))&&(a=b.map(function(a){return a.replace(e,"")}).join("\n"));return a},bd=function(a,b,d){var e;e=void 0;var f=ee(b,(d||{}).owner);f?e=f:(d=V("partials",a,b))?(f=d.partials[b],"function"===typeof f&&(e=f.bind(d),e.isOwner=d.partials.hasOwnProperty(b),f=e.call(a,ka)),f||""===f?(ka.isParsed(f)||(f=ka.parse(f,ka.getParseOptions(d)),
f.p&&w("Partials ({{>%s}}) cannot contain nested inline partials",b,{ractive:a}),(e?d:d.partials.hasOwnProperty(b)?d:de(d.constructor,b)).partials[b]=f=f.t),e&&(f._fn=e),e=f.v?f.t:f):(w('A function was specified for "%s" %s, but no %s was returned',b,"partial","partial",{ractive:a}),e=void 0)):e=void 0;if(e)return e;if(e=ka.fromId(b,{noThrow:!0}))return e=ck(e),e=ka.parse(e,ka.getParseOptions(a)),a.partials[b]=e.t},dk=function(a,b){return b?a.split("\n").map(function(a,c){return c?b+a:a}).join("\n"):
a},gg=function(a){var b;b=this.parentFragment=a.parentFragment;this.root=b.root;this.type=8;this.index=a.index;this.name=a.template.r;this.rendered=!1;this.fragment=this.fragmentToRender=this.fragmentToUnrender=null;da.init(this,a);this.keypath||((a=bd(this.root,this.name,b))?(Ya.call(this),this.isNamed=!0,this.setTemplate(a)):K('Could not find template for partial "%s"',this.name))};gg.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},
findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,b)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(a,
b){this.isNamed||Ef.call(this,a,b);this.fragment&&this.fragment.rebind(a,b)},render:function(){this.docFrag=document.createDocumentFragment();this.update();this.rendered=!0;return this.docFrag},resolve:da.resolve,setValue:function(a){var b;if(void 0===a||a!==this.value)void 0!==a&&(b=bd(this.root,""+a,this.parentFragment)),!b&&this.name&&(b=bd(this.root,this.name,this.parentFragment))&&(Ya.call(this),this.isNamed=!0),b||K('Could not find template for partial "%s"',this.name,{ractive:this.root}),this.value=
a,this.setTemplate(b||[]),this.bubble(),this.rendered&&x.addView(this)},setTemplate:function(a){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment));this.fragmentToRender=this.fragment=new T({template:a,root:this.root,owner:this,pElement:this.parentFragment.pElement})},toString:function(a){var b,d;a=this.fragment.toString(a);b=this.parentFragment.items[this.index-1];if(!b||1!==b.type)return a;b=b.text.split("\n").pop();return(d=/^\s+$/.exec(b))?dk(a,d[0]):
a},unbind:function(){this.isNamed||Ya.call(this);this.fragment&&this.fragment.unbind()},unrender:function(a){this.rendered&&(this.fragment&&this.fragment.unrender(a),this.rendered=!1)},update:function(){var a,b;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null);this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null);this.rendered&&(a=this.parentFragment.getNode(),b=this.parentFragment.findNextNode(this),
a.insertBefore(this.docFrag,b))}};var ai=gg,Yh=fe,ek=new ca("detach"),cd=[],qb="pop push reverse shift sort splice unshift".split(" "),Nb,dd;qb.forEach(function(a){qa(cd,a,{value:function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];var f,b=Me(this,a,d),d=Array.prototype[a].apply(this,arguments);x.start();this._ractive.setting=!0;for(e=this._ractive.wrappers.length;e--;){f=this._ractive.wrappers[e];x.addRactive(f.root);var g=f.root;f=f.keypath;b?g.viewmodel.smartUpdate(f,
this,b):g.viewmodel.mark(f)}x.end();this._ractive.setting=!1;return d}})});({}).__proto__?(Nb=function(a){a.__proto__=cd},dd=function(a){a.__proto__=Array.prototype}):(Nb=function(a){var b,d;for(b=qb.length;b--;)d=qb[b],qa(a,d,{value:cd[d],configurable:!0})},dd=function(a){var b;for(b=qb.length;b--;)delete a[qb[b]]});Nb.unpatch=dd;var hg=Nb,ed,fd;ed=function(a,b,d){this.root=a;this.value=b;this.keypath=L(d);b._ractive||(qa(b,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),
hg(b));b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a));b._ractive.instances[a._guid]+=1;b._ractive.wrappers.push(this)};ed.prototype={get:function(){return this.value},teardown:function(){var a,b,d,e;a=this.value;b=a._ractive;d=b.wrappers;e=b.instances;if(b.setting)return!1;b=d.indexOf(this);if(-1===b)throw Error(fd);d.splice(b,1);if(d.length){if(--e[this.root._guid],!e[this.root._guid]){b=e.indexOf(this.root);if(-1===b)throw Error(fd);e.splice(b,1)}}else delete a._ractive,
hg.unpatch(this.value)}};fd="Something went wrong in a rather interesting way";var nc={filter:function(a){return f(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,d){return new ed(a,b,d)}},le=/^\s*[0-9]+\s*$/,gd,hd;try{Object.defineProperty({},"test",{value:0}),gd={filter:function(a,b,d){var e;if(!b)return!1;b=L(b);if((e=d.viewmodel.wrapped[b.parent.str])&&!e.magic)return!1;a=d.viewmodel.get(b.parent);return f(a)&&/^[0-9]+$/.test(b.lastKey)?!1:a&&("object"===typeof a||"function"===typeof a)},
wrap:function(a,b,d){return new hd(a,b,d)}},hd=function(a,b,d){var e;d=L(d);this.magic=!0;this.ractive=a;this.keypath=d;this.value=b;this.prop=d.lastKey;d=d.parent;this.obj=d.isRoot?a.viewmodel.data:a.viewmodel.get(d);(a=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop))&&a.set&&(e=a.set._ractiveWrappers)?-1===e.indexOf(this)&&e.push(this):Ch(this,b,a)},hd.prototype={get:function(){return this.value},reset:function(a){if(!this.updating)return this.updating=!0,this.obj[this.prop]=
a,x.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0},set:function(a,b){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=le.test(a)?[]:{},this.updating=!1),this.obj[this.prop][a]=b)},teardown:function(){var a,b;if(this.updating)return!1;if(a=(a=Object.getOwnPropertyDescriptor(this.obj,this.prop))&&a.set)a=a._ractiveWrappers,b=a.indexOf(this),-1!==b&&a.splice(b,1),a.length||(a=this.obj[this.prop],Object.defineProperty(this.obj,
this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=a)}}}catch(c){gd=!1}var Cb=gd,ig,id;Cb&&(ig={filter:function(a,b,d){return Cb.filter(a,b,d)&&nc.filter(a)},wrap:function(a,b,d){return new id(a,b,d)}},id=function(a,b,d){this.value=b;this.magic=!0;this.magicWrapper=Cb.wrap(a,b,d);this.arrayWrapper=nc.wrap(a,b,d)},id.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown();this.magicWrapper.teardown()},reset:function(a){return this.magicWrapper.reset(a)}});
var Mh=ig,jc={},fk=function(a){var b=[Ga],d,e;for(d=a.length;d--;)for(e=a[d].parent;e&&!e.isRoot;){if(-1===a.indexOf(e)){var f=b,g=e;-1===f.indexOf(g)&&f.push(g)}e=e.parent}return b},jg=function(a,b,d){he(a,b);d||(d=b.wildcardMatches(),d.forEach(function(d){ge(a,d,b)}))},kg=function(a,b){this.computation=a;this.viewmodel=a.viewmodel;this.ref=b;this.root=this.viewmodel.ractive;this.parentFragment=this.root.component&&this.root.component.parentFragment};kg.prototype={resolve:function(a){this.computation.softDeps.push(a);
this.computation.unresolvedDeps[a.str]=null;this.viewmodel.register(a,this.computation,"computed")}};var jd=function(a,b){this.key=a;this.getter=b.getter;this.setter=b.setter;this.hardDeps=b.deps||[];this.softDeps=[];this.unresolvedDeps={};this.depValues={};this._dirty=this._firstRun=!0};jd.prototype={constructor:jd,init:function(a){var b=this,d;this.viewmodel=a;this.bypass=!0;d=a.get(this.key);a.clearCache(this.key.str);this.bypass=!1;this.setter&&void 0!==d&&this.set(d);this.hardDeps&&this.hardDeps.forEach(function(d){return a.register(d,
b,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var a=this,b,d=!1;if(this.getting)return r("The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`"),this.value;this.getting=!0;if(this._dirty){this._firstRun||!this.hardDeps.length&&!this.softDeps.length?d=!0:[this.hardDeps,this.softDeps].forEach(function(b){var e,
f,g;if(!d)for(g=b.length;g--;)if(e=b[g],f=a.viewmodel.get(e),!h(f,a.depValues[e.str])){a.depValues[e.str]=f;d=!0;break}});if(d){this.viewmodel.capture();try{this.value=this.getter()}catch(e){w('Failed to compute "%s"',this.key.str),q(e.stack||e),this.value=void 0}b=this.viewmodel.release();(b=this.updateDependencies(b))&&[this.hardDeps,this.softDeps].forEach(function(b){b.forEach(function(b){a.depValues[b.str]=a.viewmodel.get(b)})})}this._dirty=!1}this.getting=this._firstRun=!1;return this.value},
set:function(a){if(this.setting)this.value=a;else{if(!this.setter)throw Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(a)}},updateDependencies:function(a){var b,d,e,f,g;d=this.softDeps;for(b=d.length;b--;)e=d[b],-1===a.indexOf(e)&&(f=!0,this.viewmodel.unregister(e,this,"computed"));for(b=a.length;b--;)if(e=a[b],-1===d.indexOf(e)&&(!this.hardDeps||-1===this.hardDeps.indexOf(e))){f=!0;g=this.viewmodel;var h=e.firstKey;h in g.data||
h in g.computations||h in g.mappings||this.unresolvedDeps[e.str]?this.viewmodel.register(e,this,"computed"):(g=new kg(this,e.str),a.splice(b,1),this.unresolvedDeps[e.str]=g,x.addUnresolved(g))}f&&(this.softDeps=a.slice());return f}};var lg={FAILED_LOOKUP:!0},gk={},mg=function(a,b){this.localKey=a;this.keypath=b.keypath;this.origin=b.origin;this.deps=[];this.unresolved=[];this.resolved=!1};mg.prototype={forceResolution:function(){this.keypath=this.localKey;this.setup()},get:function(a,b){return this.resolved?
this.origin.get(this.map(a),b):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(a){this.local=a;this.setup()},map:function(a){return void 0===typeof this.keypath?this.localKey:a.replace(this.localKey,this.keypath)},register:function(a,b,d){this.deps.push({keypath:a,dep:b,group:d});this.resolved&&this.origin.register(this.map(a),b,d)},resolve:function(a){void 0!==this.keypath&&this.unbind(!0);this.keypath=a;this.setup()},set:function(a,b){this.resolved||
this.forceResolution();this.origin.set(this.map(a),b)},setup:function(){var a=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(b){var d=a.map(b.keypath);a.origin.register(d,b.dep,b.group);if(b.dep.setValue)b.dep.setValue(a.origin.get(d));else if(b.dep.invalidate)b.dep.invalidate();else throw Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");}),this.origin.mark(this.keypath)))},setValue:function(a){if(!this.keypath)throw Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");
this.origin.set(this.keypath,a)},unbind:function(a){var b=this;a||delete this.local.mappings[this.localKey];this.resolved&&(this.deps.forEach(function(a){b.origin.unregister(b.map(a.keypath),a.dep,a.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(a,b,d){var e,f;if(this.resolved){e=this.deps;for(f=e.length;f--;)if(e[f].dep===b){e.splice(f,1);break}this.origin.unregister(this.map(a),b,d)}}};var hk=function(a,b){var d,e;d={};e=0;return a.map(function(a,
c){var f,g,h;g=e;h=b.length;do{f=b.indexOf(a,g);if(-1===f)return-1;g=f+1}while(d[f]&&g<h);f===e&&(e+=1);d[f]=!0;return f})},kc={},ik={implicit:!0},ng={noCascade:!0},og=function(a){var b=a.adapt,d=a.data,e=a.computed,f=a.mappings,g,h;this.ractive=a.ractive;this.adaptors=b;this.onchange=a.onchange;this.cache={};this.cacheMap=P(null);this.deps={computed:P(null),"default":P(null)};this.depsMap={computed:P(null),"default":P(null)};this.patternObservers=[];this.specials=P(null);this.wrapped=P(null);this.computations=
P(null);this.captureGroups=[];this.unresolvedImplicitDependencies=[];this.changes=[];this.implicitChanges={};this.noCascade={};this.data=d;this.mappings=P(null);for(g in f)this.map(L(g),f[g]);if(d)for(g in d)(h=this.mappings[g])&&void 0===h.getValue()&&h.setValue(d[g]);for(g in e)f&&g in f&&p("Cannot map to a computed property ('%s')",g),this.compute(L(g),e[g]);this.ready=!0};og.prototype={adapt:function(a,b){var d,e,f;if(this.adaptors)for(d=this.adaptors.length,e=0;e<d;e+=1)if(f=this.adaptors[e],
f.filter(b,a,this.ractive)){d=this.wrapped[a]=f.wrap(this.ractive,b,a,Dh(a));d.value=b;break}},applyChanges:function(){function a(c){var d=c.key;c.viewmodel===e?(e.clearCache(d.str),c.invalidate(),f.push(d),b(d)):c.viewmodel.mark(d)}function b(d){var f,g;e.noCascade.hasOwnProperty(d.str)||((g=e.deps.computed[d.str])&&g.forEach(a),(f=e.depsMap.computed[d.str])&&f.forEach(b))}var d=this,e=this,f,g,h={},k;f=this.changes;if(f.length)return f.slice().forEach(b),g=fk(f),g.forEach(function(b){var d;-1===
f.indexOf(b)&&(d=e.deps.computed[b.str])&&d.forEach(a)}),this.changes=[],this.patternObservers.length&&(g.forEach(function(a){return jg(d,a,!0)}),f.forEach(function(a){return jg(d,a)})),this.deps.observers&&(g.forEach(function(a){return ie(d,null,a,"observers")}),ke(this,f,"observers")),this.deps["default"]&&(k=[],g.forEach(function(a){return ie(d,k,a,"default")}),k.length&&Eh(this,k,f),ke(this,f,"default")),f.forEach(function(a){h[a.str]=d.get(a)}),this.implicitChanges={},this.noCascade={},h},capture:function(){this.captureGroups.push([])},
clearCache:function(a,b){var d;b||(d=this.wrapped[a])&&!1!==d.teardown()&&(this.wrapped[a]=null);this.cache[a]=void 0;if(d=this.cacheMap[a])for(;d.length;)this.clearCache(d.pop())},compute:function(a,b){var d=new jd(a,b);this.ready&&d.init(this);return this.computations[a.str]=d},get:function(a,b){var d=this.cache,e,f,g,h,k=a.str,l;b=b||gk;b.capture&&(h=U(this.captureGroups))&&(~h.indexOf(a)||h.push(a));if(Fa.call(this.mappings,a.firstKey))return this.mappings[a.firstKey].get(a,b);if(a.isSpecial)return a.value;
if(void 0===d[k]){if((f=this.computations[k])&&!f.bypass)e=f.get(),this.adapt(k,e);else if(g=this.wrapped[k])e=g.value;else if(a.isRoot)this.adapt("",this.data),e=this.data;else{f=this.get(a.parent);if(h=this.wrapped[a.parent.str])f=h.get();null===f||void 0===f?e=void 0:((e=this.cacheMap[a.parent.str])?-1===e.indexOf(a.str)&&e.push(a.str):this.cacheMap[a.parent.str]=[a.str],"object"!==typeof f||a.lastKey in f?(e=f[a.lastKey],this.adapt(a.str,e,!1),this.cache[a.str]=e):e=this.cache[a.str]=lg)}d[k]=
e}else e=d[k];!b.noUnwrap&&(g=this.wrapped[k])&&(e=g.get());if(a.isRoot&&b.fullRootGet)for(l in this.mappings)e[l]=this.mappings[l].getValue();return e===lg?void 0:e},init:function(){for(var a in this.computations)this.computations[a].init(this)},map:function(a,b){var d=this.mappings[a.str]=new mg(a,b);d.initViewmodel(this);return d},mark:function(a,b){var d,e=a.str;b&&(b.implicit&&(this.implicitChanges[e]=!0),b.noCascade&&(this.noCascade[e]=!0));(d=this.computations[e])&&d.invalidate();-1===this.changes.indexOf(a)&&
this.changes.push(a);this.clearCache(e,b?b.keepExistingWrapper:!1);if(this.ready)this.onchange()},merge:function(a,b,d,e){var f,g;this.mark(a);if(e&&e.compare){e=Gh(e.compare);try{f=b.map(e),g=d.map(e)}catch(h){w('merge(): "%s" comparison failed. Falling back to identity checking',a),f=b,g=d}}else f=b,g=d;f=hk(f,g);this.smartUpdate(a,d,f,b.length!==d.length)},register:function(a,b,d){d=void 0===d?"default":d;var e;if(!b.isStatic)if(e=this.mappings[a.firstKey])e.register(a,b,d);else if(e=this.deps[d]||
(this.deps[d]={}),e=e[a.str]||(e[a.str]=[]),e.push(b),this.depsMap[d]||(this.depsMap[d]={}),!a.isRoot)for(;!a.isRoot;)b=this.depsMap[d],b=b[a.parent.str]||(b[a.parent.str]=[]),e=a.str,void 0===b["_"+e]&&(b["_"+e]=0,b.push(a)),b["_"+e]+=1,a=a.parent},release:function(){return this.captureGroups.pop()},reset:function(a){this.data=a;this.clearCache("")},set:function(a,b,d){d=void 0===d?{}:d;var e,f,g;if(!d.noMapping&&(e=this.mappings[a.firstKey]))return e.set(a,b);if(e=this.computations[a.str]){if(e.setting)return;
e.set(b);b=e.get()}h(this.cache[a.str],b)||((f=this.wrapped[a.str])&&f.reset&&(g=!1!==f.reset(b))&&(b=f.get()),e||g||Hh(this,a,b),d.silent?this.clearCache(a.str):this.mark(a))},smartUpdate:function(a,b,d){var e=this,f,g;g=d.length;d.forEach(function(b,d){-1===b&&e.mark(a.join(d),ng)});this.set(a,b,{silent:!0});(f=this.deps["default"][a.str])&&f.filter(Ih).forEach(function(a){return a.shuffle(d,b)});if(g!==b.length){this.mark(a.join("length"),ik);for(f=d.touchedFrom;f<b.length;f+=1)this.mark(a.join(f));
for(f=b.length;f<g;f+=1)this.mark(a.join(f),ng)}},teardown:function(){var a=this,b;for(Object.keys(this.cache).forEach(function(b){return a.clearCache(b)});b=this.unresolvedImplicitDependencies.pop();)b.teardown()},unregister:function(a,b,d){d=void 0===d?"default":d;var e;if(!b.isStatic){if(e=this.mappings[a.firstKey])return e.unregister(a,b,d);e=this.deps[d][a.str];b=e.indexOf(b);if(-1===b)throw Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");
e.splice(b,1);if(!a.isRoot)for(;!a.isRoot;)b=this.depsMap[d],b=b[a.parent.str],--b["_"+a.str],b["_"+a.str]||(R(b,a),b["_"+a.str]=void 0),a=a.parent}}};lc.prototype={constructor:lc,begin:function(a){this.inProcess[a._guid]=!0},end:function(a){var b=a.parent;b&&this.inProcess[b._guid]?me(this.queue,b).push(a):ne(this,a);delete this.inProcess[a._guid]}};var jk=function(a,b){var d={},e;for(e in b){var f=e,g=a,h=e,k=b[e],l=void 0,n=void 0;"function"===typeof k&&(l=mc(k,g));"string"===typeof k&&(l=oe(g,
k));"object"===typeof k&&("string"===typeof k.get?l=oe(g,k.get):"function"===typeof k.get?l=mc(k.get,g):p("`%s` computation must have a `get()` method",h),"function"===typeof k.set&&(n=mc(k.set,g)));d[f]={getter:l,setter:n}}return d},Jh=/\$\{([^\}]+)\}/g,kk=new ca("construct"),lk=new ca("config"),pg=new lc("init"),Oh=0,mk="adaptors components decorators easing events interpolators partials transitions".split(" "),pc=function(a,e,f){var g=void 0===e?{}:e;e=void 0===f?{}:f;Aa.DEBUG&&jb();Nh(a,e);qa(a,
"data",{get:Ph});kk.fire(a,g);mk.forEach(function(b){a[b]=d(P(a.constructor[b]||null),g[b])});f=new og({adapt:Kh(a,a.adapt,g),data:rc.init(a.constructor,a,g),computed:jk(a,d(P(a.constructor.prototype.computed),g.computed)),mappings:e.mappings,ractive:a,onchange:function(){return x.addRactive(a)}});a.viewmodel=f;f.init();qc.init(a.constructor,a,g);lk.fire(a);pg.begin(a);if(a.template){f=void 0;if(e.cssIds||a.cssId)f=e.cssIds?e.cssIds.slice():[],a.cssId&&f.push(a.cssId);a.fragment=new T({template:a.template,
root:a,owner:a,cssIds:f})}pg.end(a);if(e=b(a.el))if(e=a.render(e,a.append),Aa.DEBUG_PROMISES)e["catch"](function(b){K("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;");w("An error happened during rendering",{ractive:a});b.stack&&q(b.stack);throw b;})};pe.prototype={bubble:function(){this.dirty||(this.dirty=!0,x.addView(this))},
update:function(){this.callback(this.fragment.getValue());this.dirty=!1},rebind:function(a,b){this.fragment.rebind(a,b)},unbind:function(){this.fragment.unbind()}};var nk=function(a,b,e,g,h){var k,l,n,p,q={},r={},t={},x,I=[];l=a.parentFragment;n=a.root;h=h||{};d(q,h);h.content=g||[];q[""]=h.content;b.defaults.el&&w("The <%s/> component has a default `el` property; it has been disregarded",a.name);for(g=l;g;){if(16===g.owner.type){p=g.owner.container;break}g=g.parent}e&&Object.keys(e).forEach(function(b){var d=
e[b],g;if("string"===typeof d)g=Hb(d),r[b]=g?g.value:d;else if(0===d)r[b]=!0;else if(f(d))1===d.length&&2===d[0].t?(t[b]={origin:a.root.viewmodel,keypath:void 0},d=Qh(a,d[0],function(a){a.isSpecial?x?k.set(b,a.value):(r[b]=a.value,delete t[b]):x?k.viewmodel.mappings[b].resolve(a):t[b].keypath=a})):d=new pe(a,d,function(a){x?k.set(b,a):r[b]=a}),I.push(d);else throw Error("erm wut");});k=P(b.prototype);pc(k,{el:null,append:!0,data:r,partials:h,magic:n.magic||b.defaults.magic,modifyArrays:n.modifyArrays,
adapt:n.adapt},{parent:n,component:a,container:p,mappings:t,inlinePartials:q,cssIds:l.cssIds});x=!0;a.resolvers=I;return k},ok=new ca("teardown"),qg=function(a,b){this.init(a,b)};qg.prototype={detach:function(){var a=this.instance.fragment.detach();ek.fire(this.instance);return a},find:function(a){return this.instance.fragment.find(a)},findAll:function(a,b){return this.instance.fragment.findAll(a,b)},findAllComponents:function(a,b){b._test(this,!0);this.instance.fragment&&this.instance.fragment.findAllComponents(a,
b)},findComponent:function(a){return a&&a!==this.name?this.instance.fragment?this.instance.fragment.findComponent(a):null:this.instance},findNextNode:function(){return this.parentFragment.findNextNode(this)},firstNode:function(){return this.rendered?this.instance.fragment.firstNode():null},init:function(a,b){if(!b)throw Error('Component "'+this.name+'" not found');this.root=(this.parentFragment=a.parentFragment).root;this.type=15;this.name=a.template.e;this.index=a.index;this.indexRefBindings={};
this.yielders={};this.resolvers=[];nk(this,b,a.template.a,a.template.f,a.template.p);var d=a.template.v,e;for(e in d)d.hasOwnProperty(e)&&Rh(this.instance,this.root,e,d[e]);(a.template.t0||a.template.t1||a.template.t2||a.template.o)&&w('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance});for(var f,d=this.root;d;)(f=d._liveComponentQueries["_"+this.name])&&f.push(this.instance),d=d.parent},rebind:function(a,b){function d(e){e.rebind(a,b)}var e;this.resolvers.forEach(d);
for(var f in this.yielders)this.yielders[f][0]&&d(this.yielders[f][0]);(e=this.root._liveComponentQueries["_"+this.name])&&e._makeDirty()},render:function(){var a=this.instance;a.render(this.parentFragment.getNode());this.rendered=!0;return a.fragment.detach()},toString:function(){return this.instance.fragment.toString()},unbind:function(){var a=this.instance;this.resolvers.forEach(ja);var b,d;b=this.root;do(d=b._liveComponentQueries["_"+this.name])&&d._remove(this);while(b=b.parent);a._observers.forEach(Ea);
a.fragment.unbind();a.viewmodel.teardown();a.fragment.rendered&&a.el.__ractive_instances__&&R(a.el.__ractive_instances__,a);ok.fire(a)},unrender:function(a){this.shouldDestroy=a;this.instance.unrender()}};var Zh=qg,rg=function(a){this.type=9;this.value=a.template.c};rg.prototype={detach:Kc,firstNode:function(){return this.node},render:function(){this.node||(this.node=document.createComment(this.value));return this.node},toString:function(){return"\x3c!--"+this.value+"--\x3e"},unrender:function(a){a&&
this.node.parentNode.removeChild(this.node)}};var bi=rg,sg=function(a){var b,d;this.type=16;this.container=b=a.parentFragment.root;this.component=d=b.component;this.container=b;this.containerFragment=a.parentFragment;this.parentFragment=d.parentFragment;var e=this.name=a.template.n||"",g=b._inlinePartials[e];g||(w('Could not find template for partial "'+e+'"',{ractive:a.root}),g=[]);this.fragment=new T({owner:this,root:b.parent,template:g,pElement:this.containerFragment.pElement});f(d.yielders[e])?
d.yielders[e].push(this):d.yielders[e]=[this];x.scheduleTask(function(){if(1<d.yielders[e].length)throw Error("A component template can only have one {{yield"+(e?" "+e:"")+"}} declaration at a time");})};sg.prototype={detach:function(){return this.fragment.detach()},find:function(a){return this.fragment.find(a)},findAll:function(a,b){return this.fragment.findAll(a,b)},findComponent:function(a){return this.fragment.findComponent(a)},findAllComponents:function(a,b){return this.fragment.findAllComponents(a,
b)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(a){return this.fragment.getValue(a)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(a){this.fragment.unrender(a);R(this.component.yielders[this.name],this)},rebind:function(a,b){this.fragment.rebind(a,b)},toString:function(){return this.fragment.toString()}};var Uh=sg,tg=function(a){this.declaration=
a.template.a};tg.prototype={init:aa,render:aa,unrender:aa,teardown:aa,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var ci=tg,ug=function(a){this.init(a)};ug.prototype={bubble:function(){this.dirtyValue=this.dirtyArgs=!0;this.bound&&"function"===typeof this.owner.bubble&&this.owner.bubble()},detach:function(){var a;if(1===this.items.length)return this.items[0].detach();a=document.createDocumentFragment();this.items.forEach(function(b){(b=b.detach())&&a.appendChild(b)});return a},find:function(a){var b,
d,e,f;if(this.items){d=this.items.length;for(b=0;b<d;b+=1)if(e=this.items[b],e.find&&(f=e.find(a)))return f;return null}},findAll:function(a,b){var d,e,f;if(this.items)for(e=this.items.length,d=0;d<e;d+=1)f=this.items[d],f.findAll&&f.findAll(a,b);return b},findAllComponents:function(a,b){var d,e,f;if(this.items)for(e=this.items.length,d=0;d<e;d+=1)f=this.items[d],f.findAllComponents&&f.findAllComponents(a,b);return b},findComponent:function(a){var b,d,e,f;if(this.items){b=this.items.length;for(d=
0;d<b;d+=1)if(e=this.items[d],e.findComponent&&(f=e.findComponent(a)))return f;return null}},findNextNode:function(a){a=a.index;return this.items[a+1]?this.items[a+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():null},getArgsList:function(){var a,b;this.dirtyArgs&&(b=$b(this.items,a={},this.root._guid),this.argsList=a=(a=Hb("["+b+"]",a))?
a.value:[this.toString()],this.dirtyArgs=!1);return this.argsList},getNode:function(){var a=this;do if(a.pElement)return a.pElement.node;while(a=a.parent);return this.root.detached||this.root.el},getValue:function(){var a,b;this.dirtyValue&&(b=$b(this.items,a={},this.root._guid),this.value=a=(a=Hb(b,a))?a.value:this.toString(),this.dirtyValue=!1);return this.value},init:function(a){var b=this;this.owner=a.owner;this.parent=this.owner.parentFragment;this.root=a.root;this.pElement=a.pElement;this.context=
a.context;this.index=a.index;this.key=a.key;this.registeredIndexRefs=[];this.cssIds="cssIds"in a?a.cssIds:this.parent?this.parent.cssIds:null;this.items=a.template.map(function(d,e){return Sh({parentFragment:b,pElement:a.pElement,template:d,index:e})});this.value=this.argsList=null;this.bound=this.dirtyArgs=this.dirtyValue=!0},rebind:function(a,b){this.owner&&!this.owner.hasContext||kd(this,"context",a,b);this.items.forEach(function(d){d.rebind&&d.rebind(a,b)})},registerIndexRef:function(a){var b=
this.registeredIndexRefs;-1===b.indexOf(a)&&b.push(a)},render:function(){var a;1===this.items.length?a=this.items[0].render():(a=document.createDocumentFragment(),this.items.forEach(function(b){a.appendChild(b.render())}));this.rendered=!0;return a},toString:function(a){return this.items?this.items.map(a?ei:di).join(""):""},unbind:function(){this.bound&&(this.items.forEach(fi),this.bound=!1)},unregisterIndexRef:function(a){var b=this.registeredIndexRefs;b.splice(b.indexOf(a),1)},unrender:function(a){if(!this.rendered)throw Error("Attempted to unrender a fragment that was not rendered");
this.items.forEach(function(b){return b.unrender(a)});this.rendered=!1}};var T=ug,pk=["template","partials","components","decorators","events"],qk=new ca("reset"),rk=Ja("reverse"),sk=Ja("shift"),tk=Ja("sort"),uk=Ja("splice"),vk=new ca("teardown"),vg=function(){return this.fragment.toString(!0)},wk=new ca("unrender"),xk=Ja("unshift"),yk=new ca("update"),zk={add:function(a,b){return ze(this,a,void 0===b?1:+b)},animate:function(a,b,d){var e,f,g,h,k,l,n,p,q,r,t,w;e=new Ha(function(a){return f=a});if("object"===
typeof a){d=b||{};b=d.easing;l=d.duration;k=[];n=d.step;p=d.complete;if(n||p)r={},d.step=null,d.complete=null,q=function(a){return function(b,c){r[a]=c}};for(g in a)if(a.hasOwnProperty(g)){if(n||p)t=q(g),d={easing:b,duration:l},n&&(d.step=t);d.complete=p?t:aa;k.push(sb(this,g,a[g],d))}a={easing:b,duration:l};n&&(a.step=function(a){return n(a,r)});p&&e.then(function(a){return p(a,r)});a.complete=f;w=sb(this,null,null,a);k.push(w);e.stop=function(){for(var a;a=k.pop();)a.stop();w&&w.stop()};return e}d=
d||{};d.complete&&e.then(d.complete);d.complete=f;h=sb(this,a,b,d);e.stop=function(){return h.stop()};return e},detach:function(){if(this.detached)return this.detached;this.el&&R(this.el.__ractive_instances__,this);this.detached=this.fragment.detach();qi.fire(this);return this.detached},find:function(a){return this.el?this.fragment.find(a):null},findAll:function(a,b){var d,e;if(!this.el)return[];b=b||{};d=this._liveQueries;if(e=d[a])return b&&b.live?e:e.slice();e=He(this,a,!!b.live,!1);e.live&&(d.push(a),
d["_"+a]=e);this.fragment.findAll(a,e);return e},findAllComponents:function(a,b){var d,e;b=b||{};d=this._liveComponentQueries;if(e=d[a])return b&&b.live?e:e.slice();e=He(this,a,!!b.live,!0);e.live&&(d.push(a),d["_"+a]=e);this.fragment.findAllComponents(a,e);return e},findComponent:function(a){return this.fragment.findComponent(a)},findContainer:function(a){return this.container?this.container.component&&this.container.component.name===a?this.container:this.container.findContainer(a):null},findParent:function(a){return this.parent?
this.parent.component&&this.parent.component.name===a?this.parent:this.parent.findParent(a):null},fire:function(a){var b={args:Array.prototype.slice.call(arguments,1)};fb(this,a,b)},get:function(a){var b;a=L(na(a));b=this.viewmodel.get(a,xi);void 0===b&&this.parent&&!this.isolated&&xb(this,a.str,this.component.parentFragment)&&(b=this.viewmodel.get(a));return b},insert:function(a,d){if(!this.fragment.rendered)throw Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");
a=b(a);d=b(d)||null;if(!a)throw Error("You must specify a valid target to insert into");a.insertBefore(this.detach(),d);this.el=a;(a.__ractive_instances__||(a.__ractive_instances__=[])).push(this);this.detached=null;od(this)},merge:function(a,b,d){var e,g;a=L(na(a));e=this.viewmodel.get(a);if(!f(e)||!f(b))return this.set(a,b,d&&d.complete);g=x.start(this,!0);this.viewmodel.merge(a,e,b,d);x.end();return g},observe:function(a,b,d){var e,f,g;if(l(a)){d=b;f=a;e=[];for(a in f)f.hasOwnProperty(a)&&(b=f[a],
e.push(this.observe(a,b,d)));return{cancel:function(){for(;e.length;)e.pop().cancel()}}}if("function"===typeof a)return d=b,b=a,zc(this,"",b,d);f=a.split(" ");if(1===f.length)return zc(this,a,b,d);e=[];for(g=f.length;g--;)(a=f[g])&&e.push(zc(this,a,b,d));return{cancel:function(){for(;e.length;)e.pop().cancel()}}},observeOnce:function(a,b,d){var e=this.observe(a,function(){b.apply(this,arguments);e.cancel()},{init:!1,defer:d&&d.defer});return e},off:function(a,b){var d=this,e;if(a)e=a.split(" ").map(Ke).filter(Le),
e.forEach(function(a){var c;if(c=d._subs[a])b?(a=c.indexOf(b),-1!==a&&c.splice(a,1)):d._subs[a]=[]});else for(a in this._subs)delete this._subs[a];return this},on:function(a,b){var d=this,e,f;if("object"===typeof a){e=[];for(f in a)a.hasOwnProperty(f)&&e.push(this.on(f,a[f]));return{cancel:function(){for(var a;a=e.pop();)a.cancel()}}}a.split(" ").map(Ke).filter(Le).forEach(function(a){(d._subs[a]||(d._subs[a]=[])).push(b)});return{cancel:function(){return d.off(a,b)}}},once:function(a,b){var d=this.on(a,
function(){b.apply(this,arguments);d.cancel()});return d},pop:Bi,push:Ci,render:function(a,d){var e=this,f,g,h;h=this.transitionsEnabled;this.noIntro&&(this.transitionsEnabled=!1);f=x.start(this,!0);x.scheduleTask(function(){return Di.fire(e)},!0);if(this.fragment.rendered)throw Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");a=b(a)||this.el;d=b(d)||this.anchor;this.el=a;this.anchor=d;if(!this.append&&a){var k=a.__ractive_instances__;k&&k.length&&
k.splice(0,k.length).forEach(tb);a.innerHTML=""}this.cssId&&Qe.apply();a&&((g=a.__ractive_instances__)?g.push(this):a.__ractive_instances__=[this],d?a.insertBefore(this.fragment.render(),d):a.appendChild(this.fragment.render()));x.end();this.transitionsEnabled=h;return f.then(function(){return Ei.fire(e)})},reset:function(a){var b,d,e;a=a||{};if("object"!==typeof a)throw Error("The reset method takes either no arguments, or an object containing new data");(d=this.viewmodel.wrapped[""])&&d.reset?!1===
d.reset(a)&&this.viewmodel.reset(a):this.viewmodel.reset(a);d=qc.reset(this);for(e=d.length;e--;)if(-1<pk.indexOf(d[e])){b=!0;break}if(b){b=void 0;this.viewmodel.mark(Ga);if(b=this.component)b.shouldDestroy=!0;this.unrender();b&&(b.shouldDestroy=!1);this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new T({template:this.template,root:this,owner:this}));b=this.render(this.el,this.anchor)}else b=x.start(this,!0),this.viewmodel.mark(Ga),x.end();qk.fire(this,a);return b},resetPartial:function(a,
b){function d(b,e,g){g&&g.partials[a]||b.forEach(function(b){8===b.type&&b.getPartialName()===a&&e.push(b);b.fragment&&d(b.fragment.items,e,g);f(b.fragments)?d(b.fragments,e,g):f(b.items)?d(b.items,e,g):15===b.type&&b.instance&&d(b.instance.fragment.items,e,b.instance);7===b.type&&(f(b.attributes)&&d(b.attributes,e,g),f(b.conditionalAttributes)&&d(b.conditionalAttributes,e,g))})}var e,g=[];d(this.fragment.items,g);this.partials[a]=b;e=x.start(this,!0);g.forEach(function(b){b.value=void 0;b.setValue(a)});
x.end();return e},resetTemplate:function(a){var b;Zb.init(null,this,{template:a});a=this.transitionsEnabled;this.transitionsEnabled=!1;if(b=this.component)b.shouldDestroy=!0;this.unrender();b&&(b.shouldDestroy=!1);this.fragment.unbind();this.fragment=new T({template:this.template,root:this,owner:this});this.render(this.el,this.anchor);this.transitionsEnabled=a},reverse:rk,set:function(a,b){var d,e;e=x.start(this,!0);if(l(a))for(a in d=a,d)d.hasOwnProperty(a)&&(b=d[a],re(this,a,b));else re(this,a,
b);x.end();return e},shift:sk,sort:tk,splice:uk,subtract:function(a,b){return ze(this,a,void 0===b?-1:-b)},teardown:function(){var a;this.fragment.unbind();this.viewmodel.teardown();this._observers.forEach(Ea);this.fragment.rendered&&this.el.__ractive_instances__&&R(this.el.__ractive_instances__,this);this.shouldDestroy=!0;a=this.fragment.rendered?this.unrender():Ha.resolve();vk.fire(this);this._boundFunctions.forEach(gi);return a},toggle:function(a){var b=this;if("string"!==typeof a)throw new TypeError("Bad arguments");
var d=void 0;return/\*/.test(a)?(d={},rb(this,L(na(a))).forEach(function(a){d[a.str]=!b.viewmodel.get(a)}),this.set(d)):this.set(a,!this.get(a))},toHTML:vg,toHtml:vg,unrender:function(){var a,b;if(!this.fragment.rendered)return w("ractive.unrender() was called on a Ractive instance that was not rendered"),Ha.resolve();a=x.start(this,!0);for(b=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();this.fragment.unrender(b);R(this.el.__ractive_instances__,
this);wk.fire(this);x.end();return a},unshift:xk,update:function(a){var b;a=L(a)||Ga;b=x.start(this,!0);this.viewmodel.mark(a);x.end();yk.fire(this,a);return b},updateModel:function(a,b){var d,e;if("string"!==typeof a||b)for(d in e=[],this._twowayBindings)a&&!L(d).equalsOrStartsWith(a)||e.push.apply(e,this._twowayBindings[d]);else e=this._twowayBindings[a];d=hi(this,e);return this.set(d)}},li=function(a,b,d){return d||"function"===typeof b&&/_super/.test(a)?function(){var d="_super"in this,e=this._super,
f;this._super=b;f=a.apply(this,arguments);d&&(this._super=e);return f}:a},mi=function(a){for(var b={};a;)ii(a,b),ki(a,b),a=a._Parent!==Aa?a._Parent:!1;return b},va;va=function(a){if(!(this instanceof va))return new va(a);pc(this,a)};Ua(va,{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:se},getNodeInfo:{value:function(a){var b={},d;if(!a||!(d=a._ractive))return b;b.ractive=d.root;b.keypath=d.keypath.str;b.index={};if(a=Ra(d.proxy.parentFragment))b.index=Ra.resolve(a);
return b}},parse:{value:zb},Promise:{value:Ha},svg:{value:sc},magic:{value:Bb},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:{linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow(a-1,3)+1},easeInOut:function(a){return 1>(a/=.5)?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)}}},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Eb},partials:{writable:!0,
value:{}},transitions:{writable:!0,value:{}}});va.prototype=d(zk,ue);va.prototype.constructor=va;va.defaults=va.prototype;if("function"!==typeof Date.now||"function"!==typeof String.prototype.trim||"function"!==typeof Object.keys||"function"!==typeof Array.prototype.indexOf||"function"!==typeof Array.prototype.forEach||"function"!==typeof Array.prototype.map||"function"!==typeof Array.prototype.filter||"undefined"!==typeof window&&"function"!==typeof window.addEventListener)throw Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");
var Aa=va;return Aa});(function(b,a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define(a):b.Ractive.events.tap=a()})(this,function(){function b(a,b){this.node=a;this.callback=b;this.preventMousedownEvents=!1;this.bind(a)}function a(a){this.__tap_handler__.mousedown(a)}function e(a){this.__tap_handler__.touchdown(a)}function d(){this.addEventListener("keydown",f,!1);this.addEventListener("blur",g,!1)}function g(){this.removeEventListener("keydown",f,
!1);this.removeEventListener("blur",g,!1)}function f(a){32===a.which&&this.__tap_handler__.fire()}b.prototype={bind:function(b){window.navigator.pointerEnabled?b.addEventListener("pointerdown",a,!1):window.navigator.msPointerEnabled?b.addEventListener("MSPointerDown",a,!1):b.addEventListener("mousedown",a,!1);b.addEventListener("touchstart",e,!1);"BUTTON"!==b.tagName&&"button"!==b.type||b.addEventListener("focus",d,!1);b.__tap_handler__=this},fire:function(a,b,d){this.callback({node:this.node,original:a,
x:b,y:d})},mousedown:function(a){var b=this;if(!this.preventMousedownEvents&&(void 0===a.which||1===a.which)){var d=a.clientX,e=a.clientY,f=a.pointerId,g=function(a){a.pointerId==f&&(b.fire(a,d,e),r())},t=function(a){a.pointerId==f&&(5<=Math.abs(a.clientX-d)||5<=Math.abs(a.clientY-e))&&r()},r=function K(){b.node.removeEventListener("MSPointerUp",g,!1);document.removeEventListener("MSPointerMove",t,!1);document.removeEventListener("MSPointerCancel",K,!1);b.node.removeEventListener("pointerup",g,!1);
document.removeEventListener("pointermove",t,!1);document.removeEventListener("pointercancel",K,!1);b.node.removeEventListener("click",g,!1);document.removeEventListener("mousemove",t,!1)};window.navigator.pointerEnabled?(this.node.addEventListener("pointerup",g,!1),document.addEventListener("pointermove",t,!1),document.addEventListener("pointercancel",r,!1)):window.navigator.msPointerEnabled?(this.node.addEventListener("MSPointerUp",g,!1),document.addEventListener("MSPointerMove",t,!1),document.addEventListener("MSPointerCancel",
r,!1)):(this.node.addEventListener("click",g,!1),document.addEventListener("mousemove",t,!1));setTimeout(r,400)}},touchdown:function(){var a=this,b=event.touches[0],d=b.clientX,e=b.clientY,f=b.identifier,g=function(b){b.changedTouches[0].identifier===f&&(b.preventDefault(),a.preventMousedownEvents=!0,clearTimeout(a.preventMousedownTimeout),a.preventMousedownTimeout=setTimeout(function(){a.preventMousedownEvents=!1},400),a.fire(b,d,e));r()},t=function(a){1===a.touches.length&&a.touches[0].identifier===
f||r();a=a.touches[0];(5<=Math.abs(a.clientX-d)||5<=Math.abs(a.clientY-e))&&r()},r=function K(){a.node.removeEventListener("touchend",g,!1);window.removeEventListener("touchmove",t,!1);window.removeEventListener("touchcancel",K,!1)};this.node.addEventListener("touchend",g,!1);window.addEventListener("touchmove",t,!1);window.addEventListener("touchcancel",r,!1);setTimeout(r,400)},teardown:function(){var b=this.node;b.removeEventListener("pointerdown",a,!1);b.removeEventListener("MSPointerDown",a,!1);
b.removeEventListener("mousedown",a,!1);b.removeEventListener("touchstart",e,!1);b.removeEventListener("focus",d,!1)}};return function(a,d){return new b(a,d)}});(function(b,a){"object"===typeof exports&&"undefined"!==typeof module?a(exports):"function"===typeof define&&define.amd?define(["exports"],a):a(b.Ractive.events)})(this,function(b){function a(a){return function(b,d){function e(f){(f.which||f.keyCode)===a&&(f.preventDefault(),d({node:b,original:f}))}b.addEventListener("keydown",e,!1);return{teardown:function(){b.removeEventListener("keydown",e,!1)}}}}var e=a(13),d=a(9),g=a(27),f=a(32),h=a(37),k=a(39),l=a(40),n=a(38);b.enter=e;b.tab=d;b.escape=g;b.space=
f;b.leftarrow=h;b.rightarrow=k;b.downarrow=l;b.uparrow=n});window.SECU=window.SECU||{};
window.SECU.Ajax={_data:{url:{api:{host:"https://api.secu.su",feedback:"/feedback",post:"/s",get:"/s/",stat:"/stat"},web:{host:"https://secu.su",page:"/"}}},assignHost:function(){var b=this._data,a=window.location.host;-1<a.indexOf("localhost")&&(b.url.api.host="https://api-test.secu.su",b.url.web.host=a)},call:function(b){return new Promise(function(a,e){var d=new XMLHttpRequest;d.open(b.method,b.url,!0);b.contentType&&d.setRequestHeader("Content-type",b.contentType);d.send(b.data);d.onload=function(){200<=
this.status&&300>this.status?a(this.response):e(this.statusText)};d.onerror=function(){e(this.statusText)}})},sendFeedback:function(b){var a=this._data;return this.call({method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify(b),url:a.url.api.host+a.url.api.feedback})},requestContainer:function(b){var a=this._data;return this.call({method:"GET",url:a.url.api.host+a.url.api.get+b})},sendContainer:function(b){var a=this._data;return this.call({method:"POST",contentType:"application/json;charset=UTF-8",
data:JSON.stringify(b),url:a.url.api.host+a.url.api.post})},getCount:function(){var b=this._data;return this.call({method:"GET",url:b.url.api.host+b.url.api.stat})}};window.SECU=window.SECU||{};window.SECU.Socket={_data:{},init:function(){var b=this._data;b.socket=io.connect(window.SECU.Ajax._data.url.api.host+":3000",{secure:!0});b.socket.on("secu-channel:App\\Events\\SecuWasCreated",function(a){window.SECU.App.refreshCount(a.id)})}};window.SECU=window.SECU||{};
window.SECU.Crypt={_data:{encryptionParameters:{iterations:4096,keySize:256,authenticationStrength:128,authenticatedData:"S\u00cbCU",cipherMode:"gcm"}},getRandomHexValue:function(b,a){return sjcl.random.randomWords(b,a)},decrypt:function(b){return sjcl.decrypt(b.password,b.message,{},{})},encrypt:function(b){var a=this._data.encryptionParameters,a={adata:a.authenticatedData+"-"+(new Date).getTime(),iter:a.iterations,mode:a.cipherMode,ts:a.authenticationStrength,ks:a.keySize,iv:this.getRandomHexValue(4,
0),salt:this.getRandomHexValue(2,0)};return sjcl.encrypt(b.password,b.message,a,{})}};window.SECU=window.SECU||{};
window.SECU.Helpers={_data:{},watchScroll:function(){var b=this._data;b.nav={};b.nav.bar=document.getElementsByClassName("navbar")[0];b.nav.spacer=document.getElementsByClassName("navbar-spacer")[0];window.addEventListener("scroll",function(a){document.body.scrollTop>b.nav.spacer.offsetTop?(b.nav.bar.classList.add("docked"),b.nav.spacer.classList.add("docked")):(b.nav.bar.classList.remove("docked"),b.nav.spacer.classList.remove("docked"))},!1)},watchDragDrop:function(){function b(b){b.preventDefault();clearTimeout(e.dropTimeout);
switch(b.type){case "dragenter":case "dragover":a.set("dropActive",!0);e.dropTimeout=setTimeout(function(){a.set("dropActive",!1)},1E3);break;case "dragleave":e.dropTimeout=setTimeout(function(){a.set("dropActive",!1)},1E3);break;case "drop":a.set("dropActive",!1),document.getElementsByClassName("attachedFile").length&&(a.set("encrypt.rawFile",[b.dataTransfer.files[0]]),a.fire("checkFile"))}}var a=window.SECU.App._data.app,e=this._data;a.get("supportedFeatures.dragdrop")&&(document.body.addEventListener("dragover",
b,!1),document.body.addEventListener("dragenter",b,!1),document.body.addEventListener("dragleave",b,!1),document.body.addEventListener("drop",b,!1))},checkLocation:function(){var b=window.location.pathname.substring(1);b.length&&window.SECU.App._data.app.set("decrypt.hash",b)},checkCopy:function(){window.SECU.App._data.app.set("supportedFeatures.copy",document.queryCommandSupported("copy"))},checkDownload:function(){window.SECU.App._data.app.set("supportedFeatures.download","download"in document.createElement("a"))},
checkDragDrop:function(){var b=document.createElement("div");window.SECU.App._data.app.set("supportedFeatures.dragdrop","ondragstart"in b&&"ondrop"in b)},fixHeight:function(b,a){var e=window.SECU.App._data.app,d=b?b.node:document.getElementById(a+"ContainerBody"),g=getComputedStyle(d).getPropertyValue("border-width"),g=g.length?parseInt(g,10):1;e.set(a+".textareaHeight","0px");d.scrollHeight>d.offsetHeight&&e.set(a+".textareaHeight",d.scrollHeight+2*g+"px")},copyText:function(b){b.select();document.execCommand("copy");
b.blur();window.getSelection().removeAllRanges()},formatCounter:function(b){b=parseInt(b,10);return b.toLocaleString()}};window.SECU=window.SECU||{};
window.SECU.File={_data:{maxFileSize:1572864},base64ToBlob:function(b){var a=atob(b.split(",")[1]);b=b.split(",")[0].split(":")[1].split(";")[0];for(var e=new ArrayBuffer(a.length),d=new Uint8Array(e),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);a=new Blob([e],{type:b});return URL.createObjectURL(a)},fileToBase64:function(b){var a=new FileReader;return new Promise(function(e,d){try{a.onload=function(a){e(a.target.result)},a.readAsDataURL(b)}catch(g){d(g)}})},getExtension:function(b){return b.split(".").pop()},prettifySize:function(b){b=
Math.round(b/1E3);return b=1E3<=b?(b/1E3).toFixed(1)+"MB":b+"KB"},validated:function(b){return(b=b[0])?b.size>this._data.maxFileSize?["The file is too big"]:b:!1}};window.SECU=window.SECU||{};window.SECU.Error={_data:{},show:function(b){var a=window.SECU.Error,e=a._data,d=window.SECU.App._data.app;d.set("errors.messages",b);d.set("errors.show",!0);clearTimeout(e.errorTimeout);e.errorTimeout=setTimeout(function(){a.hide()},3E3)},hide:function(){var b=window.SECU.Error._data;window.SECU.App._data.app.set("errors.show",!1);clearTimeout(b.errorTimeout)}};Ractive.DEBUG=!1;window.SECU=window.SECU||{};
window.SECU.App={_data:{params:{encrypt:{done:!1,link:"",formActive:!0,rawFile:[],fileData:{size:"",name:"",extension:""},file:{message:"",password:""},form:{message:"",password:""},textareaHeight:"0px"},decrypt:{done:!1,success:!0,hash:"",loaded:!1,formActive:!1,message:"",files:[],fileForm:{message:"",password:""},form:{message:"",password:""},textareaHeight:"0px"},feedback:{sent:!1,form:{body:"",email:""},textareaHeight:"0px"}}},reinitApp:function(b){var a=this._data,e=a.app;b&&(window.SECU.Error.hide(),
history.replaceState({},"S\u00ebcu","/"));e.set("formDisabled",!1);e.set("textCopied",!1);e.set("dropActive",!1);e.set("decrypt",JSON.parse(JSON.stringify(a.params.decrypt)));e.set("encrypt",JSON.parse(JSON.stringify(a.params.encrypt)));e.set("feedback",JSON.parse(JSON.stringify(a.params.feedback)))},refreshCount:function(b){var a=this._data;a.app.set("counter.number",window.SECU.Helpers.formatCounter(b));a.app.set("counter.show",!0)},init:function(){var b=this,a=this._data,e=new Ractive({el:document.getElementsByClassName("secuApp")[0],
template:"#secuApp",data:{counter:{show:!1,number:"9000"},show:{main:!0,faq:!1,feedback:!1},formDisabled:!1,textCopied:!1,dropActive:!1,supportedFeatures:{copy:!0,download:!0,dragdrop:!0},errors:{show:!1,messages:[]}}});a.app=e;this.reinitApp();e.set("encrypt.formActive",!1);e.on({hideError:function(){window.SECU.Error.hide()},toggleView:function(a,b){a.original&&a.original.preventDefault();if(this.get("show."+b))return!1;window.SECU.Error.hide();var e=this.get("show"),h;for(h in e)this.set("show."+
h,!1);this.set("show."+b,!0)},sendFeedback:function(a){a.original&&a.original.preventDefault();a=this.get("feedback.form");var b=this;window.SECU.Error.hide();if(!a.body.length)return window.SECU.Error.show(["The message can't be empty"]),!1;b.set("formDisabled",!0);window.SECU.Ajax.sendFeedback(a).then(function(a){b.set("feedback.sent",!0);b.set("formDisabled",!1);b.set("feedback.form",{body:"",email:""})},function(a){window.SECU.Error.show([a])})},fixHeight:window.SECU.Helpers.fixHeight,attachFile:function(a){a.original&&
a.original.preventDefault();this.get("encrypt.rawFile").length?(this.set("encrypt.rawFile",[]),this.find("#messageFile").value=""):this.find("#messageFile").click()},downloadFile:function(a){this.get("supportedFeatures.download")||(a.original&&a.original.preventDefault(),window.open(a.node.href,"_blank").focus())},checkFile:function(a){window.SECU.Error.hide();var b=this,e=window.SECU.File.validated(this.get("encrypt.rawFile"));if(e&&!e[0]){var h=window.SECU.File.prettifySize(e.size),k=window.SECU.File.getExtension(e.name);
window.SECU.File.fileToBase64(e).then(function(a){b.set("encrypt.file.message",a);b.set("encrypt.fileData",{name:e.name,size:h,extension:k})},function(a){window.SECU.Error.show([a])})}else this.set("encrypt.fileData",{name:"",size:"",extension:""}),e[0]&&(this.set("encrypt.rawFile",[]),window.SECU.Error.show(["The file is too big"]))},resetApp:function(a,e){a.original&&a.original.preventDefault();b.reinitApp(e)},requestContainer:function(a,b){a.original&&a.original.preventDefault();var e=this,h=null;
e.set("formDisabled",!0);window.SECU.Ajax.requestContainer(b).then(function(a){a=JSON.parse(a);a.data.hasOwnProperty("text")?"string"===typeof a.data.text?(e.set("decrypt.message",a.data.text),e.set("decrypt.done",!0),a.data.text.length&&setTimeout(function(){window.SECU.Helpers.fixHeight(null,"decrypt")},0)):e.set("decrypt.form.message",JSON.stringify(a.data.text)):a.data.hasOwnProperty("plaintext")?(e.set("decrypt.message",a.data.plaintext),e.set("decrypt.done",!0),a.data.plaintext.length&&setTimeout(function(){window.SECU.Helpers.fixHeight(null,
"decrypt")},0)):e.set("decrypt.form.message",JSON.stringify(a.data));a.data.files&&a.data.files[0]&&(h=a.data.files[0],e.set("decrypt.files.0.name",h.name),e.set("decrypt.files.0.extension",window.SECU.File.getExtension(h.name)),"string"===typeof h.data?(e.set("decrypt.done",!0),e.set("decrypt.files.0.data",window.SECU.File.base64ToBlob(h.data))):e.set("decrypt.fileForm.message",JSON.stringify(h.data)));e.set("decrypt.loaded",!0);e.set("decrypt.formActive",!0);e.set("formDisabled",!1)},function(a){window.SECU.Error.show([a])})},
selectInput:function(a){a.node.select()},copyText:function(a,b){a.original&&a.original.preventDefault();var e=this;window.SECU.Helpers.copyText(document.getElementById(b));this.set("textCopied",!0);setTimeout(function(){e.set("textCopied",!1)},1E3)},createContainer:function(a){a.original&&a.original.preventDefault();window.SECU.Error.hide();if(!this.get("encrypt.form.message").length&&!this.get("encrypt.rawFile").length)return window.SECU.Error.show(["There should be either message or file"]),!1;
this.set("formDisabled",!0);var b=this;a=this.get("encrypt.form.password");var e="",h=[],e=a.length?JSON.parse(window.SECU.Crypt.encrypt(this.get("encrypt.form"))):this.get("encrypt.form.message");this.get("encrypt.rawFile").length&&(a.length?(this.set("encrypt.file.password",a),h.push({data:JSON.parse(window.SECU.Crypt.encrypt(this.get("encrypt.file"))),name:this.get("encrypt.fileData.name")})):h.push({data:this.get("encrypt.file.message"),name:this.get("encrypt.fileData.name")}));window.SECU.Ajax.sendContainer({data:{text:e,
files:h}}).then(function(a){a=JSON.parse(a);b.set("encrypt.link",window.SECU.Ajax._data.url.web.host+window.SECU.Ajax._data.url.web.page+a.hash);b.set("encrypt.formActive",!1);b.set("encrypt.done",!0);b.set("formDisabled",!1);setTimeout(function(){document.getElementById("containerLink").select()},0)},function(a){window.SECU.Error.show([a])})},decryptContainer:function(a){a.original&&a.original.preventDefault();window.SECU.Error.hide();if(!this.get("decrypt.form.password").length)return window.SECU.Error.show(["You must provide a password"]),
!1;a=this.get("decrypt.form.password");this.set("formDisabled",!0);this.set("decrypt.fileForm.password",a);if(this.get("decrypt.form.message").length)try{this.set("decrypt.message",window.SECU.Crypt.decrypt(this.get("decrypt.form")))}catch(b){this.set("decrypt.success",!1)}if(this.get("decrypt.fileForm.message").length)try{this.set("decrypt.files.0.data",window.SECU.File.base64ToBlob(window.SECU.Crypt.decrypt(this.get("decrypt.fileForm"))))}catch(b){this.set("decrypt.success",!1)}this.set("decrypt.fileForm",
{message:"",password:""});this.set("decrypt.form",{message:"",password:""});this.set("decrypt.done",!0);this.set("formDisabled",!1);this.get("decrypt.success")&&this.get("decrypt.message").length&&setTimeout(function(){window.SECU.Helpers.fixHeight(null,"decrypt");setTimeout(function(){document.getElementById("decryptContainerBody").select()},0)},0)}});window.SECU.Helpers.checkLocation();window.SECU.Helpers.checkCopy();window.SECU.Helpers.checkDownload();window.SECU.Helpers.checkDragDrop();window.SECU.Helpers.watchDragDrop();
window.SECU.Helpers.watchScroll();window.SECU.Ajax.assignHost();window.SECU.Socket.init()}};window.SECU.App.init();
